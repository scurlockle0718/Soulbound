(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function r(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=r(a);fetch(a.href,l)}})();var xu={exports:{}},di={},wu={exports:{}},ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wp;function kx(){if(wp)return ge;wp=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.iterator;function w(P){return P===null||typeof P!="object"?null:(P=v&&P[v]||P["@@iterator"],typeof P=="function"?P:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,E={};function A(P,$,he){this.props=P,this.context=$,this.refs=E,this.updater=he||b}A.prototype.isReactComponent={},A.prototype.setState=function(P,$){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,$,"setState")},A.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function k(){}k.prototype=A.prototype;function C(P,$,he){this.props=P,this.context=$,this.refs=E,this.updater=he||b}var N=C.prototype=new k;N.constructor=C,S(N,A.prototype),N.isPureReactComponent=!0;var D=Array.isArray,L=Object.prototype.hasOwnProperty,B={current:null},K={key:!0,ref:!0,__self:!0,__source:!0};function H(P,$,he){var fe,ye={},ve=null,je=null;if($!=null)for(fe in $.ref!==void 0&&(je=$.ref),$.key!==void 0&&(ve=""+$.key),$)L.call($,fe)&&!K.hasOwnProperty(fe)&&(ye[fe]=$[fe]);var be=arguments.length-2;if(be===1)ye.children=he;else if(1<be){for(var Te=Array(be),te=0;te<be;te++)Te[te]=arguments[te+2];ye.children=Te}if(P&&P.defaultProps)for(fe in be=P.defaultProps,be)ye[fe]===void 0&&(ye[fe]=be[fe]);return{$$typeof:t,type:P,key:ve,ref:je,props:ye,_owner:B.current}}function se(P,$){return{$$typeof:t,type:P.type,key:$,ref:P.ref,props:P.props,_owner:P._owner}}function me(P){return typeof P=="object"&&P!==null&&P.$$typeof===t}function _e(P){var $={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(he){return $[he]})}var We=/\/+/g;function de(P,$){return typeof P=="object"&&P!==null&&P.key!=null?_e(""+P.key):$.toString(36)}function He(P,$,he,fe,ye){var ve=typeof P;(ve==="undefined"||ve==="boolean")&&(P=null);var je=!1;if(P===null)je=!0;else switch(ve){case"string":case"number":je=!0;break;case"object":switch(P.$$typeof){case t:case e:je=!0}}if(je)return je=P,ye=ye(je),P=fe===""?"."+de(je,0):fe,D(ye)?(he="",P!=null&&(he=P.replace(We,"$&/")+"/"),He(ye,$,he,"",function(te){return te})):ye!=null&&(me(ye)&&(ye=se(ye,he+(!ye.key||je&&je.key===ye.key?"":(""+ye.key).replace(We,"$&/")+"/")+P)),$.push(ye)),1;if(je=0,fe=fe===""?".":fe+":",D(P))for(var be=0;be<P.length;be++){ve=P[be];var Te=fe+de(ve,be);je+=He(ve,$,he,Te,ye)}else if(Te=w(P),typeof Te=="function")for(P=Te.call(P),be=0;!(ve=P.next()).done;)ve=ve.value,Te=fe+de(ve,be++),je+=He(ve,$,he,Te,ye);else if(ve==="object")throw $=String(P),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.");return je}function Ze(P,$,he){if(P==null)return P;var fe=[],ye=0;return He(P,fe,"","",function(ve){return $.call(he,ve,ye++)}),fe}function et(P){if(P._status===-1){var $=P._result;$=$(),$.then(function(he){(P._status===0||P._status===-1)&&(P._status=1,P._result=he)},function(he){(P._status===0||P._status===-1)&&(P._status=2,P._result=he)}),P._status===-1&&(P._status=0,P._result=$)}if(P._status===1)return P._result.default;throw P._result}var ce={current:null},W={transition:null},Z={ReactCurrentDispatcher:ce,ReactCurrentBatchConfig:W,ReactCurrentOwner:B};function G(){throw Error("act(...) is not supported in production builds of React.")}return ge.Children={map:Ze,forEach:function(P,$,he){Ze(P,function(){$.apply(this,arguments)},he)},count:function(P){var $=0;return Ze(P,function(){$++}),$},toArray:function(P){return Ze(P,function($){return $})||[]},only:function(P){if(!me(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},ge.Component=A,ge.Fragment=r,ge.Profiler=a,ge.PureComponent=C,ge.StrictMode=i,ge.Suspense=p,ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z,ge.act=G,ge.cloneElement=function(P,$,he){if(P==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+P+".");var fe=S({},P.props),ye=P.key,ve=P.ref,je=P._owner;if($!=null){if($.ref!==void 0&&(ve=$.ref,je=B.current),$.key!==void 0&&(ye=""+$.key),P.type&&P.type.defaultProps)var be=P.type.defaultProps;for(Te in $)L.call($,Te)&&!K.hasOwnProperty(Te)&&(fe[Te]=$[Te]===void 0&&be!==void 0?be[Te]:$[Te])}var Te=arguments.length-2;if(Te===1)fe.children=he;else if(1<Te){be=Array(Te);for(var te=0;te<Te;te++)be[te]=arguments[te+2];fe.children=be}return{$$typeof:t,type:P.type,key:ye,ref:ve,props:fe,_owner:je}},ge.createContext=function(P){return P={$$typeof:c,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},P.Provider={$$typeof:l,_context:P},P.Consumer=P},ge.createElement=H,ge.createFactory=function(P){var $=H.bind(null,P);return $.type=P,$},ge.createRef=function(){return{current:null}},ge.forwardRef=function(P){return{$$typeof:f,render:P}},ge.isValidElement=me,ge.lazy=function(P){return{$$typeof:y,_payload:{_status:-1,_result:P},_init:et}},ge.memo=function(P,$){return{$$typeof:g,type:P,compare:$===void 0?null:$}},ge.startTransition=function(P){var $=W.transition;W.transition={};try{P()}finally{W.transition=$}},ge.unstable_act=G,ge.useCallback=function(P,$){return ce.current.useCallback(P,$)},ge.useContext=function(P){return ce.current.useContext(P)},ge.useDebugValue=function(){},ge.useDeferredValue=function(P){return ce.current.useDeferredValue(P)},ge.useEffect=function(P,$){return ce.current.useEffect(P,$)},ge.useId=function(){return ce.current.useId()},ge.useImperativeHandle=function(P,$,he){return ce.current.useImperativeHandle(P,$,he)},ge.useInsertionEffect=function(P,$){return ce.current.useInsertionEffect(P,$)},ge.useLayoutEffect=function(P,$){return ce.current.useLayoutEffect(P,$)},ge.useMemo=function(P,$){return ce.current.useMemo(P,$)},ge.useReducer=function(P,$,he){return ce.current.useReducer(P,$,he)},ge.useRef=function(P){return ce.current.useRef(P)},ge.useState=function(P){return ce.current.useState(P)},ge.useSyncExternalStore=function(P,$,he){return ce.current.useSyncExternalStore(P,$,he)},ge.useTransition=function(){return ce.current.useTransition()},ge.version="18.3.1",ge}var bp;function Oc(){return bp||(bp=1,wu.exports=kx()),wu.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _p;function jx(){if(_p)return di;_p=1;var t=Oc(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,a=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(f,p,g){var y,v={},w=null,b=null;g!==void 0&&(w=""+g),p.key!==void 0&&(w=""+p.key),p.ref!==void 0&&(b=p.ref);for(y in p)i.call(p,y)&&!l.hasOwnProperty(y)&&(v[y]=p[y]);if(f&&f.defaultProps)for(y in p=f.defaultProps,p)v[y]===void 0&&(v[y]=p[y]);return{$$typeof:e,type:f,key:w,ref:b,props:v,_owner:a.current}}return di.Fragment=r,di.jsx=c,di.jsxs=c,di}var Sp;function Nx(){return Sp||(Sp=1,xu.exports=jx()),xu.exports}var d=Nx(),qo={},bu={exports:{}},Et={},_u={exports:{}},Su={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kp;function Tx(){return kp||(kp=1,(function(t){function e(W,Z){var G=W.length;W.push(Z);e:for(;0<G;){var P=G-1>>>1,$=W[P];if(0<a($,Z))W[P]=Z,W[G]=$,G=P;else break e}}function r(W){return W.length===0?null:W[0]}function i(W){if(W.length===0)return null;var Z=W[0],G=W.pop();if(G!==Z){W[0]=G;e:for(var P=0,$=W.length,he=$>>>1;P<he;){var fe=2*(P+1)-1,ye=W[fe],ve=fe+1,je=W[ve];if(0>a(ye,G))ve<$&&0>a(je,ye)?(W[P]=je,W[ve]=G,P=ve):(W[P]=ye,W[fe]=G,P=fe);else if(ve<$&&0>a(je,G))W[P]=je,W[ve]=G,P=ve;else break e}}return Z}function a(W,Z){var G=W.sortIndex-Z.sortIndex;return G!==0?G:W.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();t.unstable_now=function(){return c.now()-f}}var p=[],g=[],y=1,v=null,w=3,b=!1,S=!1,E=!1,A=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(W){for(var Z=r(g);Z!==null;){if(Z.callback===null)i(g);else if(Z.startTime<=W)i(g),Z.sortIndex=Z.expirationTime,e(p,Z);else break;Z=r(g)}}function D(W){if(E=!1,N(W),!S)if(r(p)!==null)S=!0,et(L);else{var Z=r(g);Z!==null&&ce(D,Z.startTime-W)}}function L(W,Z){S=!1,E&&(E=!1,k(H),H=-1),b=!0;var G=w;try{for(N(Z),v=r(p);v!==null&&(!(v.expirationTime>Z)||W&&!_e());){var P=v.callback;if(typeof P=="function"){v.callback=null,w=v.priorityLevel;var $=P(v.expirationTime<=Z);Z=t.unstable_now(),typeof $=="function"?v.callback=$:v===r(p)&&i(p),N(Z)}else i(p);v=r(p)}if(v!==null)var he=!0;else{var fe=r(g);fe!==null&&ce(D,fe.startTime-Z),he=!1}return he}finally{v=null,w=G,b=!1}}var B=!1,K=null,H=-1,se=5,me=-1;function _e(){return!(t.unstable_now()-me<se)}function We(){if(K!==null){var W=t.unstable_now();me=W;var Z=!0;try{Z=K(!0,W)}finally{Z?de():(B=!1,K=null)}}else B=!1}var de;if(typeof C=="function")de=function(){C(We)};else if(typeof MessageChannel<"u"){var He=new MessageChannel,Ze=He.port2;He.port1.onmessage=We,de=function(){Ze.postMessage(null)}}else de=function(){A(We,0)};function et(W){K=W,B||(B=!0,de())}function ce(W,Z){H=A(function(){W(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_continueExecution=function(){S||b||(S=!0,et(L))},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):se=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_getFirstCallbackNode=function(){return r(p)},t.unstable_next=function(W){switch(w){case 1:case 2:case 3:var Z=3;break;default:Z=w}var G=w;w=Z;try{return W()}finally{w=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(W,Z){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var G=w;w=W;try{return Z()}finally{w=G}},t.unstable_scheduleCallback=function(W,Z,G){var P=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?P+G:P):G=P,W){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=G+$,W={id:y++,callback:Z,priorityLevel:W,startTime:G,expirationTime:$,sortIndex:-1},G>P?(W.sortIndex=G,e(g,W),r(p)===null&&W===r(g)&&(E?(k(H),H=-1):E=!0,ce(D,G-P))):(W.sortIndex=$,e(p,W),S||b||(S=!0,et(L))),W},t.unstable_shouldYield=_e,t.unstable_wrapCallback=function(W){var Z=w;return function(){var G=w;w=Z;try{return W.apply(this,arguments)}finally{w=G}}}})(Su)),Su}var jp;function Ex(){return jp||(jp=1,_u.exports=Tx()),_u.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Np;function Cx(){if(Np)return Et;Np=1;var t=Oc(),e=Ex();function r(n){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+n,o=1;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,a={};function l(n,s){c(n,s),c(n+"Capture",s)}function c(n,s){for(a[n]=s,n=0;n<s.length;n++)i.add(s[n])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},v={};function w(n){return p.call(v,n)?!0:p.call(y,n)?!1:g.test(n)?v[n]=!0:(y[n]=!0,!1)}function b(n,s,o,u){if(o!==null&&o.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return u?!1:o!==null?!o.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function S(n,s,o,u){if(s===null||typeof s>"u"||b(n,s,o,u))return!0;if(u)return!1;if(o!==null)switch(o.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function E(n,s,o,u,h,m,x){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=u,this.attributeNamespace=h,this.mustUseProperty=o,this.propertyName=n,this.type=s,this.sanitizeURL=m,this.removeEmptyString=x}var A={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){A[n]=new E(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var s=n[0];A[s]=new E(s,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){A[n]=new E(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){A[n]=new E(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){A[n]=new E(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){A[n]=new E(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){A[n]=new E(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){A[n]=new E(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){A[n]=new E(n,5,!1,n.toLowerCase(),null,!1,!1)});var k=/[\-:]([a-z])/g;function C(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var s=n.replace(k,C);A[s]=new E(s,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var s=n.replace(k,C);A[s]=new E(s,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var s=n.replace(k,C);A[s]=new E(s,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){A[n]=new E(n,1,!1,n.toLowerCase(),null,!1,!1)}),A.xlinkHref=new E("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){A[n]=new E(n,1,!1,n.toLowerCase(),null,!0,!0)});function N(n,s,o,u){var h=A.hasOwnProperty(s)?A[s]:null;(h!==null?h.type!==0:u||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(S(s,o,h,u)&&(o=null),u||h===null?w(s)&&(o===null?n.removeAttribute(s):n.setAttribute(s,""+o)):h.mustUseProperty?n[h.propertyName]=o===null?h.type===3?!1:"":o:(s=h.attributeName,u=h.attributeNamespace,o===null?n.removeAttribute(s):(h=h.type,o=h===3||h===4&&o===!0?"":""+o,u?n.setAttributeNS(u,s,o):n.setAttribute(s,o))))}var D=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,L=Symbol.for("react.element"),B=Symbol.for("react.portal"),K=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),se=Symbol.for("react.profiler"),me=Symbol.for("react.provider"),_e=Symbol.for("react.context"),We=Symbol.for("react.forward_ref"),de=Symbol.for("react.suspense"),He=Symbol.for("react.suspense_list"),Ze=Symbol.for("react.memo"),et=Symbol.for("react.lazy"),ce=Symbol.for("react.offscreen"),W=Symbol.iterator;function Z(n){return n===null||typeof n!="object"?null:(n=W&&n[W]||n["@@iterator"],typeof n=="function"?n:null)}var G=Object.assign,P;function $(n){if(P===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);P=s&&s[1]||""}return`
`+P+n}var he=!1;function fe(n,s){if(!n||he)return"";he=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(I){var u=I}Reflect.construct(n,[],s)}else{try{s.call()}catch(I){u=I}n.call(s.prototype)}else{try{throw Error()}catch(I){u=I}n()}}catch(I){if(I&&u&&typeof I.stack=="string"){for(var h=I.stack.split(`
`),m=u.stack.split(`
`),x=h.length-1,_=m.length-1;1<=x&&0<=_&&h[x]!==m[_];)_--;for(;1<=x&&0<=_;x--,_--)if(h[x]!==m[_]){if(x!==1||_!==1)do if(x--,_--,0>_||h[x]!==m[_]){var j=`
`+h[x].replace(" at new "," at ");return n.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",n.displayName)),j}while(1<=x&&0<=_);break}}}finally{he=!1,Error.prepareStackTrace=o}return(n=n?n.displayName||n.name:"")?$(n):""}function ye(n){switch(n.tag){case 5:return $(n.type);case 16:return $("Lazy");case 13:return $("Suspense");case 19:return $("SuspenseList");case 0:case 2:case 15:return n=fe(n.type,!1),n;case 11:return n=fe(n.type.render,!1),n;case 1:return n=fe(n.type,!0),n;default:return""}}function ve(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case K:return"Fragment";case B:return"Portal";case se:return"Profiler";case H:return"StrictMode";case de:return"Suspense";case He:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case _e:return(n.displayName||"Context")+".Consumer";case me:return(n._context.displayName||"Context")+".Provider";case We:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Ze:return s=n.displayName||null,s!==null?s:ve(n.type)||"Memo";case et:s=n._payload,n=n._init;try{return ve(n(s))}catch{}}return null}function je(n){var s=n.type;switch(n.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=s.render,n=n.displayName||n.name||"",s.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ve(s);case 8:return s===H?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function be(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Te(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function te(n){var s=Te(n)?"checked":"value",o=Object.getOwnPropertyDescriptor(n.constructor.prototype,s),u=""+n[s];if(!n.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,m=o.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return h.call(this)},set:function(x){u=""+x,m.call(this,x)}}),Object.defineProperty(n,s,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(x){u=""+x},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function Ne(n){n._valueTracker||(n._valueTracker=te(n))}function Se(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return n&&(u=Te(n)?n.checked?"true":"false":n.value),n=u,n!==o?(s.setValue(n),!0):!1}function pe(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Oe(n,s){var o=s.checked;return G({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??n._wrapperState.initialChecked})}function lt(n,s){var o=s.defaultValue==null?"":s.defaultValue,u=s.checked!=null?s.checked:s.defaultChecked;o=be(s.value!=null?s.value:o),n._wrapperState={initialChecked:u,initialValue:o,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Ee(n,s){s=s.checked,s!=null&&N(n,"checked",s,!1)}function $t(n,s){Ee(n,s);var o=be(s.value),u=s.type;if(o!=null)u==="number"?(o===0&&n.value===""||n.value!=o)&&(n.value=""+o):n.value!==""+o&&(n.value=""+o);else if(u==="submit"||u==="reset"){n.removeAttribute("value");return}s.hasOwnProperty("value")?Ie(n,s.type,o):s.hasOwnProperty("defaultValue")&&Ie(n,s.type,be(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(n.defaultChecked=!!s.defaultChecked)}function pt(n,s,o){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var u=s.type;if(!(u!=="submit"&&u!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+n._wrapperState.initialValue,o||s===n.value||(n.value=s),n.defaultValue=s}o=n.name,o!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,o!==""&&(n.name=o)}function Ie(n,s,o){(s!=="number"||pe(n.ownerDocument)!==n)&&(o==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+o&&(n.defaultValue=""+o))}var qt=Array.isArray;function qe(n,s,o,u){if(n=n.options,s){s={};for(var h=0;h<o.length;h++)s["$"+o[h]]=!0;for(o=0;o<n.length;o++)h=s.hasOwnProperty("$"+n[o].value),n[o].selected!==h&&(n[o].selected=h),h&&u&&(n[o].defaultSelected=!0)}else{for(o=""+be(o),s=null,h=0;h<n.length;h++){if(n[h].value===o){n[h].selected=!0,u&&(n[h].defaultSelected=!0);return}s!==null||n[h].disabled||(s=n[h])}s!==null&&(s.selected=!0)}}function Ns(n,s){if(s.dangerouslySetInnerHTML!=null)throw Error(r(91));return G({},s,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function Cd(n,s){var o=s.value;if(o==null){if(o=s.children,s=s.defaultValue,o!=null){if(s!=null)throw Error(r(92));if(qt(o)){if(1<o.length)throw Error(r(93));o=o[0]}s=o}s==null&&(s=""),o=s}n._wrapperState={initialValue:be(o)}}function Pd(n,s){var o=be(s.value),u=be(s.defaultValue);o!=null&&(o=""+o,o!==n.value&&(n.value=o),s.defaultValue==null&&n.defaultValue!==o&&(n.defaultValue=o)),u!=null&&(n.defaultValue=""+u)}function Ad(n){var s=n.textContent;s===n._wrapperState.initialValue&&s!==""&&s!==null&&(n.value=s)}function Rd(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Pa(n,s){return n==null||n==="http://www.w3.org/1999/xhtml"?Rd(s):n==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Ui,Od=(function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,o,u,h){MSApp.execUnsafeLocalFunction(function(){return n(s,o,u,h)})}:n})(function(n,s){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=s;else{for(Ui=Ui||document.createElement("div"),Ui.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Ui.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;s.firstChild;)n.appendChild(s.firstChild)}});function Ts(n,s){if(s){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=s;return}}n.textContent=s}var Es={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ev=["Webkit","ms","Moz","O"];Object.keys(Es).forEach(function(n){Ev.forEach(function(s){s=s+n.charAt(0).toUpperCase()+n.substring(1),Es[s]=Es[n]})});function Id(n,s,o){return s==null||typeof s=="boolean"||s===""?"":o||typeof s!="number"||s===0||Es.hasOwnProperty(n)&&Es[n]?(""+s).trim():s+"px"}function Md(n,s){n=n.style;for(var o in s)if(s.hasOwnProperty(o)){var u=o.indexOf("--")===0,h=Id(o,s[o],u);o==="float"&&(o="cssFloat"),u?n.setProperty(o,h):n[o]=h}}var Cv=G({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Aa(n,s){if(s){if(Cv[n]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(r(137,n));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(r(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(r(61))}if(s.style!=null&&typeof s.style!="object")throw Error(r(62))}}function Ra(n,s){if(n.indexOf("-")===-1)return typeof s.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Oa=null;function Ia(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Ma=null,Pr=null,Ar=null;function Dd(n){if(n=Qs(n)){if(typeof Ma!="function")throw Error(r(280));var s=n.stateNode;s&&(s=lo(s),Ma(n.stateNode,n.type,s))}}function Ld(n){Pr?Ar?Ar.push(n):Ar=[n]:Pr=n}function $d(){if(Pr){var n=Pr,s=Ar;if(Ar=Pr=null,Dd(n),s)for(n=0;n<s.length;n++)Dd(s[n])}}function Ud(n,s){return n(s)}function Vd(){}var Da=!1;function Fd(n,s,o){if(Da)return n(s,o);Da=!0;try{return Ud(n,s,o)}finally{Da=!1,(Pr!==null||Ar!==null)&&(Vd(),$d())}}function Cs(n,s){var o=n.stateNode;if(o===null)return null;var u=lo(o);if(u===null)return null;o=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(r(231,s,typeof o));return o}var La=!1;if(f)try{var Ps={};Object.defineProperty(Ps,"passive",{get:function(){La=!0}}),window.addEventListener("test",Ps,Ps),window.removeEventListener("test",Ps,Ps)}catch{La=!1}function Pv(n,s,o,u,h,m,x,_,j){var I=Array.prototype.slice.call(arguments,3);try{s.apply(o,I)}catch(V){this.onError(V)}}var As=!1,Vi=null,Fi=!1,$a=null,Av={onError:function(n){As=!0,Vi=n}};function Rv(n,s,o,u,h,m,x,_,j){As=!1,Vi=null,Pv.apply(Av,arguments)}function Ov(n,s,o,u,h,m,x,_,j){if(Rv.apply(this,arguments),As){if(As){var I=Vi;As=!1,Vi=null}else throw Error(r(198));Fi||(Fi=!0,$a=I)}}function rr(n){var s=n,o=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(o=s.return),n=s.return;while(n)}return s.tag===3?o:null}function Bd(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function zd(n){if(rr(n)!==n)throw Error(r(188))}function Iv(n){var s=n.alternate;if(!s){if(s=rr(n),s===null)throw Error(r(188));return s!==n?null:n}for(var o=n,u=s;;){var h=o.return;if(h===null)break;var m=h.alternate;if(m===null){if(u=h.return,u!==null){o=u;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===o)return zd(h),n;if(m===u)return zd(h),s;m=m.sibling}throw Error(r(188))}if(o.return!==u.return)o=h,u=m;else{for(var x=!1,_=h.child;_;){if(_===o){x=!0,o=h,u=m;break}if(_===u){x=!0,u=h,o=m;break}_=_.sibling}if(!x){for(_=m.child;_;){if(_===o){x=!0,o=m,u=h;break}if(_===u){x=!0,u=m,o=h;break}_=_.sibling}if(!x)throw Error(r(189))}}if(o.alternate!==u)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?n:s}function Wd(n){return n=Iv(n),n!==null?Hd(n):null}function Hd(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var s=Hd(n);if(s!==null)return s;n=n.sibling}return null}var Kd=e.unstable_scheduleCallback,Gd=e.unstable_cancelCallback,Mv=e.unstable_shouldYield,Dv=e.unstable_requestPaint,Ke=e.unstable_now,Lv=e.unstable_getCurrentPriorityLevel,Ua=e.unstable_ImmediatePriority,qd=e.unstable_UserBlockingPriority,Bi=e.unstable_NormalPriority,$v=e.unstable_LowPriority,Jd=e.unstable_IdlePriority,zi=null,un=null;function Uv(n){if(un&&typeof un.onCommitFiberRoot=="function")try{un.onCommitFiberRoot(zi,n,void 0,(n.current.flags&128)===128)}catch{}}var Jt=Math.clz32?Math.clz32:Bv,Vv=Math.log,Fv=Math.LN2;function Bv(n){return n>>>=0,n===0?32:31-(Vv(n)/Fv|0)|0}var Wi=64,Hi=4194304;function Rs(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Ki(n,s){var o=n.pendingLanes;if(o===0)return 0;var u=0,h=n.suspendedLanes,m=n.pingedLanes,x=o&268435455;if(x!==0){var _=x&~h;_!==0?u=Rs(_):(m&=x,m!==0&&(u=Rs(m)))}else x=o&~h,x!==0?u=Rs(x):m!==0&&(u=Rs(m));if(u===0)return 0;if(s!==0&&s!==u&&(s&h)===0&&(h=u&-u,m=s&-s,h>=m||h===16&&(m&4194240)!==0))return s;if((u&4)!==0&&(u|=o&16),s=n.entangledLanes,s!==0)for(n=n.entanglements,s&=u;0<s;)o=31-Jt(s),h=1<<o,u|=n[o],s&=~h;return u}function zv(n,s){switch(n){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wv(n,s){for(var o=n.suspendedLanes,u=n.pingedLanes,h=n.expirationTimes,m=n.pendingLanes;0<m;){var x=31-Jt(m),_=1<<x,j=h[x];j===-1?((_&o)===0||(_&u)!==0)&&(h[x]=zv(_,s)):j<=s&&(n.expiredLanes|=_),m&=~_}}function Va(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Qd(){var n=Wi;return Wi<<=1,(Wi&4194240)===0&&(Wi=64),n}function Fa(n){for(var s=[],o=0;31>o;o++)s.push(n);return s}function Os(n,s,o){n.pendingLanes|=s,s!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,s=31-Jt(s),n[s]=o}function Hv(n,s){var o=n.pendingLanes&~s;n.pendingLanes=s,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=s,n.mutableReadLanes&=s,n.entangledLanes&=s,s=n.entanglements;var u=n.eventTimes;for(n=n.expirationTimes;0<o;){var h=31-Jt(o),m=1<<h;s[h]=0,u[h]=-1,n[h]=-1,o&=~m}}function Ba(n,s){var o=n.entangledLanes|=s;for(n=n.entanglements;o;){var u=31-Jt(o),h=1<<u;h&s|n[u]&s&&(n[u]|=s),o&=~h}}var ke=0;function Yd(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var Xd,za,Zd,eh,th,Wa=!1,Gi=[],En=null,Cn=null,Pn=null,Is=new Map,Ms=new Map,An=[],Kv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function nh(n,s){switch(n){case"focusin":case"focusout":En=null;break;case"dragenter":case"dragleave":Cn=null;break;case"mouseover":case"mouseout":Pn=null;break;case"pointerover":case"pointerout":Is.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ms.delete(s.pointerId)}}function Ds(n,s,o,u,h,m){return n===null||n.nativeEvent!==m?(n={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:m,targetContainers:[h]},s!==null&&(s=Qs(s),s!==null&&za(s)),n):(n.eventSystemFlags|=u,s=n.targetContainers,h!==null&&s.indexOf(h)===-1&&s.push(h),n)}function Gv(n,s,o,u,h){switch(s){case"focusin":return En=Ds(En,n,s,o,u,h),!0;case"dragenter":return Cn=Ds(Cn,n,s,o,u,h),!0;case"mouseover":return Pn=Ds(Pn,n,s,o,u,h),!0;case"pointerover":var m=h.pointerId;return Is.set(m,Ds(Is.get(m)||null,n,s,o,u,h)),!0;case"gotpointercapture":return m=h.pointerId,Ms.set(m,Ds(Ms.get(m)||null,n,s,o,u,h)),!0}return!1}function rh(n){var s=sr(n.target);if(s!==null){var o=rr(s);if(o!==null){if(s=o.tag,s===13){if(s=Bd(o),s!==null){n.blockedOn=s,th(n.priority,function(){Zd(o)});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function qi(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var o=Ka(n.domEventName,n.eventSystemFlags,s[0],n.nativeEvent);if(o===null){o=n.nativeEvent;var u=new o.constructor(o.type,o);Oa=u,o.target.dispatchEvent(u),Oa=null}else return s=Qs(o),s!==null&&za(s),n.blockedOn=o,!1;s.shift()}return!0}function sh(n,s,o){qi(n)&&o.delete(s)}function qv(){Wa=!1,En!==null&&qi(En)&&(En=null),Cn!==null&&qi(Cn)&&(Cn=null),Pn!==null&&qi(Pn)&&(Pn=null),Is.forEach(sh),Ms.forEach(sh)}function Ls(n,s){n.blockedOn===s&&(n.blockedOn=null,Wa||(Wa=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,qv)))}function $s(n){function s(h){return Ls(h,n)}if(0<Gi.length){Ls(Gi[0],n);for(var o=1;o<Gi.length;o++){var u=Gi[o];u.blockedOn===n&&(u.blockedOn=null)}}for(En!==null&&Ls(En,n),Cn!==null&&Ls(Cn,n),Pn!==null&&Ls(Pn,n),Is.forEach(s),Ms.forEach(s),o=0;o<An.length;o++)u=An[o],u.blockedOn===n&&(u.blockedOn=null);for(;0<An.length&&(o=An[0],o.blockedOn===null);)rh(o),o.blockedOn===null&&An.shift()}var Rr=D.ReactCurrentBatchConfig,Ji=!0;function Jv(n,s,o,u){var h=ke,m=Rr.transition;Rr.transition=null;try{ke=1,Ha(n,s,o,u)}finally{ke=h,Rr.transition=m}}function Qv(n,s,o,u){var h=ke,m=Rr.transition;Rr.transition=null;try{ke=4,Ha(n,s,o,u)}finally{ke=h,Rr.transition=m}}function Ha(n,s,o,u){if(Ji){var h=Ka(n,s,o,u);if(h===null)ul(n,s,u,Qi,o),nh(n,u);else if(Gv(h,n,s,o,u))u.stopPropagation();else if(nh(n,u),s&4&&-1<Kv.indexOf(n)){for(;h!==null;){var m=Qs(h);if(m!==null&&Xd(m),m=Ka(n,s,o,u),m===null&&ul(n,s,u,Qi,o),m===h)break;h=m}h!==null&&u.stopPropagation()}else ul(n,s,u,null,o)}}var Qi=null;function Ka(n,s,o,u){if(Qi=null,n=Ia(u),n=sr(n),n!==null)if(s=rr(n),s===null)n=null;else if(o=s.tag,o===13){if(n=Bd(s),n!==null)return n;n=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null);return Qi=n,null}function ih(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Lv()){case Ua:return 1;case qd:return 4;case Bi:case $v:return 16;case Jd:return 536870912;default:return 16}default:return 16}}var Rn=null,Ga=null,Yi=null;function oh(){if(Yi)return Yi;var n,s=Ga,o=s.length,u,h="value"in Rn?Rn.value:Rn.textContent,m=h.length;for(n=0;n<o&&s[n]===h[n];n++);var x=o-n;for(u=1;u<=x&&s[o-u]===h[m-u];u++);return Yi=h.slice(n,1<u?1-u:void 0)}function Xi(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function Zi(){return!0}function ah(){return!1}function Pt(n){function s(o,u,h,m,x){this._reactName=o,this._targetInst=h,this.type=u,this.nativeEvent=m,this.target=x,this.currentTarget=null;for(var _ in n)n.hasOwnProperty(_)&&(o=n[_],this[_]=o?o(m):m[_]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Zi:ah,this.isPropagationStopped=ah,this}return G(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Zi)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Zi)},persist:function(){},isPersistent:Zi}),s}var Or={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qa=Pt(Or),Us=G({},Or,{view:0,detail:0}),Yv=Pt(Us),Ja,Qa,Vs,eo=G({},Us,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xa,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Vs&&(Vs&&n.type==="mousemove"?(Ja=n.screenX-Vs.screenX,Qa=n.screenY-Vs.screenY):Qa=Ja=0,Vs=n),Ja)},movementY:function(n){return"movementY"in n?n.movementY:Qa}}),lh=Pt(eo),Xv=G({},eo,{dataTransfer:0}),Zv=Pt(Xv),e0=G({},Us,{relatedTarget:0}),Ya=Pt(e0),t0=G({},Or,{animationName:0,elapsedTime:0,pseudoElement:0}),n0=Pt(t0),r0=G({},Or,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),s0=Pt(r0),i0=G({},Or,{data:0}),uh=Pt(i0),o0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},a0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},l0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function u0(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=l0[n])?!!s[n]:!1}function Xa(){return u0}var c0=G({},Us,{key:function(n){if(n.key){var s=o0[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=Xi(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?a0[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xa,charCode:function(n){return n.type==="keypress"?Xi(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Xi(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),d0=Pt(c0),h0=G({},eo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ch=Pt(h0),f0=G({},Us,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xa}),p0=Pt(f0),m0=G({},Or,{propertyName:0,elapsedTime:0,pseudoElement:0}),g0=Pt(m0),y0=G({},eo,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),v0=Pt(y0),x0=[9,13,27,32],Za=f&&"CompositionEvent"in window,Fs=null;f&&"documentMode"in document&&(Fs=document.documentMode);var w0=f&&"TextEvent"in window&&!Fs,dh=f&&(!Za||Fs&&8<Fs&&11>=Fs),hh=" ",fh=!1;function ph(n,s){switch(n){case"keyup":return x0.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mh(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ir=!1;function b0(n,s){switch(n){case"compositionend":return mh(s);case"keypress":return s.which!==32?null:(fh=!0,hh);case"textInput":return n=s.data,n===hh&&fh?null:n;default:return null}}function _0(n,s){if(Ir)return n==="compositionend"||!Za&&ph(n,s)?(n=oh(),Yi=Ga=Rn=null,Ir=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return dh&&s.locale!=="ko"?null:s.data;default:return null}}var S0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gh(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!S0[n.type]:s==="textarea"}function yh(n,s,o,u){Ld(u),s=io(s,"onChange"),0<s.length&&(o=new qa("onChange","change",null,o,u),n.push({event:o,listeners:s}))}var Bs=null,zs=null;function k0(n){Mh(n,0)}function to(n){var s=Ur(n);if(Se(s))return n}function j0(n,s){if(n==="change")return s}var vh=!1;if(f){var el;if(f){var tl="oninput"in document;if(!tl){var xh=document.createElement("div");xh.setAttribute("oninput","return;"),tl=typeof xh.oninput=="function"}el=tl}else el=!1;vh=el&&(!document.documentMode||9<document.documentMode)}function wh(){Bs&&(Bs.detachEvent("onpropertychange",bh),zs=Bs=null)}function bh(n){if(n.propertyName==="value"&&to(zs)){var s=[];yh(s,zs,n,Ia(n)),Fd(k0,s)}}function N0(n,s,o){n==="focusin"?(wh(),Bs=s,zs=o,Bs.attachEvent("onpropertychange",bh)):n==="focusout"&&wh()}function T0(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return to(zs)}function E0(n,s){if(n==="click")return to(s)}function C0(n,s){if(n==="input"||n==="change")return to(s)}function P0(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var Qt=typeof Object.is=="function"?Object.is:P0;function Ws(n,s){if(Qt(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var o=Object.keys(n),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var h=o[u];if(!p.call(s,h)||!Qt(n[h],s[h]))return!1}return!0}function _h(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Sh(n,s){var o=_h(n);n=0;for(var u;o;){if(o.nodeType===3){if(u=n+o.textContent.length,n<=s&&u>=s)return{node:o,offset:s-n};n=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=_h(o)}}function kh(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?kh(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function jh(){for(var n=window,s=pe();s instanceof n.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)n=s.contentWindow;else break;s=pe(n.document)}return s}function nl(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}function A0(n){var s=jh(),o=n.focusedElem,u=n.selectionRange;if(s!==o&&o&&o.ownerDocument&&kh(o.ownerDocument.documentElement,o)){if(u!==null&&nl(o)){if(s=u.start,n=u.end,n===void 0&&(n=s),"selectionStart"in o)o.selectionStart=s,o.selectionEnd=Math.min(n,o.value.length);else if(n=(s=o.ownerDocument||document)&&s.defaultView||window,n.getSelection){n=n.getSelection();var h=o.textContent.length,m=Math.min(u.start,h);u=u.end===void 0?m:Math.min(u.end,h),!n.extend&&m>u&&(h=u,u=m,m=h),h=Sh(o,m);var x=Sh(o,u);h&&x&&(n.rangeCount!==1||n.anchorNode!==h.node||n.anchorOffset!==h.offset||n.focusNode!==x.node||n.focusOffset!==x.offset)&&(s=s.createRange(),s.setStart(h.node,h.offset),n.removeAllRanges(),m>u?(n.addRange(s),n.extend(x.node,x.offset)):(s.setEnd(x.node,x.offset),n.addRange(s)))}}for(s=[],n=o;n=n.parentNode;)n.nodeType===1&&s.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<s.length;o++)n=s[o],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var R0=f&&"documentMode"in document&&11>=document.documentMode,Mr=null,rl=null,Hs=null,sl=!1;function Nh(n,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;sl||Mr==null||Mr!==pe(u)||(u=Mr,"selectionStart"in u&&nl(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Hs&&Ws(Hs,u)||(Hs=u,u=io(rl,"onSelect"),0<u.length&&(s=new qa("onSelect","select",null,s,o),n.push({event:s,listeners:u}),s.target=Mr)))}function no(n,s){var o={};return o[n.toLowerCase()]=s.toLowerCase(),o["Webkit"+n]="webkit"+s,o["Moz"+n]="moz"+s,o}var Dr={animationend:no("Animation","AnimationEnd"),animationiteration:no("Animation","AnimationIteration"),animationstart:no("Animation","AnimationStart"),transitionend:no("Transition","TransitionEnd")},il={},Th={};f&&(Th=document.createElement("div").style,"AnimationEvent"in window||(delete Dr.animationend.animation,delete Dr.animationiteration.animation,delete Dr.animationstart.animation),"TransitionEvent"in window||delete Dr.transitionend.transition);function ro(n){if(il[n])return il[n];if(!Dr[n])return n;var s=Dr[n],o;for(o in s)if(s.hasOwnProperty(o)&&o in Th)return il[n]=s[o];return n}var Eh=ro("animationend"),Ch=ro("animationiteration"),Ph=ro("animationstart"),Ah=ro("transitionend"),Rh=new Map,Oh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function On(n,s){Rh.set(n,s),l(s,[n])}for(var ol=0;ol<Oh.length;ol++){var al=Oh[ol],O0=al.toLowerCase(),I0=al[0].toUpperCase()+al.slice(1);On(O0,"on"+I0)}On(Eh,"onAnimationEnd"),On(Ch,"onAnimationIteration"),On(Ph,"onAnimationStart"),On("dblclick","onDoubleClick"),On("focusin","onFocus"),On("focusout","onBlur"),On(Ah,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ks="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),M0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ks));function Ih(n,s,o){var u=n.type||"unknown-event";n.currentTarget=o,Ov(u,s,void 0,n),n.currentTarget=null}function Mh(n,s){s=(s&4)!==0;for(var o=0;o<n.length;o++){var u=n[o],h=u.event;u=u.listeners;e:{var m=void 0;if(s)for(var x=u.length-1;0<=x;x--){var _=u[x],j=_.instance,I=_.currentTarget;if(_=_.listener,j!==m&&h.isPropagationStopped())break e;Ih(h,_,I),m=j}else for(x=0;x<u.length;x++){if(_=u[x],j=_.instance,I=_.currentTarget,_=_.listener,j!==m&&h.isPropagationStopped())break e;Ih(h,_,I),m=j}}}if(Fi)throw n=$a,Fi=!1,$a=null,n}function Ae(n,s){var o=s[ml];o===void 0&&(o=s[ml]=new Set);var u=n+"__bubble";o.has(u)||(Dh(s,n,2,!1),o.add(u))}function ll(n,s,o){var u=0;s&&(u|=4),Dh(o,n,u,s)}var so="_reactListening"+Math.random().toString(36).slice(2);function Gs(n){if(!n[so]){n[so]=!0,i.forEach(function(o){o!=="selectionchange"&&(M0.has(o)||ll(o,!1,n),ll(o,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[so]||(s[so]=!0,ll("selectionchange",!1,s))}}function Dh(n,s,o,u){switch(ih(s)){case 1:var h=Jv;break;case 4:h=Qv;break;default:h=Ha}o=h.bind(null,s,o,n),h=void 0,!La||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(h=!0),u?h!==void 0?n.addEventListener(s,o,{capture:!0,passive:h}):n.addEventListener(s,o,!0):h!==void 0?n.addEventListener(s,o,{passive:h}):n.addEventListener(s,o,!1)}function ul(n,s,o,u,h){var m=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var x=u.tag;if(x===3||x===4){var _=u.stateNode.containerInfo;if(_===h||_.nodeType===8&&_.parentNode===h)break;if(x===4)for(x=u.return;x!==null;){var j=x.tag;if((j===3||j===4)&&(j=x.stateNode.containerInfo,j===h||j.nodeType===8&&j.parentNode===h))return;x=x.return}for(;_!==null;){if(x=sr(_),x===null)return;if(j=x.tag,j===5||j===6){u=m=x;continue e}_=_.parentNode}}u=u.return}Fd(function(){var I=m,V=Ia(o),F=[];e:{var U=Rh.get(n);if(U!==void 0){var q=qa,Q=n;switch(n){case"keypress":if(Xi(o)===0)break e;case"keydown":case"keyup":q=d0;break;case"focusin":Q="focus",q=Ya;break;case"focusout":Q="blur",q=Ya;break;case"beforeblur":case"afterblur":q=Ya;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=lh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=Zv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=p0;break;case Eh:case Ch:case Ph:q=n0;break;case Ah:q=g0;break;case"scroll":q=Yv;break;case"wheel":q=v0;break;case"copy":case"cut":case"paste":q=s0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=ch}var Y=(s&4)!==0,Ge=!Y&&n==="scroll",R=Y?U!==null?U+"Capture":null:U;Y=[];for(var T=I,O;T!==null;){O=T;var z=O.stateNode;if(O.tag===5&&z!==null&&(O=z,R!==null&&(z=Cs(T,R),z!=null&&Y.push(qs(T,z,O)))),Ge)break;T=T.return}0<Y.length&&(U=new q(U,Q,null,o,V),F.push({event:U,listeners:Y}))}}if((s&7)===0){e:{if(U=n==="mouseover"||n==="pointerover",q=n==="mouseout"||n==="pointerout",U&&o!==Oa&&(Q=o.relatedTarget||o.fromElement)&&(sr(Q)||Q[gn]))break e;if((q||U)&&(U=V.window===V?V:(U=V.ownerDocument)?U.defaultView||U.parentWindow:window,q?(Q=o.relatedTarget||o.toElement,q=I,Q=Q?sr(Q):null,Q!==null&&(Ge=rr(Q),Q!==Ge||Q.tag!==5&&Q.tag!==6)&&(Q=null)):(q=null,Q=I),q!==Q)){if(Y=lh,z="onMouseLeave",R="onMouseEnter",T="mouse",(n==="pointerout"||n==="pointerover")&&(Y=ch,z="onPointerLeave",R="onPointerEnter",T="pointer"),Ge=q==null?U:Ur(q),O=Q==null?U:Ur(Q),U=new Y(z,T+"leave",q,o,V),U.target=Ge,U.relatedTarget=O,z=null,sr(V)===I&&(Y=new Y(R,T+"enter",Q,o,V),Y.target=O,Y.relatedTarget=Ge,z=Y),Ge=z,q&&Q)t:{for(Y=q,R=Q,T=0,O=Y;O;O=Lr(O))T++;for(O=0,z=R;z;z=Lr(z))O++;for(;0<T-O;)Y=Lr(Y),T--;for(;0<O-T;)R=Lr(R),O--;for(;T--;){if(Y===R||R!==null&&Y===R.alternate)break t;Y=Lr(Y),R=Lr(R)}Y=null}else Y=null;q!==null&&Lh(F,U,q,Y,!1),Q!==null&&Ge!==null&&Lh(F,Ge,Q,Y,!0)}}e:{if(U=I?Ur(I):window,q=U.nodeName&&U.nodeName.toLowerCase(),q==="select"||q==="input"&&U.type==="file")var X=j0;else if(gh(U))if(vh)X=C0;else{X=T0;var ne=N0}else(q=U.nodeName)&&q.toLowerCase()==="input"&&(U.type==="checkbox"||U.type==="radio")&&(X=E0);if(X&&(X=X(n,I))){yh(F,X,o,V);break e}ne&&ne(n,U,I),n==="focusout"&&(ne=U._wrapperState)&&ne.controlled&&U.type==="number"&&Ie(U,"number",U.value)}switch(ne=I?Ur(I):window,n){case"focusin":(gh(ne)||ne.contentEditable==="true")&&(Mr=ne,rl=I,Hs=null);break;case"focusout":Hs=rl=Mr=null;break;case"mousedown":sl=!0;break;case"contextmenu":case"mouseup":case"dragend":sl=!1,Nh(F,o,V);break;case"selectionchange":if(R0)break;case"keydown":case"keyup":Nh(F,o,V)}var re;if(Za)e:{switch(n){case"compositionstart":var le="onCompositionStart";break e;case"compositionend":le="onCompositionEnd";break e;case"compositionupdate":le="onCompositionUpdate";break e}le=void 0}else Ir?ph(n,o)&&(le="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(le="onCompositionStart");le&&(dh&&o.locale!=="ko"&&(Ir||le!=="onCompositionStart"?le==="onCompositionEnd"&&Ir&&(re=oh()):(Rn=V,Ga="value"in Rn?Rn.value:Rn.textContent,Ir=!0)),ne=io(I,le),0<ne.length&&(le=new uh(le,n,null,o,V),F.push({event:le,listeners:ne}),re?le.data=re:(re=mh(o),re!==null&&(le.data=re)))),(re=w0?b0(n,o):_0(n,o))&&(I=io(I,"onBeforeInput"),0<I.length&&(V=new uh("onBeforeInput","beforeinput",null,o,V),F.push({event:V,listeners:I}),V.data=re))}Mh(F,s)})}function qs(n,s,o){return{instance:n,listener:s,currentTarget:o}}function io(n,s){for(var o=s+"Capture",u=[];n!==null;){var h=n,m=h.stateNode;h.tag===5&&m!==null&&(h=m,m=Cs(n,o),m!=null&&u.unshift(qs(n,m,h)),m=Cs(n,s),m!=null&&u.push(qs(n,m,h))),n=n.return}return u}function Lr(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Lh(n,s,o,u,h){for(var m=s._reactName,x=[];o!==null&&o!==u;){var _=o,j=_.alternate,I=_.stateNode;if(j!==null&&j===u)break;_.tag===5&&I!==null&&(_=I,h?(j=Cs(o,m),j!=null&&x.unshift(qs(o,j,_))):h||(j=Cs(o,m),j!=null&&x.push(qs(o,j,_)))),o=o.return}x.length!==0&&n.push({event:s,listeners:x})}var D0=/\r\n?/g,L0=/\u0000|\uFFFD/g;function $h(n){return(typeof n=="string"?n:""+n).replace(D0,`
`).replace(L0,"")}function oo(n,s,o){if(s=$h(s),$h(n)!==s&&o)throw Error(r(425))}function ao(){}var cl=null,dl=null;function hl(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var fl=typeof setTimeout=="function"?setTimeout:void 0,$0=typeof clearTimeout=="function"?clearTimeout:void 0,Uh=typeof Promise=="function"?Promise:void 0,U0=typeof queueMicrotask=="function"?queueMicrotask:typeof Uh<"u"?function(n){return Uh.resolve(null).then(n).catch(V0)}:fl;function V0(n){setTimeout(function(){throw n})}function pl(n,s){var o=s,u=0;do{var h=o.nextSibling;if(n.removeChild(o),h&&h.nodeType===8)if(o=h.data,o==="/$"){if(u===0){n.removeChild(h),$s(s);return}u--}else o!=="$"&&o!=="$?"&&o!=="$!"||u++;o=h}while(o);$s(s)}function In(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return n}function Vh(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return n;s--}else o==="/$"&&s++}n=n.previousSibling}return null}var $r=Math.random().toString(36).slice(2),cn="__reactFiber$"+$r,Js="__reactProps$"+$r,gn="__reactContainer$"+$r,ml="__reactEvents$"+$r,F0="__reactListeners$"+$r,B0="__reactHandles$"+$r;function sr(n){var s=n[cn];if(s)return s;for(var o=n.parentNode;o;){if(s=o[gn]||o[cn]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(n=Vh(n);n!==null;){if(o=n[cn])return o;n=Vh(n)}return s}n=o,o=n.parentNode}return null}function Qs(n){return n=n[cn]||n[gn],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Ur(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(r(33))}function lo(n){return n[Js]||null}var gl=[],Vr=-1;function Mn(n){return{current:n}}function Re(n){0>Vr||(n.current=gl[Vr],gl[Vr]=null,Vr--)}function Ce(n,s){Vr++,gl[Vr]=n.current,n.current=s}var Dn={},mt=Mn(Dn),St=Mn(!1),ir=Dn;function Fr(n,s){var o=n.type.contextTypes;if(!o)return Dn;var u=n.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===s)return u.__reactInternalMemoizedMaskedChildContext;var h={},m;for(m in o)h[m]=s[m];return u&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=s,n.__reactInternalMemoizedMaskedChildContext=h),h}function kt(n){return n=n.childContextTypes,n!=null}function uo(){Re(St),Re(mt)}function Fh(n,s,o){if(mt.current!==Dn)throw Error(r(168));Ce(mt,s),Ce(St,o)}function Bh(n,s,o){var u=n.stateNode;if(s=s.childContextTypes,typeof u.getChildContext!="function")return o;u=u.getChildContext();for(var h in u)if(!(h in s))throw Error(r(108,je(n)||"Unknown",h));return G({},o,u)}function co(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Dn,ir=mt.current,Ce(mt,n),Ce(St,St.current),!0}function zh(n,s,o){var u=n.stateNode;if(!u)throw Error(r(169));o?(n=Bh(n,s,ir),u.__reactInternalMemoizedMergedChildContext=n,Re(St),Re(mt),Ce(mt,n)):Re(St),Ce(St,o)}var yn=null,ho=!1,yl=!1;function Wh(n){yn===null?yn=[n]:yn.push(n)}function z0(n){ho=!0,Wh(n)}function Ln(){if(!yl&&yn!==null){yl=!0;var n=0,s=ke;try{var o=yn;for(ke=1;n<o.length;n++){var u=o[n];do u=u(!0);while(u!==null)}yn=null,ho=!1}catch(h){throw yn!==null&&(yn=yn.slice(n+1)),Kd(Ua,Ln),h}finally{ke=s,yl=!1}}return null}var Br=[],zr=0,fo=null,po=0,Ut=[],Vt=0,or=null,vn=1,xn="";function ar(n,s){Br[zr++]=po,Br[zr++]=fo,fo=n,po=s}function Hh(n,s,o){Ut[Vt++]=vn,Ut[Vt++]=xn,Ut[Vt++]=or,or=n;var u=vn;n=xn;var h=32-Jt(u)-1;u&=~(1<<h),o+=1;var m=32-Jt(s)+h;if(30<m){var x=h-h%5;m=(u&(1<<x)-1).toString(32),u>>=x,h-=x,vn=1<<32-Jt(s)+h|o<<h|u,xn=m+n}else vn=1<<m|o<<h|u,xn=n}function vl(n){n.return!==null&&(ar(n,1),Hh(n,1,0))}function xl(n){for(;n===fo;)fo=Br[--zr],Br[zr]=null,po=Br[--zr],Br[zr]=null;for(;n===or;)or=Ut[--Vt],Ut[Vt]=null,xn=Ut[--Vt],Ut[Vt]=null,vn=Ut[--Vt],Ut[Vt]=null}var At=null,Rt=null,Me=!1,Yt=null;function Kh(n,s){var o=Wt(5,null,null,0);o.elementType="DELETED",o.stateNode=s,o.return=n,s=n.deletions,s===null?(n.deletions=[o],n.flags|=16):s.push(o)}function Gh(n,s){switch(n.tag){case 5:var o=n.type;return s=s.nodeType!==1||o.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(n.stateNode=s,At=n,Rt=In(s.firstChild),!0):!1;case 6:return s=n.pendingProps===""||s.nodeType!==3?null:s,s!==null?(n.stateNode=s,At=n,Rt=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(o=or!==null?{id:vn,overflow:xn}:null,n.memoizedState={dehydrated:s,treeContext:o,retryLane:1073741824},o=Wt(18,null,null,0),o.stateNode=s,o.return=n,n.child=o,At=n,Rt=null,!0):!1;default:return!1}}function wl(n){return(n.mode&1)!==0&&(n.flags&128)===0}function bl(n){if(Me){var s=Rt;if(s){var o=s;if(!Gh(n,s)){if(wl(n))throw Error(r(418));s=In(o.nextSibling);var u=At;s&&Gh(n,s)?Kh(u,o):(n.flags=n.flags&-4097|2,Me=!1,At=n)}}else{if(wl(n))throw Error(r(418));n.flags=n.flags&-4097|2,Me=!1,At=n}}}function qh(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;At=n}function mo(n){if(n!==At)return!1;if(!Me)return qh(n),Me=!0,!1;var s;if((s=n.tag!==3)&&!(s=n.tag!==5)&&(s=n.type,s=s!=="head"&&s!=="body"&&!hl(n.type,n.memoizedProps)),s&&(s=Rt)){if(wl(n))throw Jh(),Error(r(418));for(;s;)Kh(n,s),s=In(s.nextSibling)}if(qh(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));e:{for(n=n.nextSibling,s=0;n;){if(n.nodeType===8){var o=n.data;if(o==="/$"){if(s===0){Rt=In(n.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++}n=n.nextSibling}Rt=null}}else Rt=At?In(n.stateNode.nextSibling):null;return!0}function Jh(){for(var n=Rt;n;)n=In(n.nextSibling)}function Wr(){Rt=At=null,Me=!1}function _l(n){Yt===null?Yt=[n]:Yt.push(n)}var W0=D.ReactCurrentBatchConfig;function Ys(n,s,o){if(n=o.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(r(309));var u=o.stateNode}if(!u)throw Error(r(147,n));var h=u,m=""+n;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===m?s.ref:(s=function(x){var _=h.refs;x===null?delete _[m]:_[m]=x},s._stringRef=m,s)}if(typeof n!="string")throw Error(r(284));if(!o._owner)throw Error(r(290,n))}return n}function go(n,s){throw n=Object.prototype.toString.call(s),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n))}function Qh(n){var s=n._init;return s(n._payload)}function Yh(n){function s(R,T){if(n){var O=R.deletions;O===null?(R.deletions=[T],R.flags|=16):O.push(T)}}function o(R,T){if(!n)return null;for(;T!==null;)s(R,T),T=T.sibling;return null}function u(R,T){for(R=new Map;T!==null;)T.key!==null?R.set(T.key,T):R.set(T.index,T),T=T.sibling;return R}function h(R,T){return R=Hn(R,T),R.index=0,R.sibling=null,R}function m(R,T,O){return R.index=O,n?(O=R.alternate,O!==null?(O=O.index,O<T?(R.flags|=2,T):O):(R.flags|=2,T)):(R.flags|=1048576,T)}function x(R){return n&&R.alternate===null&&(R.flags|=2),R}function _(R,T,O,z){return T===null||T.tag!==6?(T=fu(O,R.mode,z),T.return=R,T):(T=h(T,O),T.return=R,T)}function j(R,T,O,z){var X=O.type;return X===K?V(R,T,O.props.children,z,O.key):T!==null&&(T.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===et&&Qh(X)===T.type)?(z=h(T,O.props),z.ref=Ys(R,T,O),z.return=R,z):(z=Vo(O.type,O.key,O.props,null,R.mode,z),z.ref=Ys(R,T,O),z.return=R,z)}function I(R,T,O,z){return T===null||T.tag!==4||T.stateNode.containerInfo!==O.containerInfo||T.stateNode.implementation!==O.implementation?(T=pu(O,R.mode,z),T.return=R,T):(T=h(T,O.children||[]),T.return=R,T)}function V(R,T,O,z,X){return T===null||T.tag!==7?(T=mr(O,R.mode,z,X),T.return=R,T):(T=h(T,O),T.return=R,T)}function F(R,T,O){if(typeof T=="string"&&T!==""||typeof T=="number")return T=fu(""+T,R.mode,O),T.return=R,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case L:return O=Vo(T.type,T.key,T.props,null,R.mode,O),O.ref=Ys(R,null,T),O.return=R,O;case B:return T=pu(T,R.mode,O),T.return=R,T;case et:var z=T._init;return F(R,z(T._payload),O)}if(qt(T)||Z(T))return T=mr(T,R.mode,O,null),T.return=R,T;go(R,T)}return null}function U(R,T,O,z){var X=T!==null?T.key:null;if(typeof O=="string"&&O!==""||typeof O=="number")return X!==null?null:_(R,T,""+O,z);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case L:return O.key===X?j(R,T,O,z):null;case B:return O.key===X?I(R,T,O,z):null;case et:return X=O._init,U(R,T,X(O._payload),z)}if(qt(O)||Z(O))return X!==null?null:V(R,T,O,z,null);go(R,O)}return null}function q(R,T,O,z,X){if(typeof z=="string"&&z!==""||typeof z=="number")return R=R.get(O)||null,_(T,R,""+z,X);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case L:return R=R.get(z.key===null?O:z.key)||null,j(T,R,z,X);case B:return R=R.get(z.key===null?O:z.key)||null,I(T,R,z,X);case et:var ne=z._init;return q(R,T,O,ne(z._payload),X)}if(qt(z)||Z(z))return R=R.get(O)||null,V(T,R,z,X,null);go(T,z)}return null}function Q(R,T,O,z){for(var X=null,ne=null,re=T,le=T=0,at=null;re!==null&&le<O.length;le++){re.index>le?(at=re,re=null):at=re.sibling;var we=U(R,re,O[le],z);if(we===null){re===null&&(re=at);break}n&&re&&we.alternate===null&&s(R,re),T=m(we,T,le),ne===null?X=we:ne.sibling=we,ne=we,re=at}if(le===O.length)return o(R,re),Me&&ar(R,le),X;if(re===null){for(;le<O.length;le++)re=F(R,O[le],z),re!==null&&(T=m(re,T,le),ne===null?X=re:ne.sibling=re,ne=re);return Me&&ar(R,le),X}for(re=u(R,re);le<O.length;le++)at=q(re,R,le,O[le],z),at!==null&&(n&&at.alternate!==null&&re.delete(at.key===null?le:at.key),T=m(at,T,le),ne===null?X=at:ne.sibling=at,ne=at);return n&&re.forEach(function(Kn){return s(R,Kn)}),Me&&ar(R,le),X}function Y(R,T,O,z){var X=Z(O);if(typeof X!="function")throw Error(r(150));if(O=X.call(O),O==null)throw Error(r(151));for(var ne=X=null,re=T,le=T=0,at=null,we=O.next();re!==null&&!we.done;le++,we=O.next()){re.index>le?(at=re,re=null):at=re.sibling;var Kn=U(R,re,we.value,z);if(Kn===null){re===null&&(re=at);break}n&&re&&Kn.alternate===null&&s(R,re),T=m(Kn,T,le),ne===null?X=Kn:ne.sibling=Kn,ne=Kn,re=at}if(we.done)return o(R,re),Me&&ar(R,le),X;if(re===null){for(;!we.done;le++,we=O.next())we=F(R,we.value,z),we!==null&&(T=m(we,T,le),ne===null?X=we:ne.sibling=we,ne=we);return Me&&ar(R,le),X}for(re=u(R,re);!we.done;le++,we=O.next())we=q(re,R,le,we.value,z),we!==null&&(n&&we.alternate!==null&&re.delete(we.key===null?le:we.key),T=m(we,T,le),ne===null?X=we:ne.sibling=we,ne=we);return n&&re.forEach(function(Sx){return s(R,Sx)}),Me&&ar(R,le),X}function Ge(R,T,O,z){if(typeof O=="object"&&O!==null&&O.type===K&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case L:e:{for(var X=O.key,ne=T;ne!==null;){if(ne.key===X){if(X=O.type,X===K){if(ne.tag===7){o(R,ne.sibling),T=h(ne,O.props.children),T.return=R,R=T;break e}}else if(ne.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===et&&Qh(X)===ne.type){o(R,ne.sibling),T=h(ne,O.props),T.ref=Ys(R,ne,O),T.return=R,R=T;break e}o(R,ne);break}else s(R,ne);ne=ne.sibling}O.type===K?(T=mr(O.props.children,R.mode,z,O.key),T.return=R,R=T):(z=Vo(O.type,O.key,O.props,null,R.mode,z),z.ref=Ys(R,T,O),z.return=R,R=z)}return x(R);case B:e:{for(ne=O.key;T!==null;){if(T.key===ne)if(T.tag===4&&T.stateNode.containerInfo===O.containerInfo&&T.stateNode.implementation===O.implementation){o(R,T.sibling),T=h(T,O.children||[]),T.return=R,R=T;break e}else{o(R,T);break}else s(R,T);T=T.sibling}T=pu(O,R.mode,z),T.return=R,R=T}return x(R);case et:return ne=O._init,Ge(R,T,ne(O._payload),z)}if(qt(O))return Q(R,T,O,z);if(Z(O))return Y(R,T,O,z);go(R,O)}return typeof O=="string"&&O!==""||typeof O=="number"?(O=""+O,T!==null&&T.tag===6?(o(R,T.sibling),T=h(T,O),T.return=R,R=T):(o(R,T),T=fu(O,R.mode,z),T.return=R,R=T),x(R)):o(R,T)}return Ge}var Hr=Yh(!0),Xh=Yh(!1),yo=Mn(null),vo=null,Kr=null,Sl=null;function kl(){Sl=Kr=vo=null}function jl(n){var s=yo.current;Re(yo),n._currentValue=s}function Nl(n,s,o){for(;n!==null;){var u=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),n===o)break;n=n.return}}function Gr(n,s){vo=n,Sl=Kr=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&s)!==0&&(jt=!0),n.firstContext=null)}function Ft(n){var s=n._currentValue;if(Sl!==n)if(n={context:n,memoizedValue:s,next:null},Kr===null){if(vo===null)throw Error(r(308));Kr=n,vo.dependencies={lanes:0,firstContext:n}}else Kr=Kr.next=n;return s}var lr=null;function Tl(n){lr===null?lr=[n]:lr.push(n)}function Zh(n,s,o,u){var h=s.interleaved;return h===null?(o.next=o,Tl(s)):(o.next=h.next,h.next=o),s.interleaved=o,wn(n,u)}function wn(n,s){n.lanes|=s;var o=n.alternate;for(o!==null&&(o.lanes|=s),o=n,n=n.return;n!==null;)n.childLanes|=s,o=n.alternate,o!==null&&(o.childLanes|=s),o=n,n=n.return;return o.tag===3?o.stateNode:null}var $n=!1;function El(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ef(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function bn(n,s){return{eventTime:n,lane:s,tag:0,payload:null,callback:null,next:null}}function Un(n,s,o){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(xe&2)!==0){var h=u.pending;return h===null?s.next=s:(s.next=h.next,h.next=s),u.pending=s,wn(n,o)}return h=u.interleaved,h===null?(s.next=s,Tl(u)):(s.next=h.next,h.next=s),u.interleaved=s,wn(n,o)}function xo(n,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194240)!==0)){var u=s.lanes;u&=n.pendingLanes,o|=u,s.lanes=o,Ba(n,o)}}function tf(n,s){var o=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var h=null,m=null;if(o=o.firstBaseUpdate,o!==null){do{var x={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};m===null?h=m=x:m=m.next=x,o=o.next}while(o!==null);m===null?h=m=s:m=m.next=s}else h=m=s;o={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:u.shared,effects:u.effects},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=s:n.next=s,o.lastBaseUpdate=s}function wo(n,s,o,u){var h=n.updateQueue;$n=!1;var m=h.firstBaseUpdate,x=h.lastBaseUpdate,_=h.shared.pending;if(_!==null){h.shared.pending=null;var j=_,I=j.next;j.next=null,x===null?m=I:x.next=I,x=j;var V=n.alternate;V!==null&&(V=V.updateQueue,_=V.lastBaseUpdate,_!==x&&(_===null?V.firstBaseUpdate=I:_.next=I,V.lastBaseUpdate=j))}if(m!==null){var F=h.baseState;x=0,V=I=j=null,_=m;do{var U=_.lane,q=_.eventTime;if((u&U)===U){V!==null&&(V=V.next={eventTime:q,lane:0,tag:_.tag,payload:_.payload,callback:_.callback,next:null});e:{var Q=n,Y=_;switch(U=s,q=o,Y.tag){case 1:if(Q=Y.payload,typeof Q=="function"){F=Q.call(q,F,U);break e}F=Q;break e;case 3:Q.flags=Q.flags&-65537|128;case 0:if(Q=Y.payload,U=typeof Q=="function"?Q.call(q,F,U):Q,U==null)break e;F=G({},F,U);break e;case 2:$n=!0}}_.callback!==null&&_.lane!==0&&(n.flags|=64,U=h.effects,U===null?h.effects=[_]:U.push(_))}else q={eventTime:q,lane:U,tag:_.tag,payload:_.payload,callback:_.callback,next:null},V===null?(I=V=q,j=F):V=V.next=q,x|=U;if(_=_.next,_===null){if(_=h.shared.pending,_===null)break;U=_,_=U.next,U.next=null,h.lastBaseUpdate=U,h.shared.pending=null}}while(!0);if(V===null&&(j=F),h.baseState=j,h.firstBaseUpdate=I,h.lastBaseUpdate=V,s=h.shared.interleaved,s!==null){h=s;do x|=h.lane,h=h.next;while(h!==s)}else m===null&&(h.shared.lanes=0);dr|=x,n.lanes=x,n.memoizedState=F}}function nf(n,s,o){if(n=s.effects,s.effects=null,n!==null)for(s=0;s<n.length;s++){var u=n[s],h=u.callback;if(h!==null){if(u.callback=null,u=o,typeof h!="function")throw Error(r(191,h));h.call(u)}}}var Xs={},dn=Mn(Xs),Zs=Mn(Xs),ei=Mn(Xs);function ur(n){if(n===Xs)throw Error(r(174));return n}function Cl(n,s){switch(Ce(ei,s),Ce(Zs,n),Ce(dn,Xs),n=s.nodeType,n){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:Pa(null,"");break;default:n=n===8?s.parentNode:s,s=n.namespaceURI||null,n=n.tagName,s=Pa(s,n)}Re(dn),Ce(dn,s)}function qr(){Re(dn),Re(Zs),Re(ei)}function rf(n){ur(ei.current);var s=ur(dn.current),o=Pa(s,n.type);s!==o&&(Ce(Zs,n),Ce(dn,o))}function Pl(n){Zs.current===n&&(Re(dn),Re(Zs))}var Le=Mn(0);function bo(n){for(var s=n;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Al=[];function Rl(){for(var n=0;n<Al.length;n++)Al[n]._workInProgressVersionPrimary=null;Al.length=0}var _o=D.ReactCurrentDispatcher,Ol=D.ReactCurrentBatchConfig,cr=0,$e=null,tt=null,it=null,So=!1,ti=!1,ni=0,H0=0;function gt(){throw Error(r(321))}function Il(n,s){if(s===null)return!1;for(var o=0;o<s.length&&o<n.length;o++)if(!Qt(n[o],s[o]))return!1;return!0}function Ml(n,s,o,u,h,m){if(cr=m,$e=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,_o.current=n===null||n.memoizedState===null?J0:Q0,n=o(u,h),ti){m=0;do{if(ti=!1,ni=0,25<=m)throw Error(r(301));m+=1,it=tt=null,s.updateQueue=null,_o.current=Y0,n=o(u,h)}while(ti)}if(_o.current=No,s=tt!==null&&tt.next!==null,cr=0,it=tt=$e=null,So=!1,s)throw Error(r(300));return n}function Dl(){var n=ni!==0;return ni=0,n}function hn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return it===null?$e.memoizedState=it=n:it=it.next=n,it}function Bt(){if(tt===null){var n=$e.alternate;n=n!==null?n.memoizedState:null}else n=tt.next;var s=it===null?$e.memoizedState:it.next;if(s!==null)it=s,tt=n;else{if(n===null)throw Error(r(310));tt=n,n={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},it===null?$e.memoizedState=it=n:it=it.next=n}return it}function ri(n,s){return typeof s=="function"?s(n):s}function Ll(n){var s=Bt(),o=s.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=n;var u=tt,h=u.baseQueue,m=o.pending;if(m!==null){if(h!==null){var x=h.next;h.next=m.next,m.next=x}u.baseQueue=h=m,o.pending=null}if(h!==null){m=h.next,u=u.baseState;var _=x=null,j=null,I=m;do{var V=I.lane;if((cr&V)===V)j!==null&&(j=j.next={lane:0,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null}),u=I.hasEagerState?I.eagerState:n(u,I.action);else{var F={lane:V,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null};j===null?(_=j=F,x=u):j=j.next=F,$e.lanes|=V,dr|=V}I=I.next}while(I!==null&&I!==m);j===null?x=u:j.next=_,Qt(u,s.memoizedState)||(jt=!0),s.memoizedState=u,s.baseState=x,s.baseQueue=j,o.lastRenderedState=u}if(n=o.interleaved,n!==null){h=n;do m=h.lane,$e.lanes|=m,dr|=m,h=h.next;while(h!==n)}else h===null&&(o.lanes=0);return[s.memoizedState,o.dispatch]}function $l(n){var s=Bt(),o=s.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=n;var u=o.dispatch,h=o.pending,m=s.memoizedState;if(h!==null){o.pending=null;var x=h=h.next;do m=n(m,x.action),x=x.next;while(x!==h);Qt(m,s.memoizedState)||(jt=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),o.lastRenderedState=m}return[m,u]}function sf(){}function of(n,s){var o=$e,u=Bt(),h=s(),m=!Qt(u.memoizedState,h);if(m&&(u.memoizedState=h,jt=!0),u=u.queue,Ul(uf.bind(null,o,u,n),[n]),u.getSnapshot!==s||m||it!==null&&it.memoizedState.tag&1){if(o.flags|=2048,si(9,lf.bind(null,o,u,h,s),void 0,null),ot===null)throw Error(r(349));(cr&30)!==0||af(o,s,h)}return h}function af(n,s,o){n.flags|=16384,n={getSnapshot:s,value:o},s=$e.updateQueue,s===null?(s={lastEffect:null,stores:null},$e.updateQueue=s,s.stores=[n]):(o=s.stores,o===null?s.stores=[n]:o.push(n))}function lf(n,s,o,u){s.value=o,s.getSnapshot=u,cf(s)&&df(n)}function uf(n,s,o){return o(function(){cf(s)&&df(n)})}function cf(n){var s=n.getSnapshot;n=n.value;try{var o=s();return!Qt(n,o)}catch{return!0}}function df(n){var s=wn(n,1);s!==null&&tn(s,n,1,-1)}function hf(n){var s=hn();return typeof n=="function"&&(n=n()),s.memoizedState=s.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ri,lastRenderedState:n},s.queue=n,n=n.dispatch=q0.bind(null,$e,n),[s.memoizedState,n]}function si(n,s,o,u){return n={tag:n,create:s,destroy:o,deps:u,next:null},s=$e.updateQueue,s===null?(s={lastEffect:null,stores:null},$e.updateQueue=s,s.lastEffect=n.next=n):(o=s.lastEffect,o===null?s.lastEffect=n.next=n:(u=o.next,o.next=n,n.next=u,s.lastEffect=n)),n}function ff(){return Bt().memoizedState}function ko(n,s,o,u){var h=hn();$e.flags|=n,h.memoizedState=si(1|s,o,void 0,u===void 0?null:u)}function jo(n,s,o,u){var h=Bt();u=u===void 0?null:u;var m=void 0;if(tt!==null){var x=tt.memoizedState;if(m=x.destroy,u!==null&&Il(u,x.deps)){h.memoizedState=si(s,o,m,u);return}}$e.flags|=n,h.memoizedState=si(1|s,o,m,u)}function pf(n,s){return ko(8390656,8,n,s)}function Ul(n,s){return jo(2048,8,n,s)}function mf(n,s){return jo(4,2,n,s)}function gf(n,s){return jo(4,4,n,s)}function yf(n,s){if(typeof s=="function")return n=n(),s(n),function(){s(null)};if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function vf(n,s,o){return o=o!=null?o.concat([n]):null,jo(4,4,yf.bind(null,s,n),o)}function Vl(){}function xf(n,s){var o=Bt();s=s===void 0?null:s;var u=o.memoizedState;return u!==null&&s!==null&&Il(s,u[1])?u[0]:(o.memoizedState=[n,s],n)}function wf(n,s){var o=Bt();s=s===void 0?null:s;var u=o.memoizedState;return u!==null&&s!==null&&Il(s,u[1])?u[0]:(n=n(),o.memoizedState=[n,s],n)}function bf(n,s,o){return(cr&21)===0?(n.baseState&&(n.baseState=!1,jt=!0),n.memoizedState=o):(Qt(o,s)||(o=Qd(),$e.lanes|=o,dr|=o,n.baseState=!0),s)}function K0(n,s){var o=ke;ke=o!==0&&4>o?o:4,n(!0);var u=Ol.transition;Ol.transition={};try{n(!1),s()}finally{ke=o,Ol.transition=u}}function _f(){return Bt().memoizedState}function G0(n,s,o){var u=zn(n);if(o={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null},Sf(n))kf(s,o);else if(o=Zh(n,s,o,u),o!==null){var h=bt();tn(o,n,u,h),jf(o,s,u)}}function q0(n,s,o){var u=zn(n),h={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null};if(Sf(n))kf(s,h);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var x=s.lastRenderedState,_=m(x,o);if(h.hasEagerState=!0,h.eagerState=_,Qt(_,x)){var j=s.interleaved;j===null?(h.next=h,Tl(s)):(h.next=j.next,j.next=h),s.interleaved=h;return}}catch{}finally{}o=Zh(n,s,h,u),o!==null&&(h=bt(),tn(o,n,u,h),jf(o,s,u))}}function Sf(n){var s=n.alternate;return n===$e||s!==null&&s===$e}function kf(n,s){ti=So=!0;var o=n.pending;o===null?s.next=s:(s.next=o.next,o.next=s),n.pending=s}function jf(n,s,o){if((o&4194240)!==0){var u=s.lanes;u&=n.pendingLanes,o|=u,s.lanes=o,Ba(n,o)}}var No={readContext:Ft,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useInsertionEffect:gt,useLayoutEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useMutableSource:gt,useSyncExternalStore:gt,useId:gt,unstable_isNewReconciler:!1},J0={readContext:Ft,useCallback:function(n,s){return hn().memoizedState=[n,s===void 0?null:s],n},useContext:Ft,useEffect:pf,useImperativeHandle:function(n,s,o){return o=o!=null?o.concat([n]):null,ko(4194308,4,yf.bind(null,s,n),o)},useLayoutEffect:function(n,s){return ko(4194308,4,n,s)},useInsertionEffect:function(n,s){return ko(4,2,n,s)},useMemo:function(n,s){var o=hn();return s=s===void 0?null:s,n=n(),o.memoizedState=[n,s],n},useReducer:function(n,s,o){var u=hn();return s=o!==void 0?o(s):s,u.memoizedState=u.baseState=s,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:s},u.queue=n,n=n.dispatch=G0.bind(null,$e,n),[u.memoizedState,n]},useRef:function(n){var s=hn();return n={current:n},s.memoizedState=n},useState:hf,useDebugValue:Vl,useDeferredValue:function(n){return hn().memoizedState=n},useTransition:function(){var n=hf(!1),s=n[0];return n=K0.bind(null,n[1]),hn().memoizedState=n,[s,n]},useMutableSource:function(){},useSyncExternalStore:function(n,s,o){var u=$e,h=hn();if(Me){if(o===void 0)throw Error(r(407));o=o()}else{if(o=s(),ot===null)throw Error(r(349));(cr&30)!==0||af(u,s,o)}h.memoizedState=o;var m={value:o,getSnapshot:s};return h.queue=m,pf(uf.bind(null,u,m,n),[n]),u.flags|=2048,si(9,lf.bind(null,u,m,o,s),void 0,null),o},useId:function(){var n=hn(),s=ot.identifierPrefix;if(Me){var o=xn,u=vn;o=(u&~(1<<32-Jt(u)-1)).toString(32)+o,s=":"+s+"R"+o,o=ni++,0<o&&(s+="H"+o.toString(32)),s+=":"}else o=H0++,s=":"+s+"r"+o.toString(32)+":";return n.memoizedState=s},unstable_isNewReconciler:!1},Q0={readContext:Ft,useCallback:xf,useContext:Ft,useEffect:Ul,useImperativeHandle:vf,useInsertionEffect:mf,useLayoutEffect:gf,useMemo:wf,useReducer:Ll,useRef:ff,useState:function(){return Ll(ri)},useDebugValue:Vl,useDeferredValue:function(n){var s=Bt();return bf(s,tt.memoizedState,n)},useTransition:function(){var n=Ll(ri)[0],s=Bt().memoizedState;return[n,s]},useMutableSource:sf,useSyncExternalStore:of,useId:_f,unstable_isNewReconciler:!1},Y0={readContext:Ft,useCallback:xf,useContext:Ft,useEffect:Ul,useImperativeHandle:vf,useInsertionEffect:mf,useLayoutEffect:gf,useMemo:wf,useReducer:$l,useRef:ff,useState:function(){return $l(ri)},useDebugValue:Vl,useDeferredValue:function(n){var s=Bt();return tt===null?s.memoizedState=n:bf(s,tt.memoizedState,n)},useTransition:function(){var n=$l(ri)[0],s=Bt().memoizedState;return[n,s]},useMutableSource:sf,useSyncExternalStore:of,useId:_f,unstable_isNewReconciler:!1};function Xt(n,s){if(n&&n.defaultProps){s=G({},s),n=n.defaultProps;for(var o in n)s[o]===void 0&&(s[o]=n[o]);return s}return s}function Fl(n,s,o,u){s=n.memoizedState,o=o(u,s),o=o==null?s:G({},s,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var To={isMounted:function(n){return(n=n._reactInternals)?rr(n)===n:!1},enqueueSetState:function(n,s,o){n=n._reactInternals;var u=bt(),h=zn(n),m=bn(u,h);m.payload=s,o!=null&&(m.callback=o),s=Un(n,m,h),s!==null&&(tn(s,n,h,u),xo(s,n,h))},enqueueReplaceState:function(n,s,o){n=n._reactInternals;var u=bt(),h=zn(n),m=bn(u,h);m.tag=1,m.payload=s,o!=null&&(m.callback=o),s=Un(n,m,h),s!==null&&(tn(s,n,h,u),xo(s,n,h))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var o=bt(),u=zn(n),h=bn(o,u);h.tag=2,s!=null&&(h.callback=s),s=Un(n,h,u),s!==null&&(tn(s,n,u,o),xo(s,n,u))}};function Nf(n,s,o,u,h,m,x){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,m,x):s.prototype&&s.prototype.isPureReactComponent?!Ws(o,u)||!Ws(h,m):!0}function Tf(n,s,o){var u=!1,h=Dn,m=s.contextType;return typeof m=="object"&&m!==null?m=Ft(m):(h=kt(s)?ir:mt.current,u=s.contextTypes,m=(u=u!=null)?Fr(n,h):Dn),s=new s(o,m),n.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=To,n.stateNode=s,s._reactInternals=n,u&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=h,n.__reactInternalMemoizedMaskedChildContext=m),s}function Ef(n,s,o,u){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==n&&To.enqueueReplaceState(s,s.state,null)}function Bl(n,s,o,u){var h=n.stateNode;h.props=o,h.state=n.memoizedState,h.refs={},El(n);var m=s.contextType;typeof m=="object"&&m!==null?h.context=Ft(m):(m=kt(s)?ir:mt.current,h.context=Fr(n,m)),h.state=n.memoizedState,m=s.getDerivedStateFromProps,typeof m=="function"&&(Fl(n,s,m,o),h.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(s=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),s!==h.state&&To.enqueueReplaceState(h,h.state,null),wo(n,o,h,u),h.state=n.memoizedState),typeof h.componentDidMount=="function"&&(n.flags|=4194308)}function Jr(n,s){try{var o="",u=s;do o+=ye(u),u=u.return;while(u);var h=o}catch(m){h=`
Error generating stack: `+m.message+`
`+m.stack}return{value:n,source:s,stack:h,digest:null}}function zl(n,s,o){return{value:n,source:null,stack:o??null,digest:s??null}}function Wl(n,s){try{console.error(s.value)}catch(o){setTimeout(function(){throw o})}}var X0=typeof WeakMap=="function"?WeakMap:Map;function Cf(n,s,o){o=bn(-1,o),o.tag=3,o.payload={element:null};var u=s.value;return o.callback=function(){Io||(Io=!0,iu=u),Wl(n,s)},o}function Pf(n,s,o){o=bn(-1,o),o.tag=3;var u=n.type.getDerivedStateFromError;if(typeof u=="function"){var h=s.value;o.payload=function(){return u(h)},o.callback=function(){Wl(n,s)}}var m=n.stateNode;return m!==null&&typeof m.componentDidCatch=="function"&&(o.callback=function(){Wl(n,s),typeof u!="function"&&(Fn===null?Fn=new Set([this]):Fn.add(this));var x=s.stack;this.componentDidCatch(s.value,{componentStack:x!==null?x:""})}),o}function Af(n,s,o){var u=n.pingCache;if(u===null){u=n.pingCache=new X0;var h=new Set;u.set(s,h)}else h=u.get(s),h===void 0&&(h=new Set,u.set(s,h));h.has(o)||(h.add(o),n=hx.bind(null,n,s,o),s.then(n,n))}function Rf(n){do{var s;if((s=n.tag===13)&&(s=n.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return n;n=n.return}while(n!==null);return null}function Of(n,s,o,u,h){return(n.mode&1)===0?(n===s?n.flags|=65536:(n.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(s=bn(-1,1),s.tag=2,Un(o,s,1))),o.lanes|=1),n):(n.flags|=65536,n.lanes=h,n)}var Z0=D.ReactCurrentOwner,jt=!1;function wt(n,s,o,u){s.child=n===null?Xh(s,null,o,u):Hr(s,n.child,o,u)}function If(n,s,o,u,h){o=o.render;var m=s.ref;return Gr(s,h),u=Ml(n,s,o,u,m,h),o=Dl(),n!==null&&!jt?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~h,_n(n,s,h)):(Me&&o&&vl(s),s.flags|=1,wt(n,s,u,h),s.child)}function Mf(n,s,o,u,h){if(n===null){var m=o.type;return typeof m=="function"&&!hu(m)&&m.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(s.tag=15,s.type=m,Df(n,s,m,u,h)):(n=Vo(o.type,null,u,s,s.mode,h),n.ref=s.ref,n.return=s,s.child=n)}if(m=n.child,(n.lanes&h)===0){var x=m.memoizedProps;if(o=o.compare,o=o!==null?o:Ws,o(x,u)&&n.ref===s.ref)return _n(n,s,h)}return s.flags|=1,n=Hn(m,u),n.ref=s.ref,n.return=s,s.child=n}function Df(n,s,o,u,h){if(n!==null){var m=n.memoizedProps;if(Ws(m,u)&&n.ref===s.ref)if(jt=!1,s.pendingProps=u=m,(n.lanes&h)!==0)(n.flags&131072)!==0&&(jt=!0);else return s.lanes=n.lanes,_n(n,s,h)}return Hl(n,s,o,u,h)}function Lf(n,s,o){var u=s.pendingProps,h=u.children,m=n!==null?n.memoizedState:null;if(u.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ce(Yr,Ot),Ot|=o;else{if((o&1073741824)===0)return n=m!==null?m.baseLanes|o:o,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:n,cachePool:null,transitions:null},s.updateQueue=null,Ce(Yr,Ot),Ot|=n,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=m!==null?m.baseLanes:o,Ce(Yr,Ot),Ot|=u}else m!==null?(u=m.baseLanes|o,s.memoizedState=null):u=o,Ce(Yr,Ot),Ot|=u;return wt(n,s,h,o),s.child}function $f(n,s){var o=s.ref;(n===null&&o!==null||n!==null&&n.ref!==o)&&(s.flags|=512,s.flags|=2097152)}function Hl(n,s,o,u,h){var m=kt(o)?ir:mt.current;return m=Fr(s,m),Gr(s,h),o=Ml(n,s,o,u,m,h),u=Dl(),n!==null&&!jt?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~h,_n(n,s,h)):(Me&&u&&vl(s),s.flags|=1,wt(n,s,o,h),s.child)}function Uf(n,s,o,u,h){if(kt(o)){var m=!0;co(s)}else m=!1;if(Gr(s,h),s.stateNode===null)Co(n,s),Tf(s,o,u),Bl(s,o,u,h),u=!0;else if(n===null){var x=s.stateNode,_=s.memoizedProps;x.props=_;var j=x.context,I=o.contextType;typeof I=="object"&&I!==null?I=Ft(I):(I=kt(o)?ir:mt.current,I=Fr(s,I));var V=o.getDerivedStateFromProps,F=typeof V=="function"||typeof x.getSnapshotBeforeUpdate=="function";F||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(_!==u||j!==I)&&Ef(s,x,u,I),$n=!1;var U=s.memoizedState;x.state=U,wo(s,u,x,h),j=s.memoizedState,_!==u||U!==j||St.current||$n?(typeof V=="function"&&(Fl(s,o,V,u),j=s.memoizedState),(_=$n||Nf(s,o,_,u,U,j,I))?(F||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(s.flags|=4194308)):(typeof x.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=j),x.props=u,x.state=j,x.context=I,u=_):(typeof x.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{x=s.stateNode,ef(n,s),_=s.memoizedProps,I=s.type===s.elementType?_:Xt(s.type,_),x.props=I,F=s.pendingProps,U=x.context,j=o.contextType,typeof j=="object"&&j!==null?j=Ft(j):(j=kt(o)?ir:mt.current,j=Fr(s,j));var q=o.getDerivedStateFromProps;(V=typeof q=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(_!==F||U!==j)&&Ef(s,x,u,j),$n=!1,U=s.memoizedState,x.state=U,wo(s,u,x,h);var Q=s.memoizedState;_!==F||U!==Q||St.current||$n?(typeof q=="function"&&(Fl(s,o,q,u),Q=s.memoizedState),(I=$n||Nf(s,o,I,u,U,Q,j)||!1)?(V||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(u,Q,j),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(u,Q,j)),typeof x.componentDidUpdate=="function"&&(s.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof x.componentDidUpdate!="function"||_===n.memoizedProps&&U===n.memoizedState||(s.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&U===n.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=Q),x.props=u,x.state=Q,x.context=j,u=I):(typeof x.componentDidUpdate!="function"||_===n.memoizedProps&&U===n.memoizedState||(s.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&U===n.memoizedState||(s.flags|=1024),u=!1)}return Kl(n,s,o,u,m,h)}function Kl(n,s,o,u,h,m){$f(n,s);var x=(s.flags&128)!==0;if(!u&&!x)return h&&zh(s,o,!1),_n(n,s,m);u=s.stateNode,Z0.current=s;var _=x&&typeof o.getDerivedStateFromError!="function"?null:u.render();return s.flags|=1,n!==null&&x?(s.child=Hr(s,n.child,null,m),s.child=Hr(s,null,_,m)):wt(n,s,_,m),s.memoizedState=u.state,h&&zh(s,o,!0),s.child}function Vf(n){var s=n.stateNode;s.pendingContext?Fh(n,s.pendingContext,s.pendingContext!==s.context):s.context&&Fh(n,s.context,!1),Cl(n,s.containerInfo)}function Ff(n,s,o,u,h){return Wr(),_l(h),s.flags|=256,wt(n,s,o,u),s.child}var Gl={dehydrated:null,treeContext:null,retryLane:0};function ql(n){return{baseLanes:n,cachePool:null,transitions:null}}function Bf(n,s,o){var u=s.pendingProps,h=Le.current,m=!1,x=(s.flags&128)!==0,_;if((_=x)||(_=n!==null&&n.memoizedState===null?!1:(h&2)!==0),_?(m=!0,s.flags&=-129):(n===null||n.memoizedState!==null)&&(h|=1),Ce(Le,h&1),n===null)return bl(s),n=s.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((s.mode&1)===0?s.lanes=1:n.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(x=u.children,n=u.fallback,m?(u=s.mode,m=s.child,x={mode:"hidden",children:x},(u&1)===0&&m!==null?(m.childLanes=0,m.pendingProps=x):m=Fo(x,u,0,null),n=mr(n,u,o,null),m.return=s,n.return=s,m.sibling=n,s.child=m,s.child.memoizedState=ql(o),s.memoizedState=Gl,n):Jl(s,x));if(h=n.memoizedState,h!==null&&(_=h.dehydrated,_!==null))return ex(n,s,x,u,_,h,o);if(m){m=u.fallback,x=s.mode,h=n.child,_=h.sibling;var j={mode:"hidden",children:u.children};return(x&1)===0&&s.child!==h?(u=s.child,u.childLanes=0,u.pendingProps=j,s.deletions=null):(u=Hn(h,j),u.subtreeFlags=h.subtreeFlags&14680064),_!==null?m=Hn(_,m):(m=mr(m,x,o,null),m.flags|=2),m.return=s,u.return=s,u.sibling=m,s.child=u,u=m,m=s.child,x=n.child.memoizedState,x=x===null?ql(o):{baseLanes:x.baseLanes|o,cachePool:null,transitions:x.transitions},m.memoizedState=x,m.childLanes=n.childLanes&~o,s.memoizedState=Gl,u}return m=n.child,n=m.sibling,u=Hn(m,{mode:"visible",children:u.children}),(s.mode&1)===0&&(u.lanes=o),u.return=s,u.sibling=null,n!==null&&(o=s.deletions,o===null?(s.deletions=[n],s.flags|=16):o.push(n)),s.child=u,s.memoizedState=null,u}function Jl(n,s){return s=Fo({mode:"visible",children:s},n.mode,0,null),s.return=n,n.child=s}function Eo(n,s,o,u){return u!==null&&_l(u),Hr(s,n.child,null,o),n=Jl(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function ex(n,s,o,u,h,m,x){if(o)return s.flags&256?(s.flags&=-257,u=zl(Error(r(422))),Eo(n,s,x,u)):s.memoizedState!==null?(s.child=n.child,s.flags|=128,null):(m=u.fallback,h=s.mode,u=Fo({mode:"visible",children:u.children},h,0,null),m=mr(m,h,x,null),m.flags|=2,u.return=s,m.return=s,u.sibling=m,s.child=u,(s.mode&1)!==0&&Hr(s,n.child,null,x),s.child.memoizedState=ql(x),s.memoizedState=Gl,m);if((s.mode&1)===0)return Eo(n,s,x,null);if(h.data==="$!"){if(u=h.nextSibling&&h.nextSibling.dataset,u)var _=u.dgst;return u=_,m=Error(r(419)),u=zl(m,u,void 0),Eo(n,s,x,u)}if(_=(x&n.childLanes)!==0,jt||_){if(u=ot,u!==null){switch(x&-x){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=(h&(u.suspendedLanes|x))!==0?0:h,h!==0&&h!==m.retryLane&&(m.retryLane=h,wn(n,h),tn(u,n,h,-1))}return du(),u=zl(Error(r(421))),Eo(n,s,x,u)}return h.data==="$?"?(s.flags|=128,s.child=n.child,s=fx.bind(null,n),h._reactRetry=s,null):(n=m.treeContext,Rt=In(h.nextSibling),At=s,Me=!0,Yt=null,n!==null&&(Ut[Vt++]=vn,Ut[Vt++]=xn,Ut[Vt++]=or,vn=n.id,xn=n.overflow,or=s),s=Jl(s,u.children),s.flags|=4096,s)}function zf(n,s,o){n.lanes|=s;var u=n.alternate;u!==null&&(u.lanes|=s),Nl(n.return,s,o)}function Ql(n,s,o,u,h){var m=n.memoizedState;m===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:h}:(m.isBackwards=s,m.rendering=null,m.renderingStartTime=0,m.last=u,m.tail=o,m.tailMode=h)}function Wf(n,s,o){var u=s.pendingProps,h=u.revealOrder,m=u.tail;if(wt(n,s,u.children,o),u=Le.current,(u&2)!==0)u=u&1|2,s.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&zf(n,o,s);else if(n.tag===19)zf(n,o,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}u&=1}if(Ce(Le,u),(s.mode&1)===0)s.memoizedState=null;else switch(h){case"forwards":for(o=s.child,h=null;o!==null;)n=o.alternate,n!==null&&bo(n)===null&&(h=o),o=o.sibling;o=h,o===null?(h=s.child,s.child=null):(h=o.sibling,o.sibling=null),Ql(s,!1,h,o,m);break;case"backwards":for(o=null,h=s.child,s.child=null;h!==null;){if(n=h.alternate,n!==null&&bo(n)===null){s.child=h;break}n=h.sibling,h.sibling=o,o=h,h=n}Ql(s,!0,o,null,m);break;case"together":Ql(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Co(n,s){(s.mode&1)===0&&n!==null&&(n.alternate=null,s.alternate=null,s.flags|=2)}function _n(n,s,o){if(n!==null&&(s.dependencies=n.dependencies),dr|=s.lanes,(o&s.childLanes)===0)return null;if(n!==null&&s.child!==n.child)throw Error(r(153));if(s.child!==null){for(n=s.child,o=Hn(n,n.pendingProps),s.child=o,o.return=s;n.sibling!==null;)n=n.sibling,o=o.sibling=Hn(n,n.pendingProps),o.return=s;o.sibling=null}return s.child}function tx(n,s,o){switch(s.tag){case 3:Vf(s),Wr();break;case 5:rf(s);break;case 1:kt(s.type)&&co(s);break;case 4:Cl(s,s.stateNode.containerInfo);break;case 10:var u=s.type._context,h=s.memoizedProps.value;Ce(yo,u._currentValue),u._currentValue=h;break;case 13:if(u=s.memoizedState,u!==null)return u.dehydrated!==null?(Ce(Le,Le.current&1),s.flags|=128,null):(o&s.child.childLanes)!==0?Bf(n,s,o):(Ce(Le,Le.current&1),n=_n(n,s,o),n!==null?n.sibling:null);Ce(Le,Le.current&1);break;case 19:if(u=(o&s.childLanes)!==0,(n.flags&128)!==0){if(u)return Wf(n,s,o);s.flags|=128}if(h=s.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Ce(Le,Le.current),u)break;return null;case 22:case 23:return s.lanes=0,Lf(n,s,o)}return _n(n,s,o)}var Hf,Yl,Kf,Gf;Hf=function(n,s){for(var o=s.child;o!==null;){if(o.tag===5||o.tag===6)n.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},Yl=function(){},Kf=function(n,s,o,u){var h=n.memoizedProps;if(h!==u){n=s.stateNode,ur(dn.current);var m=null;switch(o){case"input":h=Oe(n,h),u=Oe(n,u),m=[];break;case"select":h=G({},h,{value:void 0}),u=G({},u,{value:void 0}),m=[];break;case"textarea":h=Ns(n,h),u=Ns(n,u),m=[];break;default:typeof h.onClick!="function"&&typeof u.onClick=="function"&&(n.onclick=ao)}Aa(o,u);var x;o=null;for(I in h)if(!u.hasOwnProperty(I)&&h.hasOwnProperty(I)&&h[I]!=null)if(I==="style"){var _=h[I];for(x in _)_.hasOwnProperty(x)&&(o||(o={}),o[x]="")}else I!=="dangerouslySetInnerHTML"&&I!=="children"&&I!=="suppressContentEditableWarning"&&I!=="suppressHydrationWarning"&&I!=="autoFocus"&&(a.hasOwnProperty(I)?m||(m=[]):(m=m||[]).push(I,null));for(I in u){var j=u[I];if(_=h?.[I],u.hasOwnProperty(I)&&j!==_&&(j!=null||_!=null))if(I==="style")if(_){for(x in _)!_.hasOwnProperty(x)||j&&j.hasOwnProperty(x)||(o||(o={}),o[x]="");for(x in j)j.hasOwnProperty(x)&&_[x]!==j[x]&&(o||(o={}),o[x]=j[x])}else o||(m||(m=[]),m.push(I,o)),o=j;else I==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,_=_?_.__html:void 0,j!=null&&_!==j&&(m=m||[]).push(I,j)):I==="children"?typeof j!="string"&&typeof j!="number"||(m=m||[]).push(I,""+j):I!=="suppressContentEditableWarning"&&I!=="suppressHydrationWarning"&&(a.hasOwnProperty(I)?(j!=null&&I==="onScroll"&&Ae("scroll",n),m||_===j||(m=[])):(m=m||[]).push(I,j))}o&&(m=m||[]).push("style",o);var I=m;(s.updateQueue=I)&&(s.flags|=4)}},Gf=function(n,s,o,u){o!==u&&(s.flags|=4)};function ii(n,s){if(!Me)switch(n.tailMode){case"hidden":s=n.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function yt(n){var s=n.alternate!==null&&n.alternate.child===n.child,o=0,u=0;if(s)for(var h=n.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags&14680064,u|=h.flags&14680064,h.return=n,h=h.sibling;else for(h=n.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=n,h=h.sibling;return n.subtreeFlags|=u,n.childLanes=o,s}function nx(n,s,o){var u=s.pendingProps;switch(xl(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yt(s),null;case 1:return kt(s.type)&&uo(),yt(s),null;case 3:return u=s.stateNode,qr(),Re(St),Re(mt),Rl(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(n===null||n.child===null)&&(mo(s)?s.flags|=4:n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Yt!==null&&(lu(Yt),Yt=null))),Yl(n,s),yt(s),null;case 5:Pl(s);var h=ur(ei.current);if(o=s.type,n!==null&&s.stateNode!=null)Kf(n,s,o,u,h),n.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!u){if(s.stateNode===null)throw Error(r(166));return yt(s),null}if(n=ur(dn.current),mo(s)){u=s.stateNode,o=s.type;var m=s.memoizedProps;switch(u[cn]=s,u[Js]=m,n=(s.mode&1)!==0,o){case"dialog":Ae("cancel",u),Ae("close",u);break;case"iframe":case"object":case"embed":Ae("load",u);break;case"video":case"audio":for(h=0;h<Ks.length;h++)Ae(Ks[h],u);break;case"source":Ae("error",u);break;case"img":case"image":case"link":Ae("error",u),Ae("load",u);break;case"details":Ae("toggle",u);break;case"input":lt(u,m),Ae("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!m.multiple},Ae("invalid",u);break;case"textarea":Cd(u,m),Ae("invalid",u)}Aa(o,m),h=null;for(var x in m)if(m.hasOwnProperty(x)){var _=m[x];x==="children"?typeof _=="string"?u.textContent!==_&&(m.suppressHydrationWarning!==!0&&oo(u.textContent,_,n),h=["children",_]):typeof _=="number"&&u.textContent!==""+_&&(m.suppressHydrationWarning!==!0&&oo(u.textContent,_,n),h=["children",""+_]):a.hasOwnProperty(x)&&_!=null&&x==="onScroll"&&Ae("scroll",u)}switch(o){case"input":Ne(u),pt(u,m,!0);break;case"textarea":Ne(u),Ad(u);break;case"select":case"option":break;default:typeof m.onClick=="function"&&(u.onclick=ao)}u=h,s.updateQueue=u,u!==null&&(s.flags|=4)}else{x=h.nodeType===9?h:h.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=Rd(o)),n==="http://www.w3.org/1999/xhtml"?o==="script"?(n=x.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof u.is=="string"?n=x.createElement(o,{is:u.is}):(n=x.createElement(o),o==="select"&&(x=n,u.multiple?x.multiple=!0:u.size&&(x.size=u.size))):n=x.createElementNS(n,o),n[cn]=s,n[Js]=u,Hf(n,s,!1,!1),s.stateNode=n;e:{switch(x=Ra(o,u),o){case"dialog":Ae("cancel",n),Ae("close",n),h=u;break;case"iframe":case"object":case"embed":Ae("load",n),h=u;break;case"video":case"audio":for(h=0;h<Ks.length;h++)Ae(Ks[h],n);h=u;break;case"source":Ae("error",n),h=u;break;case"img":case"image":case"link":Ae("error",n),Ae("load",n),h=u;break;case"details":Ae("toggle",n),h=u;break;case"input":lt(n,u),h=Oe(n,u),Ae("invalid",n);break;case"option":h=u;break;case"select":n._wrapperState={wasMultiple:!!u.multiple},h=G({},u,{value:void 0}),Ae("invalid",n);break;case"textarea":Cd(n,u),h=Ns(n,u),Ae("invalid",n);break;default:h=u}Aa(o,h),_=h;for(m in _)if(_.hasOwnProperty(m)){var j=_[m];m==="style"?Md(n,j):m==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,j!=null&&Od(n,j)):m==="children"?typeof j=="string"?(o!=="textarea"||j!=="")&&Ts(n,j):typeof j=="number"&&Ts(n,""+j):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(a.hasOwnProperty(m)?j!=null&&m==="onScroll"&&Ae("scroll",n):j!=null&&N(n,m,j,x))}switch(o){case"input":Ne(n),pt(n,u,!1);break;case"textarea":Ne(n),Ad(n);break;case"option":u.value!=null&&n.setAttribute("value",""+be(u.value));break;case"select":n.multiple=!!u.multiple,m=u.value,m!=null?qe(n,!!u.multiple,m,!1):u.defaultValue!=null&&qe(n,!!u.multiple,u.defaultValue,!0);break;default:typeof h.onClick=="function"&&(n.onclick=ao)}switch(o){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return yt(s),null;case 6:if(n&&s.stateNode!=null)Gf(n,s,n.memoizedProps,u);else{if(typeof u!="string"&&s.stateNode===null)throw Error(r(166));if(o=ur(ei.current),ur(dn.current),mo(s)){if(u=s.stateNode,o=s.memoizedProps,u[cn]=s,(m=u.nodeValue!==o)&&(n=At,n!==null))switch(n.tag){case 3:oo(u.nodeValue,o,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&oo(u.nodeValue,o,(n.mode&1)!==0)}m&&(s.flags|=4)}else u=(o.nodeType===9?o:o.ownerDocument).createTextNode(u),u[cn]=s,s.stateNode=u}return yt(s),null;case 13:if(Re(Le),u=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Me&&Rt!==null&&(s.mode&1)!==0&&(s.flags&128)===0)Jh(),Wr(),s.flags|=98560,m=!1;else if(m=mo(s),u!==null&&u.dehydrated!==null){if(n===null){if(!m)throw Error(r(318));if(m=s.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(317));m[cn]=s}else Wr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;yt(s),m=!1}else Yt!==null&&(lu(Yt),Yt=null),m=!0;if(!m)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=o,s):(u=u!==null,u!==(n!==null&&n.memoizedState!==null)&&u&&(s.child.flags|=8192,(s.mode&1)!==0&&(n===null||(Le.current&1)!==0?nt===0&&(nt=3):du())),s.updateQueue!==null&&(s.flags|=4),yt(s),null);case 4:return qr(),Yl(n,s),n===null&&Gs(s.stateNode.containerInfo),yt(s),null;case 10:return jl(s.type._context),yt(s),null;case 17:return kt(s.type)&&uo(),yt(s),null;case 19:if(Re(Le),m=s.memoizedState,m===null)return yt(s),null;if(u=(s.flags&128)!==0,x=m.rendering,x===null)if(u)ii(m,!1);else{if(nt!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(x=bo(n),x!==null){for(s.flags|=128,ii(m,!1),u=x.updateQueue,u!==null&&(s.updateQueue=u,s.flags|=4),s.subtreeFlags=0,u=o,o=s.child;o!==null;)m=o,n=u,m.flags&=14680066,x=m.alternate,x===null?(m.childLanes=0,m.lanes=n,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=x.childLanes,m.lanes=x.lanes,m.child=x.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=x.memoizedProps,m.memoizedState=x.memoizedState,m.updateQueue=x.updateQueue,m.type=x.type,n=x.dependencies,m.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),o=o.sibling;return Ce(Le,Le.current&1|2),s.child}n=n.sibling}m.tail!==null&&Ke()>Xr&&(s.flags|=128,u=!0,ii(m,!1),s.lanes=4194304)}else{if(!u)if(n=bo(x),n!==null){if(s.flags|=128,u=!0,o=n.updateQueue,o!==null&&(s.updateQueue=o,s.flags|=4),ii(m,!0),m.tail===null&&m.tailMode==="hidden"&&!x.alternate&&!Me)return yt(s),null}else 2*Ke()-m.renderingStartTime>Xr&&o!==1073741824&&(s.flags|=128,u=!0,ii(m,!1),s.lanes=4194304);m.isBackwards?(x.sibling=s.child,s.child=x):(o=m.last,o!==null?o.sibling=x:s.child=x,m.last=x)}return m.tail!==null?(s=m.tail,m.rendering=s,m.tail=s.sibling,m.renderingStartTime=Ke(),s.sibling=null,o=Le.current,Ce(Le,u?o&1|2:o&1),s):(yt(s),null);case 22:case 23:return cu(),u=s.memoizedState!==null,n!==null&&n.memoizedState!==null!==u&&(s.flags|=8192),u&&(s.mode&1)!==0?(Ot&1073741824)!==0&&(yt(s),s.subtreeFlags&6&&(s.flags|=8192)):yt(s),null;case 24:return null;case 25:return null}throw Error(r(156,s.tag))}function rx(n,s){switch(xl(s),s.tag){case 1:return kt(s.type)&&uo(),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return qr(),Re(St),Re(mt),Rl(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 5:return Pl(s),null;case 13:if(Re(Le),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Wr()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return Re(Le),null;case 4:return qr(),null;case 10:return jl(s.type._context),null;case 22:case 23:return cu(),null;case 24:return null;default:return null}}var Po=!1,vt=!1,sx=typeof WeakSet=="function"?WeakSet:Set,J=null;function Qr(n,s){var o=n.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(u){Fe(n,s,u)}else o.current=null}function Xl(n,s,o){try{o()}catch(u){Fe(n,s,u)}}var qf=!1;function ix(n,s){if(cl=Ji,n=jh(),nl(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else e:{o=(o=n.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var h=u.anchorOffset,m=u.focusNode;u=u.focusOffset;try{o.nodeType,m.nodeType}catch{o=null;break e}var x=0,_=-1,j=-1,I=0,V=0,F=n,U=null;t:for(;;){for(var q;F!==o||h!==0&&F.nodeType!==3||(_=x+h),F!==m||u!==0&&F.nodeType!==3||(j=x+u),F.nodeType===3&&(x+=F.nodeValue.length),(q=F.firstChild)!==null;)U=F,F=q;for(;;){if(F===n)break t;if(U===o&&++I===h&&(_=x),U===m&&++V===u&&(j=x),(q=F.nextSibling)!==null)break;F=U,U=F.parentNode}F=q}o=_===-1||j===-1?null:{start:_,end:j}}else o=null}o=o||{start:0,end:0}}else o=null;for(dl={focusedElem:n,selectionRange:o},Ji=!1,J=s;J!==null;)if(s=J,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,J=n;else for(;J!==null;){s=J;try{var Q=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(Q!==null){var Y=Q.memoizedProps,Ge=Q.memoizedState,R=s.stateNode,T=R.getSnapshotBeforeUpdate(s.elementType===s.type?Y:Xt(s.type,Y),Ge);R.__reactInternalSnapshotBeforeUpdate=T}break;case 3:var O=s.stateNode.containerInfo;O.nodeType===1?O.textContent="":O.nodeType===9&&O.documentElement&&O.removeChild(O.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(z){Fe(s,s.return,z)}if(n=s.sibling,n!==null){n.return=s.return,J=n;break}J=s.return}return Q=qf,qf=!1,Q}function oi(n,s,o){var u=s.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var h=u=u.next;do{if((h.tag&n)===n){var m=h.destroy;h.destroy=void 0,m!==void 0&&Xl(s,o,m)}h=h.next}while(h!==u)}}function Ao(n,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var o=s=s.next;do{if((o.tag&n)===n){var u=o.create;o.destroy=u()}o=o.next}while(o!==s)}}function Zl(n){var s=n.ref;if(s!==null){var o=n.stateNode;switch(n.tag){case 5:n=o;break;default:n=o}typeof s=="function"?s(n):s.current=n}}function Jf(n){var s=n.alternate;s!==null&&(n.alternate=null,Jf(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&(delete s[cn],delete s[Js],delete s[ml],delete s[F0],delete s[B0])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function Qf(n){return n.tag===5||n.tag===3||n.tag===4}function Yf(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Qf(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function eu(n,s,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?o.nodeType===8?o.parentNode.insertBefore(n,s):o.insertBefore(n,s):(o.nodeType===8?(s=o.parentNode,s.insertBefore(n,o)):(s=o,s.appendChild(n)),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=ao));else if(u!==4&&(n=n.child,n!==null))for(eu(n,s,o),n=n.sibling;n!==null;)eu(n,s,o),n=n.sibling}function tu(n,s,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?o.insertBefore(n,s):o.appendChild(n);else if(u!==4&&(n=n.child,n!==null))for(tu(n,s,o),n=n.sibling;n!==null;)tu(n,s,o),n=n.sibling}var ut=null,Zt=!1;function Vn(n,s,o){for(o=o.child;o!==null;)Xf(n,s,o),o=o.sibling}function Xf(n,s,o){if(un&&typeof un.onCommitFiberUnmount=="function")try{un.onCommitFiberUnmount(zi,o)}catch{}switch(o.tag){case 5:vt||Qr(o,s);case 6:var u=ut,h=Zt;ut=null,Vn(n,s,o),ut=u,Zt=h,ut!==null&&(Zt?(n=ut,o=o.stateNode,n.nodeType===8?n.parentNode.removeChild(o):n.removeChild(o)):ut.removeChild(o.stateNode));break;case 18:ut!==null&&(Zt?(n=ut,o=o.stateNode,n.nodeType===8?pl(n.parentNode,o):n.nodeType===1&&pl(n,o),$s(n)):pl(ut,o.stateNode));break;case 4:u=ut,h=Zt,ut=o.stateNode.containerInfo,Zt=!0,Vn(n,s,o),ut=u,Zt=h;break;case 0:case 11:case 14:case 15:if(!vt&&(u=o.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){h=u=u.next;do{var m=h,x=m.destroy;m=m.tag,x!==void 0&&((m&2)!==0||(m&4)!==0)&&Xl(o,s,x),h=h.next}while(h!==u)}Vn(n,s,o);break;case 1:if(!vt&&(Qr(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=o.memoizedProps,u.state=o.memoizedState,u.componentWillUnmount()}catch(_){Fe(o,s,_)}Vn(n,s,o);break;case 21:Vn(n,s,o);break;case 22:o.mode&1?(vt=(u=vt)||o.memoizedState!==null,Vn(n,s,o),vt=u):Vn(n,s,o);break;default:Vn(n,s,o)}}function Zf(n){var s=n.updateQueue;if(s!==null){n.updateQueue=null;var o=n.stateNode;o===null&&(o=n.stateNode=new sx),s.forEach(function(u){var h=px.bind(null,n,u);o.has(u)||(o.add(u),u.then(h,h))})}}function en(n,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var h=o[u];try{var m=n,x=s,_=x;e:for(;_!==null;){switch(_.tag){case 5:ut=_.stateNode,Zt=!1;break e;case 3:ut=_.stateNode.containerInfo,Zt=!0;break e;case 4:ut=_.stateNode.containerInfo,Zt=!0;break e}_=_.return}if(ut===null)throw Error(r(160));Xf(m,x,h),ut=null,Zt=!1;var j=h.alternate;j!==null&&(j.return=null),h.return=null}catch(I){Fe(h,s,I)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)ep(s,n),s=s.sibling}function ep(n,s){var o=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(en(s,n),fn(n),u&4){try{oi(3,n,n.return),Ao(3,n)}catch(Y){Fe(n,n.return,Y)}try{oi(5,n,n.return)}catch(Y){Fe(n,n.return,Y)}}break;case 1:en(s,n),fn(n),u&512&&o!==null&&Qr(o,o.return);break;case 5:if(en(s,n),fn(n),u&512&&o!==null&&Qr(o,o.return),n.flags&32){var h=n.stateNode;try{Ts(h,"")}catch(Y){Fe(n,n.return,Y)}}if(u&4&&(h=n.stateNode,h!=null)){var m=n.memoizedProps,x=o!==null?o.memoizedProps:m,_=n.type,j=n.updateQueue;if(n.updateQueue=null,j!==null)try{_==="input"&&m.type==="radio"&&m.name!=null&&Ee(h,m),Ra(_,x);var I=Ra(_,m);for(x=0;x<j.length;x+=2){var V=j[x],F=j[x+1];V==="style"?Md(h,F):V==="dangerouslySetInnerHTML"?Od(h,F):V==="children"?Ts(h,F):N(h,V,F,I)}switch(_){case"input":$t(h,m);break;case"textarea":Pd(h,m);break;case"select":var U=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!m.multiple;var q=m.value;q!=null?qe(h,!!m.multiple,q,!1):U!==!!m.multiple&&(m.defaultValue!=null?qe(h,!!m.multiple,m.defaultValue,!0):qe(h,!!m.multiple,m.multiple?[]:"",!1))}h[Js]=m}catch(Y){Fe(n,n.return,Y)}}break;case 6:if(en(s,n),fn(n),u&4){if(n.stateNode===null)throw Error(r(162));h=n.stateNode,m=n.memoizedProps;try{h.nodeValue=m}catch(Y){Fe(n,n.return,Y)}}break;case 3:if(en(s,n),fn(n),u&4&&o!==null&&o.memoizedState.isDehydrated)try{$s(s.containerInfo)}catch(Y){Fe(n,n.return,Y)}break;case 4:en(s,n),fn(n);break;case 13:en(s,n),fn(n),h=n.child,h.flags&8192&&(m=h.memoizedState!==null,h.stateNode.isHidden=m,!m||h.alternate!==null&&h.alternate.memoizedState!==null||(su=Ke())),u&4&&Zf(n);break;case 22:if(V=o!==null&&o.memoizedState!==null,n.mode&1?(vt=(I=vt)||V,en(s,n),vt=I):en(s,n),fn(n),u&8192){if(I=n.memoizedState!==null,(n.stateNode.isHidden=I)&&!V&&(n.mode&1)!==0)for(J=n,V=n.child;V!==null;){for(F=J=V;J!==null;){switch(U=J,q=U.child,U.tag){case 0:case 11:case 14:case 15:oi(4,U,U.return);break;case 1:Qr(U,U.return);var Q=U.stateNode;if(typeof Q.componentWillUnmount=="function"){u=U,o=U.return;try{s=u,Q.props=s.memoizedProps,Q.state=s.memoizedState,Q.componentWillUnmount()}catch(Y){Fe(u,o,Y)}}break;case 5:Qr(U,U.return);break;case 22:if(U.memoizedState!==null){rp(F);continue}}q!==null?(q.return=U,J=q):rp(F)}V=V.sibling}e:for(V=null,F=n;;){if(F.tag===5){if(V===null){V=F;try{h=F.stateNode,I?(m=h.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none"):(_=F.stateNode,j=F.memoizedProps.style,x=j!=null&&j.hasOwnProperty("display")?j.display:null,_.style.display=Id("display",x))}catch(Y){Fe(n,n.return,Y)}}}else if(F.tag===6){if(V===null)try{F.stateNode.nodeValue=I?"":F.memoizedProps}catch(Y){Fe(n,n.return,Y)}}else if((F.tag!==22&&F.tag!==23||F.memoizedState===null||F===n)&&F.child!==null){F.child.return=F,F=F.child;continue}if(F===n)break e;for(;F.sibling===null;){if(F.return===null||F.return===n)break e;V===F&&(V=null),F=F.return}V===F&&(V=null),F.sibling.return=F.return,F=F.sibling}}break;case 19:en(s,n),fn(n),u&4&&Zf(n);break;case 21:break;default:en(s,n),fn(n)}}function fn(n){var s=n.flags;if(s&2){try{e:{for(var o=n.return;o!==null;){if(Qf(o)){var u=o;break e}o=o.return}throw Error(r(160))}switch(u.tag){case 5:var h=u.stateNode;u.flags&32&&(Ts(h,""),u.flags&=-33);var m=Yf(n);tu(n,m,h);break;case 3:case 4:var x=u.stateNode.containerInfo,_=Yf(n);eu(n,_,x);break;default:throw Error(r(161))}}catch(j){Fe(n,n.return,j)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function ox(n,s,o){J=n,tp(n)}function tp(n,s,o){for(var u=(n.mode&1)!==0;J!==null;){var h=J,m=h.child;if(h.tag===22&&u){var x=h.memoizedState!==null||Po;if(!x){var _=h.alternate,j=_!==null&&_.memoizedState!==null||vt;_=Po;var I=vt;if(Po=x,(vt=j)&&!I)for(J=h;J!==null;)x=J,j=x.child,x.tag===22&&x.memoizedState!==null?sp(h):j!==null?(j.return=x,J=j):sp(h);for(;m!==null;)J=m,tp(m),m=m.sibling;J=h,Po=_,vt=I}np(n)}else(h.subtreeFlags&8772)!==0&&m!==null?(m.return=h,J=m):np(n)}}function np(n){for(;J!==null;){var s=J;if((s.flags&8772)!==0){var o=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:vt||Ao(5,s);break;case 1:var u=s.stateNode;if(s.flags&4&&!vt)if(o===null)u.componentDidMount();else{var h=s.elementType===s.type?o.memoizedProps:Xt(s.type,o.memoizedProps);u.componentDidUpdate(h,o.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var m=s.updateQueue;m!==null&&nf(s,m,u);break;case 3:var x=s.updateQueue;if(x!==null){if(o=null,s.child!==null)switch(s.child.tag){case 5:o=s.child.stateNode;break;case 1:o=s.child.stateNode}nf(s,x,o)}break;case 5:var _=s.stateNode;if(o===null&&s.flags&4){o=_;var j=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":j.autoFocus&&o.focus();break;case"img":j.src&&(o.src=j.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var I=s.alternate;if(I!==null){var V=I.memoizedState;if(V!==null){var F=V.dehydrated;F!==null&&$s(F)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}vt||s.flags&512&&Zl(s)}catch(U){Fe(s,s.return,U)}}if(s===n){J=null;break}if(o=s.sibling,o!==null){o.return=s.return,J=o;break}J=s.return}}function rp(n){for(;J!==null;){var s=J;if(s===n){J=null;break}var o=s.sibling;if(o!==null){o.return=s.return,J=o;break}J=s.return}}function sp(n){for(;J!==null;){var s=J;try{switch(s.tag){case 0:case 11:case 15:var o=s.return;try{Ao(4,s)}catch(j){Fe(s,o,j)}break;case 1:var u=s.stateNode;if(typeof u.componentDidMount=="function"){var h=s.return;try{u.componentDidMount()}catch(j){Fe(s,h,j)}}var m=s.return;try{Zl(s)}catch(j){Fe(s,m,j)}break;case 5:var x=s.return;try{Zl(s)}catch(j){Fe(s,x,j)}}}catch(j){Fe(s,s.return,j)}if(s===n){J=null;break}var _=s.sibling;if(_!==null){_.return=s.return,J=_;break}J=s.return}}var ax=Math.ceil,Ro=D.ReactCurrentDispatcher,nu=D.ReactCurrentOwner,zt=D.ReactCurrentBatchConfig,xe=0,ot=null,Je=null,ct=0,Ot=0,Yr=Mn(0),nt=0,ai=null,dr=0,Oo=0,ru=0,li=null,Nt=null,su=0,Xr=1/0,Sn=null,Io=!1,iu=null,Fn=null,Mo=!1,Bn=null,Do=0,ui=0,ou=null,Lo=-1,$o=0;function bt(){return(xe&6)!==0?Ke():Lo!==-1?Lo:Lo=Ke()}function zn(n){return(n.mode&1)===0?1:(xe&2)!==0&&ct!==0?ct&-ct:W0.transition!==null?($o===0&&($o=Qd()),$o):(n=ke,n!==0||(n=window.event,n=n===void 0?16:ih(n.type)),n)}function tn(n,s,o,u){if(50<ui)throw ui=0,ou=null,Error(r(185));Os(n,o,u),((xe&2)===0||n!==ot)&&(n===ot&&((xe&2)===0&&(Oo|=o),nt===4&&Wn(n,ct)),Tt(n,u),o===1&&xe===0&&(s.mode&1)===0&&(Xr=Ke()+500,ho&&Ln()))}function Tt(n,s){var o=n.callbackNode;Wv(n,s);var u=Ki(n,n===ot?ct:0);if(u===0)o!==null&&Gd(o),n.callbackNode=null,n.callbackPriority=0;else if(s=u&-u,n.callbackPriority!==s){if(o!=null&&Gd(o),s===1)n.tag===0?z0(op.bind(null,n)):Wh(op.bind(null,n)),U0(function(){(xe&6)===0&&Ln()}),o=null;else{switch(Yd(u)){case 1:o=Ua;break;case 4:o=qd;break;case 16:o=Bi;break;case 536870912:o=Jd;break;default:o=Bi}o=pp(o,ip.bind(null,n))}n.callbackPriority=s,n.callbackNode=o}}function ip(n,s){if(Lo=-1,$o=0,(xe&6)!==0)throw Error(r(327));var o=n.callbackNode;if(Zr()&&n.callbackNode!==o)return null;var u=Ki(n,n===ot?ct:0);if(u===0)return null;if((u&30)!==0||(u&n.expiredLanes)!==0||s)s=Uo(n,u);else{s=u;var h=xe;xe|=2;var m=lp();(ot!==n||ct!==s)&&(Sn=null,Xr=Ke()+500,fr(n,s));do try{cx();break}catch(_){ap(n,_)}while(!0);kl(),Ro.current=m,xe=h,Je!==null?s=0:(ot=null,ct=0,s=nt)}if(s!==0){if(s===2&&(h=Va(n),h!==0&&(u=h,s=au(n,h))),s===1)throw o=ai,fr(n,0),Wn(n,u),Tt(n,Ke()),o;if(s===6)Wn(n,u);else{if(h=n.current.alternate,(u&30)===0&&!lx(h)&&(s=Uo(n,u),s===2&&(m=Va(n),m!==0&&(u=m,s=au(n,m))),s===1))throw o=ai,fr(n,0),Wn(n,u),Tt(n,Ke()),o;switch(n.finishedWork=h,n.finishedLanes=u,s){case 0:case 1:throw Error(r(345));case 2:pr(n,Nt,Sn);break;case 3:if(Wn(n,u),(u&130023424)===u&&(s=su+500-Ke(),10<s)){if(Ki(n,0)!==0)break;if(h=n.suspendedLanes,(h&u)!==u){bt(),n.pingedLanes|=n.suspendedLanes&h;break}n.timeoutHandle=fl(pr.bind(null,n,Nt,Sn),s);break}pr(n,Nt,Sn);break;case 4:if(Wn(n,u),(u&4194240)===u)break;for(s=n.eventTimes,h=-1;0<u;){var x=31-Jt(u);m=1<<x,x=s[x],x>h&&(h=x),u&=~m}if(u=h,u=Ke()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*ax(u/1960))-u,10<u){n.timeoutHandle=fl(pr.bind(null,n,Nt,Sn),u);break}pr(n,Nt,Sn);break;case 5:pr(n,Nt,Sn);break;default:throw Error(r(329))}}}return Tt(n,Ke()),n.callbackNode===o?ip.bind(null,n):null}function au(n,s){var o=li;return n.current.memoizedState.isDehydrated&&(fr(n,s).flags|=256),n=Uo(n,s),n!==2&&(s=Nt,Nt=o,s!==null&&lu(s)),n}function lu(n){Nt===null?Nt=n:Nt.push.apply(Nt,n)}function lx(n){for(var s=n;;){if(s.flags&16384){var o=s.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var u=0;u<o.length;u++){var h=o[u],m=h.getSnapshot;h=h.value;try{if(!Qt(m(),h))return!1}catch{return!1}}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Wn(n,s){for(s&=~ru,s&=~Oo,n.suspendedLanes|=s,n.pingedLanes&=~s,n=n.expirationTimes;0<s;){var o=31-Jt(s),u=1<<o;n[o]=-1,s&=~u}}function op(n){if((xe&6)!==0)throw Error(r(327));Zr();var s=Ki(n,0);if((s&1)===0)return Tt(n,Ke()),null;var o=Uo(n,s);if(n.tag!==0&&o===2){var u=Va(n);u!==0&&(s=u,o=au(n,u))}if(o===1)throw o=ai,fr(n,0),Wn(n,s),Tt(n,Ke()),o;if(o===6)throw Error(r(345));return n.finishedWork=n.current.alternate,n.finishedLanes=s,pr(n,Nt,Sn),Tt(n,Ke()),null}function uu(n,s){var o=xe;xe|=1;try{return n(s)}finally{xe=o,xe===0&&(Xr=Ke()+500,ho&&Ln())}}function hr(n){Bn!==null&&Bn.tag===0&&(xe&6)===0&&Zr();var s=xe;xe|=1;var o=zt.transition,u=ke;try{if(zt.transition=null,ke=1,n)return n()}finally{ke=u,zt.transition=o,xe=s,(xe&6)===0&&Ln()}}function cu(){Ot=Yr.current,Re(Yr)}function fr(n,s){n.finishedWork=null,n.finishedLanes=0;var o=n.timeoutHandle;if(o!==-1&&(n.timeoutHandle=-1,$0(o)),Je!==null)for(o=Je.return;o!==null;){var u=o;switch(xl(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&uo();break;case 3:qr(),Re(St),Re(mt),Rl();break;case 5:Pl(u);break;case 4:qr();break;case 13:Re(Le);break;case 19:Re(Le);break;case 10:jl(u.type._context);break;case 22:case 23:cu()}o=o.return}if(ot=n,Je=n=Hn(n.current,null),ct=Ot=s,nt=0,ai=null,ru=Oo=dr=0,Nt=li=null,lr!==null){for(s=0;s<lr.length;s++)if(o=lr[s],u=o.interleaved,u!==null){o.interleaved=null;var h=u.next,m=o.pending;if(m!==null){var x=m.next;m.next=h,u.next=x}o.pending=u}lr=null}return n}function ap(n,s){do{var o=Je;try{if(kl(),_o.current=No,So){for(var u=$e.memoizedState;u!==null;){var h=u.queue;h!==null&&(h.pending=null),u=u.next}So=!1}if(cr=0,it=tt=$e=null,ti=!1,ni=0,nu.current=null,o===null||o.return===null){nt=1,ai=s,Je=null;break}e:{var m=n,x=o.return,_=o,j=s;if(s=ct,_.flags|=32768,j!==null&&typeof j=="object"&&typeof j.then=="function"){var I=j,V=_,F=V.tag;if((V.mode&1)===0&&(F===0||F===11||F===15)){var U=V.alternate;U?(V.updateQueue=U.updateQueue,V.memoizedState=U.memoizedState,V.lanes=U.lanes):(V.updateQueue=null,V.memoizedState=null)}var q=Rf(x);if(q!==null){q.flags&=-257,Of(q,x,_,m,s),q.mode&1&&Af(m,I,s),s=q,j=I;var Q=s.updateQueue;if(Q===null){var Y=new Set;Y.add(j),s.updateQueue=Y}else Q.add(j);break e}else{if((s&1)===0){Af(m,I,s),du();break e}j=Error(r(426))}}else if(Me&&_.mode&1){var Ge=Rf(x);if(Ge!==null){(Ge.flags&65536)===0&&(Ge.flags|=256),Of(Ge,x,_,m,s),_l(Jr(j,_));break e}}m=j=Jr(j,_),nt!==4&&(nt=2),li===null?li=[m]:li.push(m),m=x;do{switch(m.tag){case 3:m.flags|=65536,s&=-s,m.lanes|=s;var R=Cf(m,j,s);tf(m,R);break e;case 1:_=j;var T=m.type,O=m.stateNode;if((m.flags&128)===0&&(typeof T.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(Fn===null||!Fn.has(O)))){m.flags|=65536,s&=-s,m.lanes|=s;var z=Pf(m,_,s);tf(m,z);break e}}m=m.return}while(m!==null)}cp(o)}catch(X){s=X,Je===o&&o!==null&&(Je=o=o.return);continue}break}while(!0)}function lp(){var n=Ro.current;return Ro.current=No,n===null?No:n}function du(){(nt===0||nt===3||nt===2)&&(nt=4),ot===null||(dr&268435455)===0&&(Oo&268435455)===0||Wn(ot,ct)}function Uo(n,s){var o=xe;xe|=2;var u=lp();(ot!==n||ct!==s)&&(Sn=null,fr(n,s));do try{ux();break}catch(h){ap(n,h)}while(!0);if(kl(),xe=o,Ro.current=u,Je!==null)throw Error(r(261));return ot=null,ct=0,nt}function ux(){for(;Je!==null;)up(Je)}function cx(){for(;Je!==null&&!Mv();)up(Je)}function up(n){var s=fp(n.alternate,n,Ot);n.memoizedProps=n.pendingProps,s===null?cp(n):Je=s,nu.current=null}function cp(n){var s=n;do{var o=s.alternate;if(n=s.return,(s.flags&32768)===0){if(o=nx(o,s,Ot),o!==null){Je=o;return}}else{if(o=rx(o,s),o!==null){o.flags&=32767,Je=o;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{nt=6,Je=null;return}}if(s=s.sibling,s!==null){Je=s;return}Je=s=n}while(s!==null);nt===0&&(nt=5)}function pr(n,s,o){var u=ke,h=zt.transition;try{zt.transition=null,ke=1,dx(n,s,o,u)}finally{zt.transition=h,ke=u}return null}function dx(n,s,o,u){do Zr();while(Bn!==null);if((xe&6)!==0)throw Error(r(327));o=n.finishedWork;var h=n.finishedLanes;if(o===null)return null;if(n.finishedWork=null,n.finishedLanes=0,o===n.current)throw Error(r(177));n.callbackNode=null,n.callbackPriority=0;var m=o.lanes|o.childLanes;if(Hv(n,m),n===ot&&(Je=ot=null,ct=0),(o.subtreeFlags&2064)===0&&(o.flags&2064)===0||Mo||(Mo=!0,pp(Bi,function(){return Zr(),null})),m=(o.flags&15990)!==0,(o.subtreeFlags&15990)!==0||m){m=zt.transition,zt.transition=null;var x=ke;ke=1;var _=xe;xe|=4,nu.current=null,ix(n,o),ep(o,n),A0(dl),Ji=!!cl,dl=cl=null,n.current=o,ox(o),Dv(),xe=_,ke=x,zt.transition=m}else n.current=o;if(Mo&&(Mo=!1,Bn=n,Do=h),m=n.pendingLanes,m===0&&(Fn=null),Uv(o.stateNode),Tt(n,Ke()),s!==null)for(u=n.onRecoverableError,o=0;o<s.length;o++)h=s[o],u(h.value,{componentStack:h.stack,digest:h.digest});if(Io)throw Io=!1,n=iu,iu=null,n;return(Do&1)!==0&&n.tag!==0&&Zr(),m=n.pendingLanes,(m&1)!==0?n===ou?ui++:(ui=0,ou=n):ui=0,Ln(),null}function Zr(){if(Bn!==null){var n=Yd(Do),s=zt.transition,o=ke;try{if(zt.transition=null,ke=16>n?16:n,Bn===null)var u=!1;else{if(n=Bn,Bn=null,Do=0,(xe&6)!==0)throw Error(r(331));var h=xe;for(xe|=4,J=n.current;J!==null;){var m=J,x=m.child;if((J.flags&16)!==0){var _=m.deletions;if(_!==null){for(var j=0;j<_.length;j++){var I=_[j];for(J=I;J!==null;){var V=J;switch(V.tag){case 0:case 11:case 15:oi(8,V,m)}var F=V.child;if(F!==null)F.return=V,J=F;else for(;J!==null;){V=J;var U=V.sibling,q=V.return;if(Jf(V),V===I){J=null;break}if(U!==null){U.return=q,J=U;break}J=q}}}var Q=m.alternate;if(Q!==null){var Y=Q.child;if(Y!==null){Q.child=null;do{var Ge=Y.sibling;Y.sibling=null,Y=Ge}while(Y!==null)}}J=m}}if((m.subtreeFlags&2064)!==0&&x!==null)x.return=m,J=x;else e:for(;J!==null;){if(m=J,(m.flags&2048)!==0)switch(m.tag){case 0:case 11:case 15:oi(9,m,m.return)}var R=m.sibling;if(R!==null){R.return=m.return,J=R;break e}J=m.return}}var T=n.current;for(J=T;J!==null;){x=J;var O=x.child;if((x.subtreeFlags&2064)!==0&&O!==null)O.return=x,J=O;else e:for(x=T;J!==null;){if(_=J,(_.flags&2048)!==0)try{switch(_.tag){case 0:case 11:case 15:Ao(9,_)}}catch(X){Fe(_,_.return,X)}if(_===x){J=null;break e}var z=_.sibling;if(z!==null){z.return=_.return,J=z;break e}J=_.return}}if(xe=h,Ln(),un&&typeof un.onPostCommitFiberRoot=="function")try{un.onPostCommitFiberRoot(zi,n)}catch{}u=!0}return u}finally{ke=o,zt.transition=s}}return!1}function dp(n,s,o){s=Jr(o,s),s=Cf(n,s,1),n=Un(n,s,1),s=bt(),n!==null&&(Os(n,1,s),Tt(n,s))}function Fe(n,s,o){if(n.tag===3)dp(n,n,o);else for(;s!==null;){if(s.tag===3){dp(s,n,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Fn===null||!Fn.has(u))){n=Jr(o,n),n=Pf(s,n,1),s=Un(s,n,1),n=bt(),s!==null&&(Os(s,1,n),Tt(s,n));break}}s=s.return}}function hx(n,s,o){var u=n.pingCache;u!==null&&u.delete(s),s=bt(),n.pingedLanes|=n.suspendedLanes&o,ot===n&&(ct&o)===o&&(nt===4||nt===3&&(ct&130023424)===ct&&500>Ke()-su?fr(n,0):ru|=o),Tt(n,s)}function hp(n,s){s===0&&((n.mode&1)===0?s=1:(s=Hi,Hi<<=1,(Hi&130023424)===0&&(Hi=4194304)));var o=bt();n=wn(n,s),n!==null&&(Os(n,s,o),Tt(n,o))}function fx(n){var s=n.memoizedState,o=0;s!==null&&(o=s.retryLane),hp(n,o)}function px(n,s){var o=0;switch(n.tag){case 13:var u=n.stateNode,h=n.memoizedState;h!==null&&(o=h.retryLane);break;case 19:u=n.stateNode;break;default:throw Error(r(314))}u!==null&&u.delete(s),hp(n,o)}var fp;fp=function(n,s,o){if(n!==null)if(n.memoizedProps!==s.pendingProps||St.current)jt=!0;else{if((n.lanes&o)===0&&(s.flags&128)===0)return jt=!1,tx(n,s,o);jt=(n.flags&131072)!==0}else jt=!1,Me&&(s.flags&1048576)!==0&&Hh(s,po,s.index);switch(s.lanes=0,s.tag){case 2:var u=s.type;Co(n,s),n=s.pendingProps;var h=Fr(s,mt.current);Gr(s,o),h=Ml(null,s,u,n,h,o);var m=Dl();return s.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,kt(u)?(m=!0,co(s)):m=!1,s.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,El(s),h.updater=To,s.stateNode=h,h._reactInternals=s,Bl(s,u,n,o),s=Kl(null,s,u,!0,m,o)):(s.tag=0,Me&&m&&vl(s),wt(null,s,h,o),s=s.child),s;case 16:u=s.elementType;e:{switch(Co(n,s),n=s.pendingProps,h=u._init,u=h(u._payload),s.type=u,h=s.tag=gx(u),n=Xt(u,n),h){case 0:s=Hl(null,s,u,n,o);break e;case 1:s=Uf(null,s,u,n,o);break e;case 11:s=If(null,s,u,n,o);break e;case 14:s=Mf(null,s,u,Xt(u.type,n),o);break e}throw Error(r(306,u,""))}return s;case 0:return u=s.type,h=s.pendingProps,h=s.elementType===u?h:Xt(u,h),Hl(n,s,u,h,o);case 1:return u=s.type,h=s.pendingProps,h=s.elementType===u?h:Xt(u,h),Uf(n,s,u,h,o);case 3:e:{if(Vf(s),n===null)throw Error(r(387));u=s.pendingProps,m=s.memoizedState,h=m.element,ef(n,s),wo(s,u,null,o);var x=s.memoizedState;if(u=x.element,m.isDehydrated)if(m={element:u,isDehydrated:!1,cache:x.cache,pendingSuspenseBoundaries:x.pendingSuspenseBoundaries,transitions:x.transitions},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){h=Jr(Error(r(423)),s),s=Ff(n,s,u,o,h);break e}else if(u!==h){h=Jr(Error(r(424)),s),s=Ff(n,s,u,o,h);break e}else for(Rt=In(s.stateNode.containerInfo.firstChild),At=s,Me=!0,Yt=null,o=Xh(s,null,u,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Wr(),u===h){s=_n(n,s,o);break e}wt(n,s,u,o)}s=s.child}return s;case 5:return rf(s),n===null&&bl(s),u=s.type,h=s.pendingProps,m=n!==null?n.memoizedProps:null,x=h.children,hl(u,h)?x=null:m!==null&&hl(u,m)&&(s.flags|=32),$f(n,s),wt(n,s,x,o),s.child;case 6:return n===null&&bl(s),null;case 13:return Bf(n,s,o);case 4:return Cl(s,s.stateNode.containerInfo),u=s.pendingProps,n===null?s.child=Hr(s,null,u,o):wt(n,s,u,o),s.child;case 11:return u=s.type,h=s.pendingProps,h=s.elementType===u?h:Xt(u,h),If(n,s,u,h,o);case 7:return wt(n,s,s.pendingProps,o),s.child;case 8:return wt(n,s,s.pendingProps.children,o),s.child;case 12:return wt(n,s,s.pendingProps.children,o),s.child;case 10:e:{if(u=s.type._context,h=s.pendingProps,m=s.memoizedProps,x=h.value,Ce(yo,u._currentValue),u._currentValue=x,m!==null)if(Qt(m.value,x)){if(m.children===h.children&&!St.current){s=_n(n,s,o);break e}}else for(m=s.child,m!==null&&(m.return=s);m!==null;){var _=m.dependencies;if(_!==null){x=m.child;for(var j=_.firstContext;j!==null;){if(j.context===u){if(m.tag===1){j=bn(-1,o&-o),j.tag=2;var I=m.updateQueue;if(I!==null){I=I.shared;var V=I.pending;V===null?j.next=j:(j.next=V.next,V.next=j),I.pending=j}}m.lanes|=o,j=m.alternate,j!==null&&(j.lanes|=o),Nl(m.return,o,s),_.lanes|=o;break}j=j.next}}else if(m.tag===10)x=m.type===s.type?null:m.child;else if(m.tag===18){if(x=m.return,x===null)throw Error(r(341));x.lanes|=o,_=x.alternate,_!==null&&(_.lanes|=o),Nl(x,o,s),x=m.sibling}else x=m.child;if(x!==null)x.return=m;else for(x=m;x!==null;){if(x===s){x=null;break}if(m=x.sibling,m!==null){m.return=x.return,x=m;break}x=x.return}m=x}wt(n,s,h.children,o),s=s.child}return s;case 9:return h=s.type,u=s.pendingProps.children,Gr(s,o),h=Ft(h),u=u(h),s.flags|=1,wt(n,s,u,o),s.child;case 14:return u=s.type,h=Xt(u,s.pendingProps),h=Xt(u.type,h),Mf(n,s,u,h,o);case 15:return Df(n,s,s.type,s.pendingProps,o);case 17:return u=s.type,h=s.pendingProps,h=s.elementType===u?h:Xt(u,h),Co(n,s),s.tag=1,kt(u)?(n=!0,co(s)):n=!1,Gr(s,o),Tf(s,u,h),Bl(s,u,h,o),Kl(null,s,u,!0,n,o);case 19:return Wf(n,s,o);case 22:return Lf(n,s,o)}throw Error(r(156,s.tag))};function pp(n,s){return Kd(n,s)}function mx(n,s,o,u){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wt(n,s,o,u){return new mx(n,s,o,u)}function hu(n){return n=n.prototype,!(!n||!n.isReactComponent)}function gx(n){if(typeof n=="function")return hu(n)?1:0;if(n!=null){if(n=n.$$typeof,n===We)return 11;if(n===Ze)return 14}return 2}function Hn(n,s){var o=n.alternate;return o===null?(o=Wt(n.tag,s,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=s,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&14680064,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,s=n.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o}function Vo(n,s,o,u,h,m){var x=2;if(u=n,typeof n=="function")hu(n)&&(x=1);else if(typeof n=="string")x=5;else e:switch(n){case K:return mr(o.children,h,m,s);case H:x=8,h|=8;break;case se:return n=Wt(12,o,s,h|2),n.elementType=se,n.lanes=m,n;case de:return n=Wt(13,o,s,h),n.elementType=de,n.lanes=m,n;case He:return n=Wt(19,o,s,h),n.elementType=He,n.lanes=m,n;case ce:return Fo(o,h,m,s);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case me:x=10;break e;case _e:x=9;break e;case We:x=11;break e;case Ze:x=14;break e;case et:x=16,u=null;break e}throw Error(r(130,n==null?n:typeof n,""))}return s=Wt(x,o,s,h),s.elementType=n,s.type=u,s.lanes=m,s}function mr(n,s,o,u){return n=Wt(7,n,u,s),n.lanes=o,n}function Fo(n,s,o,u){return n=Wt(22,n,u,s),n.elementType=ce,n.lanes=o,n.stateNode={isHidden:!1},n}function fu(n,s,o){return n=Wt(6,n,null,s),n.lanes=o,n}function pu(n,s,o){return s=Wt(4,n.children!==null?n.children:[],n.key,s),s.lanes=o,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}function yx(n,s,o,u,h){this.tag=s,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fa(0),this.expirationTimes=Fa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fa(0),this.identifierPrefix=u,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function mu(n,s,o,u,h,m,x,_,j){return n=new yx(n,s,o,_,j),s===1?(s=1,m===!0&&(s|=8)):s=0,m=Wt(3,null,null,s),n.current=m,m.stateNode=n,m.memoizedState={element:u,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},El(m),n}function vx(n,s,o){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:B,key:u==null?null:""+u,children:n,containerInfo:s,implementation:o}}function mp(n){if(!n)return Dn;n=n._reactInternals;e:{if(rr(n)!==n||n.tag!==1)throw Error(r(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(kt(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(r(171))}if(n.tag===1){var o=n.type;if(kt(o))return Bh(n,o,s)}return s}function gp(n,s,o,u,h,m,x,_,j){return n=mu(o,u,!0,n,h,m,x,_,j),n.context=mp(null),o=n.current,u=bt(),h=zn(o),m=bn(u,h),m.callback=s??null,Un(o,m,h),n.current.lanes=h,Os(n,h,u),Tt(n,u),n}function Bo(n,s,o,u){var h=s.current,m=bt(),x=zn(h);return o=mp(o),s.context===null?s.context=o:s.pendingContext=o,s=bn(m,x),s.payload={element:n},u=u===void 0?null:u,u!==null&&(s.callback=u),n=Un(h,s,x),n!==null&&(tn(n,h,x,m),xo(n,h,x)),x}function zo(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function yp(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<s?o:s}}function gu(n,s){yp(n,s),(n=n.alternate)&&yp(n,s)}function xx(){return null}var vp=typeof reportError=="function"?reportError:function(n){console.error(n)};function yu(n){this._internalRoot=n}Wo.prototype.render=yu.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(r(409));Bo(n,s,null,null)},Wo.prototype.unmount=yu.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;hr(function(){Bo(null,n,null,null)}),s[gn]=null}};function Wo(n){this._internalRoot=n}Wo.prototype.unstable_scheduleHydration=function(n){if(n){var s=eh();n={blockedOn:null,target:n,priority:s};for(var o=0;o<An.length&&s!==0&&s<An[o].priority;o++);An.splice(o,0,n),o===0&&rh(n)}};function vu(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Ho(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function xp(){}function wx(n,s,o,u,h){if(h){if(typeof u=="function"){var m=u;u=function(){var I=zo(x);m.call(I)}}var x=gp(s,u,n,0,null,!1,!1,"",xp);return n._reactRootContainer=x,n[gn]=x.current,Gs(n.nodeType===8?n.parentNode:n),hr(),x}for(;h=n.lastChild;)n.removeChild(h);if(typeof u=="function"){var _=u;u=function(){var I=zo(j);_.call(I)}}var j=mu(n,0,!1,null,null,!1,!1,"",xp);return n._reactRootContainer=j,n[gn]=j.current,Gs(n.nodeType===8?n.parentNode:n),hr(function(){Bo(s,j,o,u)}),j}function Ko(n,s,o,u,h){var m=o._reactRootContainer;if(m){var x=m;if(typeof h=="function"){var _=h;h=function(){var j=zo(x);_.call(j)}}Bo(s,x,n,h)}else x=wx(o,s,n,h,u);return zo(x)}Xd=function(n){switch(n.tag){case 3:var s=n.stateNode;if(s.current.memoizedState.isDehydrated){var o=Rs(s.pendingLanes);o!==0&&(Ba(s,o|1),Tt(s,Ke()),(xe&6)===0&&(Xr=Ke()+500,Ln()))}break;case 13:hr(function(){var u=wn(n,1);if(u!==null){var h=bt();tn(u,n,1,h)}}),gu(n,1)}},za=function(n){if(n.tag===13){var s=wn(n,134217728);if(s!==null){var o=bt();tn(s,n,134217728,o)}gu(n,134217728)}},Zd=function(n){if(n.tag===13){var s=zn(n),o=wn(n,s);if(o!==null){var u=bt();tn(o,n,s,u)}gu(n,s)}},eh=function(){return ke},th=function(n,s){var o=ke;try{return ke=n,s()}finally{ke=o}},Ma=function(n,s,o){switch(s){case"input":if($t(n,o),s=o.name,o.type==="radio"&&s!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==n&&u.form===n.form){var h=lo(u);if(!h)throw Error(r(90));Se(u),$t(u,h)}}}break;case"textarea":Pd(n,o);break;case"select":s=o.value,s!=null&&qe(n,!!o.multiple,s,!1)}},Ud=uu,Vd=hr;var bx={usingClientEntryPoint:!1,Events:[Qs,Ur,lo,Ld,$d,uu]},ci={findFiberByHostInstance:sr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},_x={bundleType:ci.bundleType,version:ci.version,rendererPackageName:ci.rendererPackageName,rendererConfig:ci.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:D.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=Wd(n),n===null?null:n.stateNode},findFiberByHostInstance:ci.findFiberByHostInstance||xx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Go=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Go.isDisabled&&Go.supportsFiber)try{zi=Go.inject(_x),un=Go}catch{}}return Et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bx,Et.createPortal=function(n,s){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vu(s))throw Error(r(200));return vx(n,s,null,o)},Et.createRoot=function(n,s){if(!vu(n))throw Error(r(299));var o=!1,u="",h=vp;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onRecoverableError!==void 0&&(h=s.onRecoverableError)),s=mu(n,1,!1,null,null,o,!1,u,h),n[gn]=s.current,Gs(n.nodeType===8?n.parentNode:n),new yu(s)},Et.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=Wd(s),n=n===null?null:n.stateNode,n},Et.flushSync=function(n){return hr(n)},Et.hydrate=function(n,s,o){if(!Ho(s))throw Error(r(200));return Ko(null,n,s,!0,o)},Et.hydrateRoot=function(n,s,o){if(!vu(n))throw Error(r(405));var u=o!=null&&o.hydratedSources||null,h=!1,m="",x=vp;if(o!=null&&(o.unstable_strictMode===!0&&(h=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onRecoverableError!==void 0&&(x=o.onRecoverableError)),s=gp(s,null,n,1,o??null,h,!1,m,x),n[gn]=s.current,Gs(n),u)for(n=0;n<u.length;n++)o=u[n],h=o._getVersion,h=h(o._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[o,h]:s.mutableSourceEagerHydrationData.push(o,h);return new Wo(s)},Et.render=function(n,s,o){if(!Ho(s))throw Error(r(200));return Ko(null,n,s,!1,o)},Et.unmountComponentAtNode=function(n){if(!Ho(n))throw Error(r(40));return n._reactRootContainer?(hr(function(){Ko(null,null,n,!1,function(){n._reactRootContainer=null,n[gn]=null})}),!0):!1},Et.unstable_batchedUpdates=uu,Et.unstable_renderSubtreeIntoContainer=function(n,s,o,u){if(!Ho(o))throw Error(r(200));if(n==null||n._reactInternals===void 0)throw Error(r(38));return Ko(n,s,o,!1,u)},Et.version="18.3.1-next-f1338f8080-20240426",Et}var Tp;function xg(){if(Tp)return bu.exports;Tp=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),bu.exports=Cx(),bu.exports}var Ep;function Px(){if(Ep)return qo;Ep=1;var t=xg();return qo.createRoot=t.createRoot,qo.hydrateRoot=t.hydrateRoot,qo}var Ax=Px(),M=Oc(),Ic=xg();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rx=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ox=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,i)=>i?i.toUpperCase():r.toLowerCase()),Cp=t=>{const e=Ox(t);return e.charAt(0).toUpperCase()+e.slice(1)},wg=(...t)=>t.filter((e,r,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ix={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mx=M.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:i,className:a="",children:l,iconNode:c,...f},p)=>M.createElement("svg",{ref:p,...Ix,width:e,height:e,stroke:t,strokeWidth:i?Number(r)*24/Number(e):r,className:wg("lucide",a),...f},[...c.map(([g,y])=>M.createElement(g,y)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=(t,e)=>{const r=M.forwardRef(({className:i,...a},l)=>M.createElement(Mx,{ref:l,iconNode:e,className:wg(`lucide-${Rx(Cp(t))}`,`lucide-${t}`,i),...a}));return r.displayName=Cp(t),r};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dx=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],bg=ue("arrow-left",Dx);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lx=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],_g=ue("award",Lx);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $x=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Ux=ue("book-open",$x);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vx=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],Pp=ue("check-check",Vx);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fx=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Ap=ue("chevron-left",Fx);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bx=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ku=ue("chevron-right",Bx);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Rp=ue("circle-check",zx);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Hx=ue("circle",Wx);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Sg=ue("clock",Kx);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gx=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],qx=ue("coins",Gx);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jx=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],Qx=ue("download",Jx);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yx=[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]],la=ue("droplet",Yx);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xx=[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]],Op=ue("flag",Xx);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zx=[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]],kg=ue("flame",Zx);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ew=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],tw=ue("gift",ew);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nw=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],rw=ue("image",nw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sw=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],iw=ue("info",sw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ow=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],aw=ue("lock",ow);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lw=[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]],uw=ue("log-in",lw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cw=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],dw=ue("log-out",cw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hw=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],ua=ue("mail",hw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fw=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],jg=ue("map-pin",fw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pw=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],mw=ue("map",pw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gw=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],ca=ue("package",gw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yw=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Mc=ue("pen",yw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vw=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],xw=ue("play",vw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ww=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ys=ue("plus",ww);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bw=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],_w=ue("rotate-ccw",bw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sw=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],ba=ue("save",Sw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kw=[["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]],Xn=ue("scroll",kw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jw=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Nw=ue("settings",jw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tw=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Dc=ue("shield",Tw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ew=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],ln=ue("sparkles",Ew);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cw=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Lt=ue("star",Cw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pw=[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}]],Lc=ue("sword",Pw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aw=[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]],Rw=ue("swords",Aw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ow=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],$c=ue("target",Ow);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iw=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Qn=ue("trash-2",Iw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mw=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],Uc=ue("trending-up",Mw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dw=[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]],da=ue("trophy",Dw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lw=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],$w=ue("upload",Lw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uw=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Vw=ue("user-plus",Uw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fw=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Bw=ue("user",Fw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zw=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],Ww=ue("volume-2",zw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hw=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],Kw=ue("volume-x",Hw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gw=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],_s=ue("x",Gw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qw=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Jw=ue("zap",qw);function Qw({quests:t,setQuests:e,onResetQuests:r,onShowEpilogue:i,onBackToSelection:a,onLogout:l,adventureExp:c,primogems:f,mora:p}){const[g,y]=M.useState(null),[v,w]=M.useState(!1),[b,S]=M.useState(!1);M.useEffect(()=>{console.log(" QuestsScreen received quests:",t.length,"total"),console.log(" Quest titles:",t.map(L=>L.title))},[t]);const E=Array.isArray(t)?t.filter(L=>!L.completed):[],A=Array.isArray(t)?t.filter(L=>L.completed):[],k=t&&t.length>0&&E.length===0;M.useEffect(()=>{if(g){const L=t.find(B=>B.id===g.id);L&&y(L)}},[t]),M.useEffect(()=>{k&&(S(!0),y(null),w(!1))},[k]);const C=(L,B)=>{e(K=>K.map(H=>{if(H.id===L){const se=H.tasks.map(de=>de.id===B?{...de,completed:!de.completed}:de),me=se.filter(de=>de.completed).length,_e=Math.round(me/se.length*100);return{...H,tasks:se,progress:_e,completed:_e===100}}return H}))},N=()=>{w(!0)},D=()=>{y(null),w(!1)};return d.jsxs("div",{className:"h-full overflow-y-auto pb-20",children:[d.jsxs("div",{className:"p-4 sm:p-5 bg-gradient-to-b from-[#2a2a4e] to-transparent safe-top",children:[d.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-2",children:[d.jsx("button",{onClick:a,className:"w-9 h-9 sm:w-10 sm:h-10 rounded-full bg-white/10 flex items-center justify-center hover:bg-white/20 transition-colors flex-shrink-0",children:d.jsx(bg,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white"})}),d.jsx("button",{onClick:l,className:"w-9 h-9 sm:w-10 sm:h-10 rounded-full bg-[#4a90e2] flex items-center justify-center hover:bg-[#3a79c0] transition-colors flex-shrink-0",title:"Sign Out",children:d.jsx(dw,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white"})}),d.jsx(Xn,{className:"w-5 h-5 sm:w-6 sm:h-6 text-[#e6be8a]"}),d.jsx("h2",{className:"text-[#e8e8e8]",children:"Quest Log"}),d.jsx("button",{onClick:r,className:"ml-auto w-8 h-8 rounded-full bg-gradient-to-br from-[#ef4444] to-[#dc2626] hover:from-[#dc2626] hover:to-[#b91c1c] flex items-center justify-center transition-all hover:scale-110 shadow-lg shadow-red-500/30",title:"Factory Reset (Danger Zone)",children:d.jsx(_w,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-white"})})]}),d.jsx("p",{className:"text-[#a8a8b8] text-xs",children:"Track your adventures across Teyvat"})]}),d.jsx("div",{className:"px-4 sm:px-5 mb-6",children:d.jsxs("div",{className:"bg-gradient-to-br from-[#16213e] to-[#1a1a2e] rounded-2xl p-3 sm:p-4 border border-[#e6be8a]/20",children:[d.jsxs("h3",{className:"text-[#e8e8e8] mb-3 flex items-center gap-2",children:[d.jsx(Uc,{className:"w-4 h-4 text-[#e6be8a]"}),"Traveler Stats"]}),d.jsxs("div",{className:"grid grid-cols-3 gap-2 sm:gap-3",children:[d.jsxs("div",{className:"bg-[#1a1a2e]/50 rounded-lg p-2 sm:p-3",children:[d.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 mb-1",children:[d.jsx(Lt,{className:"w-3 h-3 sm:w-4 sm:h-4 text-[#4a90e2]"}),d.jsx("span",{className:"text-[#a8a8b8] text-[10px] sm:text-xs",children:"Adv. EXP"})]}),d.jsx("div",{className:"text-[#e8e8e8] text-sm sm:text-base",children:c.toLocaleString()})]}),d.jsxs("div",{className:"bg-[#1a1a2e]/50 rounded-lg p-2 sm:p-3",children:[d.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 mb-1",children:[d.jsx(ln,{className:"w-3 h-3 sm:w-4 sm:h-4 text-[#7b68ee]"}),d.jsx("span",{className:"text-[#a8a8b8] text-[10px] sm:text-xs",children:"Primogems"})]}),d.jsx("div",{className:"text-[#e8e8e8] text-sm sm:text-base",children:f.toLocaleString()})]}),d.jsxs("div",{className:"bg-[#1a1a2e]/50 rounded-lg p-2 sm:p-3",children:[d.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 mb-1",children:[d.jsx(qx,{className:"w-3 h-3 sm:w-4 sm:h-4 text-[#f5a623]"}),d.jsx("span",{className:"text-[#a8a8b8] text-[10px] sm:text-xs",children:"Mora"})]}),d.jsx("div",{className:"text-[#e8e8e8] text-sm sm:text-base",children:p.toLocaleString()})]})]})]})}),d.jsxs("div",{className:"px-4 sm:px-5 mb-6",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx($c,{className:"w-4 h-4 text-[#4a90e2]"}),d.jsx("h3",{className:"text-[#e8e8e8]",children:"Active Quests"}),d.jsx("span",{className:"ml-auto bg-[#4a90e2]/20 text-[#4a90e2] px-2 py-1 rounded-full text-xs",children:E.length})]}),d.jsx("div",{className:"space-y-3",children:E.map(L=>d.jsx(Ip,{quest:L,onClick:()=>y(L)},L.id))})]}),A.length>0&&d.jsxs("div",{className:"px-4 sm:px-5",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(Lt,{className:"w-4 h-4 text-[#e6be8a]"}),d.jsx("h3",{className:"text-[#e8e8e8]",children:"Completed"}),d.jsx("span",{className:"ml-auto bg-[#e6be8a]/20 text-[#e6be8a] px-2 py-1 rounded-full text-xs",children:A.length})]}),d.jsx("div",{className:"space-y-3",children:A.map(L=>d.jsx(Ip,{quest:L,onClick:()=>y(L)},L.id))})]}),g&&Ic.createPortal(d.jsx(Yw,{quest:g,onClose:D,onTaskToggle:C,isTracking:v,onTrackQuest:N}),document.body),k&&b&&d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm animate-in fade-in",children:d.jsxs("div",{className:"w-full max-w-[380px] bg-[#16213e] rounded-3xl border border-white/10 animate-in slide-in-from-bottom mx-4 overflow-hidden",children:[d.jsxs("div",{className:"bg-gradient-to-b from-[#16213e] to-[#16213e]/95 backdrop-blur-sm p-5 border-b border-white/10 rounded-t-3xl",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("div",{className:"flex items-center gap-2",children:d.jsx("span",{className:"text-[10px] uppercase px-2 py-0.5 rounded",style:{backgroundColor:"#e6be8a20",color:"#e6be8a"},children:"All Quests Complete"})}),d.jsx("button",{onClick:()=>S(!1),className:"w-8 h-8 rounded-full bg-[#1a1a2e]/80 flex items-center justify-center hover:bg-[#1a1a2e] transition-colors",children:d.jsx(_s,{className:"w-5 h-5 text-[#e8e8e8]"})})]}),d.jsx("h2",{className:"text-[#e8e8e8] text-xl",children:"Journey Complete"})]}),d.jsxs("div",{className:"p-5 space-y-4 rounded-b-3xl",children:[d.jsxs("div",{children:[d.jsxs("h3",{className:"text-[#e8e8e8] mb-2 flex items-center gap-2",children:[d.jsx(Xn,{className:"w-4 h-4 text-[#4a90e2]"}),"Epilogue Available"]}),d.jsx("p",{className:"text-[#a8a8b8] text-sm leading-relaxed",children:"Congratulations on completing all quests! Your journey has reached its end. View the epilogue to reflect on your adventure."})]}),d.jsxs("button",{onClick:i,className:"w-full bg-gradient-to-r from-[#e6be8a] to-[#d4a574] rounded-xl p-4 text-white hover:scale-[1.02] transition-transform flex items-center justify-center gap-2",children:[d.jsx(Lt,{className:"w-5 h-5"}),"View Epilogue"]})]})]})})]})}function Ip({quest:t,onClick:e}){const r=a=>{switch(a){case"main":return"#e6be8a";case"side":return"#4a90e2";case"commission":return"#7b68ee"}},i=a=>{switch(a){case"main":return"bg-[#e6be8a]/10 border-[#e6be8a]/30";case"side":return"bg-[#4a90e2]/10 border-[#4a90e2]/30";case"commission":return"bg-[#7b68ee]/10 border-[#7b68ee]/30"}};return d.jsxs("button",{onClick:e,className:`w-full bg-[#16213e]/80 backdrop-blur-sm rounded-xl border ${i(t.type)} p-4 ${t.completed?"opacity-60":""} hover:scale-[1.02] transition-transform text-left`,children:[d.jsx("div",{className:"flex items-start justify-between mb-2",children:d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[d.jsx("span",{className:"text-[10px] uppercase px-2 py-0.5 rounded",style:{backgroundColor:`${r(t.type)}20`,color:r(t.type)},children:t.type}),t.completed&&d.jsx("span",{className:"text-[10px] uppercase px-2 py-0.5 rounded bg-green-500/20 text-green-400",children:"Complete"})]}),d.jsx("h3",{className:"text-[#e8e8e8] text-sm mb-1",children:t.title}),d.jsx("p",{className:"text-[#a8a8b8] text-xs leading-relaxed",children:t.description})]})}),d.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[d.jsx(jg,{className:"w-3 h-3 text-[#a8a8b8]"}),d.jsx("span",{className:"text-[#a8a8b8] text-xs",children:t.location})]}),!t.completed&&d.jsxs("div",{className:"mb-3",children:[d.jsxs("div",{className:"flex justify-between items-center mb-1",children:[d.jsx("span",{className:"text-[#a8a8b8] text-[10px]",children:"Progress"}),d.jsxs("span",{className:"text-[#e8e8e8] text-[10px]",children:[t.progress,"%"]})]}),d.jsx("div",{className:"w-full bg-[#1a1a2e] rounded-full h-1.5 overflow-hidden",children:d.jsx("div",{className:"h-full bg-gradient-to-r from-[#4a90e2] to-[#7b68ee] transition-all duration-300",style:{width:`${t.progress}%`}})})]}),d.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-white/5",children:[d.jsx("div",{className:"flex items-center gap-1",children:[...Array(5)].map((a,l)=>d.jsx(Lc,{className:`w-3 h-3 ${l<t.difficulty?"text-[#e6be8a]":"text-[#a8a8b8]/20"}`},l))}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(Lt,{className:"w-3 h-3 text-[#e6be8a]"}),d.jsxs("span",{className:"text-[#a8a8b8] text-xs",children:[t.rewards?.length||0," rewards"]})]})]})]})}function Yw({quest:t,onClose:e,onTaskToggle:r,isTracking:i,onTrackQuest:a}){const l=c=>{switch(c){case"main":return"#e6be8a";case"side":return"#4a90e2";case"commission":return"#7b68ee"}};return d.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/50 backdrop-blur-sm animate-in fade-in p-4",children:d.jsxs("div",{className:"w-full max-w-[480px] bg-[#16213e] rounded-3xl border border-white/10 max-h-[85vh] overflow-y-auto animate-in slide-in-from-bottom overflow-hidden modal-scrollbar",children:[d.jsxs("div",{className:"sticky top-0 bg-gradient-to-b from-[#16213e] to-[#16213e]/95 backdrop-blur-sm p-5 border-b border-white/10 z-10 rounded-t-3xl",children:[d.jsxs("div",{className:"flex items-start justify-between mb-3",children:[d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx("span",{className:"text-[10px] uppercase px-2 py-0.5 rounded",style:{backgroundColor:`${l(t.type)}20`,color:l(t.type)},children:t.type}),t.completed&&d.jsx("span",{className:"text-[10px] uppercase px-2 py-0.5 rounded bg-green-500/20 text-green-400",children:"Complete"}),i&&!t.completed&&d.jsxs("span",{className:"text-[10px] uppercase px-2 py-0.5 rounded bg-[#4a90e2]/20 text-[#4a90e2] flex items-center gap-1",children:[d.jsx($c,{className:"w-3 h-3"}),"Tracking"]})]}),d.jsx("h2",{className:"text-[#e8e8e8]",children:t.title})]}),d.jsx("button",{onClick:e,className:"w-8 h-8 rounded-full bg-[#1a1a2e]/80 flex items-center justify-center hover:bg-[#1a1a2e] transition-colors z-10",children:d.jsx(_s,{className:"w-5 h-5 text-[#e8e8e8]"})})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-[#a8a8b8] text-xs",children:"Difficulty:"}),d.jsx("div",{className:"flex items-center gap-1",children:[...Array(5)].map((c,f)=>d.jsx(Lc,{className:`w-3 h-3 ${f<t.difficulty?"text-[#e6be8a]":"text-[#a8a8b8]/20"}`},f))})]})]}),d.jsxs("div",{className:"p-5 space-y-6 pb-24 rounded-b-3xl",children:[d.jsxs("div",{children:[d.jsxs("h3",{className:"text-[#e8e8e8] mb-2 flex items-center gap-2",children:[d.jsx(Xn,{className:"w-4 h-4 text-[#4a90e2]"}),"Description"]}),d.jsx("p",{className:"text-[#a8a8b8] text-sm leading-relaxed",children:t.description})]}),t.lore&&d.jsxs("div",{children:[d.jsxs("h3",{className:"text-[#e8e8e8] mb-2 flex items-center gap-2",children:[d.jsx(Ux,{className:"w-4 h-4 text-[#7b68ee]"}),"Lore"]}),d.jsx("div",{className:"bg-gradient-to-r from-[#7b68ee]/10 to-transparent border border-[#7b68ee]/20 rounded-lg p-4",children:d.jsx("p",{className:"text-[#a8a8b8] text-sm leading-relaxed italic",children:t.lore})})]}),d.jsxs("div",{children:[d.jsxs("h3",{className:"text-[#e8e8e8] mb-2 flex items-center gap-2",children:[d.jsx(jg,{className:"w-4 h-4 text-[#4a90e2]"}),"Location"]}),d.jsx("div",{className:"bg-[#1a1a2e]/50 rounded-lg p-3",children:d.jsx("p",{className:"text-[#e8e8e8]",children:t.location})})]}),i&&d.jsxs("div",{children:[d.jsxs("h3",{className:"text-[#e8e8e8] mb-3 flex items-center gap-2",children:[d.jsx(Op,{className:"w-4 h-4 text-[#4a90e2]"}),"Objectives"]}),d.jsx("div",{className:"space-y-2",children:t.tasks.map(c=>d.jsxs("button",{onClick:()=>r(t.id,c.id),className:"w-full bg-[#1a1a2e]/50 hover:bg-[#1a1a2e]/70 rounded-lg p-3 flex items-center gap-3 transition-colors text-left",children:[c.completed?d.jsx(Rp,{className:"w-5 h-5 text-[#4ade80] flex-shrink-0"}):d.jsx(Hx,{className:"w-5 h-5 text-[#a8a8b8] flex-shrink-0"}),d.jsx("span",{className:`text-sm ${c.completed?"text-[#a8a8b8] line-through":"text-[#e8e8e8]"}`,children:c.description})]},c.id))})]}),!t.completed&&d.jsxs("div",{children:[d.jsxs("h3",{className:"text-[#e8e8e8] mb-2 flex items-center gap-2",children:[d.jsx(Op,{className:"w-4 h-4 text-[#4a90e2]"}),"Progress"]}),d.jsxs("div",{className:"bg-[#1a1a2e]/50 rounded-lg p-3",children:[d.jsxs("div",{className:"flex justify-between items-center mb-2",children:[d.jsx("span",{className:"text-[#a8a8b8] text-sm",children:"Quest Completion"}),d.jsxs("span",{className:"text-[#4a90e2]",children:[t.progress,"%"]})]}),d.jsx("div",{className:"w-full bg-[#1a1a2e] rounded-full h-2 overflow-hidden",children:d.jsx("div",{className:"h-full bg-gradient-to-r from-[#4a90e2] to-[#7b68ee] transition-all duration-300",style:{width:`${t.progress}%`}})}),d.jsx("div",{className:"flex justify-between items-center mt-2 text-xs text-[#a8a8b8]",children:d.jsxs("span",{children:[Array.isArray(t.tasks)?t.tasks.filter(c=>c.completed).length:0," / ",Array.isArray(t.tasks)?t.tasks.length:0," objectives completed"]})})]})]}),d.jsxs("div",{children:[d.jsxs("h3",{className:"text-[#e8e8e8] mb-3 flex items-center gap-2",children:[d.jsx(tw,{className:"w-4 h-4 text-[#e6be8a]"}),"Rewards"]}),d.jsx("div",{className:"space-y-2",children:t.rewards.map((c,f)=>d.jsxs("div",{className:"bg-gradient-to-r from-[#e6be8a]/10 to-transparent border border-[#e6be8a]/20 rounded-lg p-3 flex items-center gap-3",children:[d.jsx(Lt,{className:"w-4 h-4 text-[#e6be8a] flex-shrink-0"}),d.jsx("span",{className:"text-[#e8e8e8] text-sm",children:c})]},f))})]}),!i&&d.jsx("button",{onClick:a,className:"w-full bg-gradient-to-r from-[#4a90e2] to-[#7b68ee] rounded-xl p-4 text-white hover:scale-[1.02] transition-transform",children:t.completed?"View Progress":"Track Quest"}),t.completed&&i&&d.jsxs("div",{className:"bg-gradient-to-r from-green-500/10 to-transparent border border-green-500/20 rounded-xl p-4 flex items-center justify-center gap-2",children:[d.jsx(Rp,{className:"w-5 h-5 text-green-400"}),d.jsx("span",{className:"text-green-400",children:"Quest Completed!"})]})]})]})})}const Xw="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODgiIGhlaWdodD0iODgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBvcGFjaXR5PSIuMyIgZmlsbD0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIzLjciPjxyZWN0IHg9IjE2IiB5PSIxNiIgd2lkdGg9IjU2IiBoZWlnaHQ9IjU2IiByeD0iNiIvPjxwYXRoIGQ9Im0xNiA1OCAxNi0xOCAzMiAzMiIvPjxjaXJjbGUgY3g9IjUzIiBjeT0iMzUiIHI9IjciLz48L3N2Zz4KCg==";function Vc(t){const[e,r]=M.useState(!1),i=()=>{r(!0)},{src:a,alt:l,style:c,className:f,...p}=t;return e?d.jsx("div",{className:`inline-block bg-gray-100 text-center align-middle ${f??""}`,style:c,children:d.jsx("div",{className:"flex items-center justify-center w-full h-full",children:d.jsx("img",{src:Xw,alt:"Error loading image",...p,"data-original-url":a})})}):d.jsx("img",{src:a,alt:l,className:f,style:c,...p,onError:i})}const Mp=[{id:1,name:"Wanderlust Invocation",type:"character",featured5Star:"Molly",featured4Stars:["Carmen","Oscar","Nora"],endsIn:"12d 5h",image:"https://i.imgur.com/ppTQQQp.png",color:"#ef4444"},{id:2,name:"Epitome Invocation",type:"weapon",featured5Star:"Mo the Monster",featured4Stars:["Badge of the Chosen","Pocket Token","Threadbound Atlas"],endsIn:"12d 5h",image:"https://i.imgur.com/tNgiTxs.png",color:"#8b5cf6"}];function Zw({onWish:t,primogems:e}){const[r,i]=M.useState(0),a=Mp[r];return d.jsxs("div",{className:"h-full overflow-y-auto pb-20",children:[d.jsxs("div",{className:"p-5 bg-gradient-to-b from-[#2a2a4e] to-transparent",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[d.jsx(ln,{className:"w-6 h-6 text-[#e6be8a]"}),d.jsx("h2",{className:"text-[#e8e8e8]",children:"Wish"})]}),d.jsx("p",{className:"text-[#a8a8b8] text-xs",children:"May the blessings of the Anemo Archon bring you fortune"})]}),d.jsx("div",{className:"px-5 mb-6",children:d.jsx("div",{className:"flex gap-3 overflow-x-auto pb-2",children:Mp.map((l,c)=>d.jsx("button",{onClick:()=>i(c),className:`flex-shrink-0 px-4 py-2 rounded-lg transition-all ${r===c?"bg-gradient-to-r from-[#4a90e2] to-[#7b68ee] text-white":"bg-[#16213e]/50 text-[#a8a8b8]"}`,children:d.jsx("div",{className:"text-xs whitespace-nowrap",children:l.name})},l.id))})}),d.jsx("div",{className:"px-5 mb-6",children:d.jsx("div",{className:"relative rounded-2xl overflow-hidden border border-white/10",children:d.jsxs("div",{className:"relative h-80",children:[d.jsx(Vc,{src:a.image,alt:a.name,className:"w-full h-full object-cover"}),d.jsx("div",{className:"absolute inset-0 opacity-30",style:{background:`linear-gradient(to bottom, transparent, ${a.color}99)`}}),d.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-[#1a1a2e] via-transparent to-transparent"}),d.jsx("div",{className:"absolute top-4 left-4 right-4",children:d.jsxs("div",{className:"flex items-start justify-between",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx("span",{className:"bg-[#e6be8a] text-[#1a1a2e] text-[10px] px-2 py-1 rounded uppercase",children:"Featured"}),d.jsxs("span",{className:"bg-[#1a1a2e]/80 backdrop-blur-sm text-[#e8e8e8] text-[10px] px-2 py-1 rounded",children:[a.type==="character"?"Character":"Weapon"," Event"]})]}),d.jsx("h3",{className:"text-white drop-shadow-lg",children:a.featured5Star}),d.jsx("div",{className:"flex items-center gap-1 mt-1",children:[...Array(5)].map((l,c)=>d.jsx(Lt,{className:"w-3 h-3 text-[#e6be8a] fill-[#e6be8a]"},c))})]}),d.jsx("button",{className:"bg-[#1a1a2e]/80 backdrop-blur-sm p-2 rounded-full",children:d.jsx(iw,{className:"w-4 h-4 text-[#e8e8e8]"})})]})}),d.jsxs("div",{className:"absolute bottom-4 left-4 flex items-center gap-2 bg-[#1a1a2e]/80 backdrop-blur-sm px-3 py-2 rounded-lg",children:[d.jsx(Sg,{className:"w-4 h-4 text-[#e6be8a]"}),d.jsxs("span",{className:"text-[#e8e8e8] text-xs",children:["Ends in ",a.endsIn]})]})]})})}),d.jsxs("div",{className:"px-5 mb-6",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[d.jsx(Lt,{className:"w-4 h-4 text-[#e6be8a]"}),d.jsx("h3",{className:"text-[#e8e8e8]",children:"Featured 4-Star Items"})]}),d.jsx("div",{className:"grid grid-cols-3 gap-3",children:a.featured4Stars.map((l,c)=>d.jsxs("div",{className:"bg-gradient-to-br from-[#8b5cf6]/20 to-[#7c3aed]/20 border border-[#8b5cf6]/30 rounded-xl p-3 text-center",children:[d.jsx("div",{className:"w-full aspect-square bg-[#1a1a2e]/50 rounded-lg mb-2 flex items-center justify-center",children:d.jsx(ln,{className:"w-6 h-6 text-[#8b5cf6]"})}),d.jsx("div",{className:"flex items-center justify-center gap-0.5 mb-1",children:[...Array(4)].map((f,p)=>d.jsx(Lt,{className:"w-2 h-2 text-[#8b5cf6] fill-[#8b5cf6]"},p))}),d.jsx("p",{className:"text-[#e8e8e8] text-xs line-clamp-2",children:l})]},c))})]}),d.jsx("div",{className:"px-5 mb-6",children:d.jsx("div",{className:"bg-gradient-to-br from-[#16213e] to-[#1a1a2e] rounded-xl p-4 border border-[#4a90e2]/20",children:d.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-[#4a90e2] text-xl mb-1",children:"47"}),d.jsx("div",{className:"text-[#a8a8b8] text-[10px]",children:"Pity Counter"})]}),d.jsxs("div",{className:"text-center border-l border-r border-white/5",children:[d.jsx("div",{className:"text-[#f5a623] text-xl mb-1",children:e.toLocaleString()}),d.jsx("div",{className:"text-[#a8a8b8] text-[10px]",children:"Primogems"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-[#7b68ee] text-xl mb-1",children:"8"}),d.jsx("div",{className:"text-[#a8a8b8] text-[10px]",children:"Fates"})]})]})})}),d.jsx("div",{className:"px-5 mb-6",children:d.jsxs("div",{className:"space-y-3",children:[d.jsxs("button",{onClick:()=>t("1"),className:"w-full bg-gradient-to-r from-[#4a90e2] to-[#7b68ee] rounded-xl p-4 flex items-center justify-between group hover:scale-[1.02] transition-transform",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center",children:d.jsx(Lt,{className:"w-5 h-5 text-white"})}),d.jsxs("div",{className:"text-left",children:[d.jsx("div",{className:"text-white",children:"Wish 1"}),d.jsx("div",{className:"text-white/80 text-xs",children:"160 Primogems"})]})]}),d.jsx(ku,{className:"w-5 h-5 text-white group-hover:translate-x-1 transition-transform"})]}),d.jsxs("button",{onClick:()=>t("10"),className:"w-full bg-gradient-to-r from-[#e6be8a] to-[#d4a574] rounded-xl p-4 flex items-center justify-between group hover:scale-[1.02] transition-transform text-[rgb(23,22,62)]",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center",children:d.jsx(ln,{className:"w-5 h-5 text-white"})}),d.jsxs("div",{className:"text-left",children:[d.jsx("div",{className:"text-[rgb(30,22,62)]",children:"Wish 10"}),d.jsx("div",{className:"text-white/80 text-xs text-[rgba(30,22,62,0.8)]",children:"1600 Primogems"})]})]}),d.jsx(ku,{className:"w-5 h-5 text-white group-hover:translate-x-1 transition-transform"})]})]})}),d.jsx("div",{className:"px-5",children:d.jsxs("button",{className:"w-full bg-[#16213e]/50 rounded-xl p-3 flex items-center justify-between hover:bg-[#16213e]/70 transition-colors",children:[d.jsx("span",{className:"text-[#a8a8b8] text-sm",children:"Wish History"}),d.jsx(ku,{className:"w-4 h-4 text-[#a8a8b8]"})]})})]})}function e1({items:t}){const[e,r]=M.useState("all"),[i,a]=M.useState(null),l=e==="all"?t:t.filter(c=>c.type===e);return d.jsxs("div",{className:"h-full overflow-y-auto pb-24",children:[d.jsxs("div",{className:"p-5 bg-gradient-to-b from-[#2a2a4e] to-transparent",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[d.jsx(ca,{className:"w-6 h-6 text-[#7b68ee]"}),d.jsx("h2",{className:"text-[#e8e8e8]",children:"Inventory"})]}),d.jsx("p",{className:"text-[#a8a8b8] text-xs",children:"Manage your items and equipment"})]}),d.jsx("div",{className:"px-5 mb-6",children:d.jsxs("div",{className:"flex gap-2 bg-[#16213e]/50 rounded-xl p-1",children:[d.jsx(Jo,{active:e==="all",onClick:()=>r("all"),icon:d.jsx(ca,{className:"w-4 h-4"}),label:"All"}),d.jsx(Jo,{active:e==="weapon",onClick:()=>r("weapon"),icon:d.jsx(Lc,{className:"w-4 h-4"}),label:"Weapons"}),d.jsx(Jo,{active:e==="artifact",onClick:()=>r("artifact"),icon:d.jsx(Dc,{className:"w-4 h-4"}),label:"Artifacts"}),d.jsx(Jo,{active:e==="material",onClick:()=>r("material"),icon:d.jsx(ln,{className:"w-4 h-4"}),label:"Materials"})]})}),d.jsx("div",{className:"px-5",children:d.jsx("div",{className:"grid grid-cols-2 gap-3",children:l.map(c=>d.jsx(t1,{item:c,onClick:()=>a(c)},c.id))})}),i&&Ic.createPortal(d.jsx(n1,{item:i,onClose:()=>a(null)}),document.body)]})}function Jo({active:t,onClick:e,icon:r,label:i}){return d.jsxs("button",{onClick:e,className:`flex-1 flex items-center justify-center gap-2 py-2 px-3 rounded-lg transition-all ${t?"bg-gradient-to-br from-[#4a90e2] to-[#7b68ee] text-white":"bg-transparent text-[#a8a8b8] hover:text-[#e8e8e8]"}`,children:[r,d.jsx("span",{className:"text-xs hidden sm:inline",children:i})]})}function t1({item:t,onClick:e}){const r=a=>{switch(a){case 5:return"from-[#e6be8a] to-[#c9a05e]";case 4:return"from-[#8b5cf6] to-[#7c3aed]";case 3:return"from-[#4a90e2] to-[#3b82f6]";case 2:return"from-[#4ade80] to-[#22c55e]";case 1:return"from-[#6b7280] to-[#4b5563]";default:return"from-[#6b7280] to-[#4b5563]"}},i=a=>{if(!a)return null;switch(a){case"anemo":return d.jsx(la,{className:"w-3 h-3 text-[#4fb3bf]"});case"pyro":return d.jsx(kg,{className:"w-3 h-3 text-[#ef4444]"});case"hydro":return d.jsx(la,{className:"w-3 h-3 text-[#3b82f6]"});case"electro":return d.jsx(ln,{className:"w-3 h-3 text-[#a855f7]"});case"geo":return d.jsx(Dc,{className:"w-3 h-3 text-[#f59e0b]"})}};return d.jsxs("button",{onClick:e,className:"bg-[#16213e]/80 backdrop-blur-sm rounded-xl overflow-hidden border border-white/5 hover:scale-[1.02] transition-transform text-left",children:[d.jsxs("div",{className:"relative h-32 overflow-hidden",children:[d.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${r(t.rarity)} opacity-20`}),d.jsx(Vc,{src:t.image,alt:t.name,className:"w-full h-full object-cover"}),d.jsx("div",{className:"absolute top-2 right-2",children:t.element&&d.jsx("div",{className:"w-6 h-6 rounded-full bg-[#1a1a2e]/80 backdrop-blur-sm flex items-center justify-center",children:i(t.element)})}),t.quantity&&d.jsx("div",{className:"absolute bottom-2 right-2 bg-[#1a1a2e]/90 backdrop-blur-sm px-2 py-1 rounded-lg",children:d.jsxs("span",{className:"text-[#e8e8e8] text-xs",children:["",t.quantity]})})]}),d.jsxs("div",{className:"p-3",children:[d.jsx("div",{className:"flex items-center gap-1 mb-1",children:[...Array(t.rarity)].map((a,l)=>d.jsx("div",{className:"w-1 h-1 rounded-full",style:{background:`linear-gradient(to right, ${r(t.rarity).split(" ")[0].replace("from-","")}, ${r(t.rarity).split(" ")[1].replace("to-","")})`}},l))}),d.jsx("h3",{className:"text-[#e8e8e8] text-sm mb-1 line-clamp-1",children:t.name}),d.jsx("p",{className:"text-[#a8a8b8] text-[10px] leading-relaxed line-clamp-2 mb-2",children:t.description}),t.level&&d.jsx("div",{className:"pt-2 border-t border-white/5",children:d.jsxs("span",{className:"text-[#4a90e2] text-xs",children:["Lv. ",t.level]})})]})]})}function n1({item:t,onClose:e}){const r=c=>{switch(c){case 5:return"#e6be8a";case 4:return"#8b5cf6";case 3:return"#4a90e2";case 2:return"#4ade80";case 1:return"#94a3b8"}},i=c=>{switch(c){case 5:return"from-[#e6be8a] to-[#c9a05e]";case 4:return"from-[#8b5cf6] to-[#7c3aed]";case 3:return"from-[#4a90e2] to-[#3b82f6]";case 2:return"from-[#4ade80] to-[#22c55e]";case 1:return"from-[#94a3b8] to-[#64748b]"}},a=c=>{if(!c)return null;switch(c){case"anemo":return d.jsx(la,{className:"w-5 h-5 text-[#4fb3bf]"});case"pyro":return d.jsx(kg,{className:"w-5 h-5 text-[#ef4444]"});case"hydro":return d.jsx(la,{className:"w-5 h-5 text-[#3b82f6]"});case"electro":return d.jsx(ln,{className:"w-5 h-5 text-[#a855f7]"});case"geo":return d.jsx(Dc,{className:"w-5 h-5 text-[#f59e0b]"})}},l=c=>c?c.charAt(0).toUpperCase()+c.slice(1):null;return d.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/50 backdrop-blur-sm animate-in fade-in p-4",children:d.jsxs("div",{className:"w-full max-w-[412px] bg-[#16213e] rounded-3xl border border-white/10 max-h-[85vh] overflow-y-auto animate-in slide-in-from-bottom",children:[d.jsx("div",{className:"relative",children:d.jsxs("div",{className:"relative h-64 overflow-hidden",children:[d.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${i(t.rarity)} opacity-30`}),d.jsx(Vc,{src:t.image,alt:t.name,className:"w-full h-full object-cover"}),d.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-[#16213e] via-transparent to-transparent"}),d.jsx("button",{onClick:e,className:"absolute top-4 right-4 w-8 h-8 rounded-full bg-[#1a1a2e]/80 backdrop-blur-sm flex items-center justify-center hover:bg-[#1a1a2e] transition-colors z-10",children:d.jsx(_s,{className:"w-5 h-5 text-[#e8e8e8]"})}),d.jsx("div",{className:"absolute top-4 left-4 flex items-center gap-1",children:[...Array(t.rarity)].map((c,f)=>d.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center",style:{backgroundColor:`${r(t.rarity)}40`},children:d.jsx(ln,{className:"w-3 h-3",style:{color:r(t.rarity)}})},f))}),d.jsx("div",{className:"absolute bottom-4 left-4 right-4",children:d.jsxs("div",{className:"flex items-end justify-between",children:[d.jsxs("div",{children:[d.jsx("span",{className:"text-[10px] uppercase px-2 py-1 rounded mb-2 inline-block",style:{backgroundColor:`${r(t.rarity)}20`,color:r(t.rarity)},children:t.type}),d.jsx("h2",{className:"text-white drop-shadow-lg",children:t.name}),t.level&&d.jsxs("span",{className:"text-[#4a90e2] text-sm",children:["Level ",t.level]}),t.quantity&&d.jsxs("span",{className:"text-[#e8e8e8] text-sm",children:["Quantity: ",t.quantity]})]}),t.element&&d.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center",style:{backgroundColor:`${r(t.rarity)}20`},children:a(t.element)})]})})]})}),d.jsxs("div",{className:"p-5 space-y-6",children:[d.jsxs("div",{children:[d.jsxs("h3",{className:"text-[#e8e8e8] mb-2 flex items-center gap-2",children:[d.jsx(ca,{className:"w-4 h-4 text-[#4a90e2]"}),"Description"]}),d.jsx("p",{className:"text-[#a8a8b8] text-sm leading-relaxed",children:t.description})]}),(t.type==="weapon"||t.type==="artifact")&&d.jsxs("div",{children:[d.jsxs("h3",{className:"text-[#e8e8e8] mb-3 flex items-center gap-2",children:[d.jsx(Uc,{className:"w-4 h-4 text-[#4a90e2]"}),"Stats"]}),d.jsxs("div",{className:"space-y-2",children:[t.type==="weapon"&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"bg-[#1a1a2e]/50 rounded-lg p-3 flex items-center justify-between",children:[d.jsx("span",{className:"text-[#a8a8b8] text-sm",children:"Base ATK"}),d.jsx("span",{className:"text-[#e8e8e8]",children:Math.floor(Math.random()*200)+300})]}),d.jsxs("div",{className:"bg-[#1a1a2e]/50 rounded-lg p-3 flex items-center justify-between",children:[d.jsx("span",{className:"text-[#a8a8b8] text-sm",children:"Sub Stat"}),d.jsxs("span",{className:"text-[#4a90e2]",children:["Energy Recharge +",Math.floor(Math.random()*20)+30,"%"]})]})]}),t.type==="artifact"&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"bg-[#1a1a2e]/50 rounded-lg p-3 flex items-center justify-between",children:[d.jsx("span",{className:"text-[#a8a8b8] text-sm",children:"Main Stat"}),d.jsxs("span",{className:"text-[#e8e8e8]",children:["ATK +",Math.floor(Math.random()*20)+30,"%"]})]}),d.jsxs("div",{className:"bg-[#1a1a2e]/50 rounded-lg p-3",children:[d.jsx("span",{className:"text-[#a8a8b8] text-sm block mb-2",children:"Sub Stats"}),d.jsxs("div",{className:"space-y-1 text-xs",children:[d.jsxs("div",{className:"flex justify-between text-[#e8e8e8]",children:[d.jsx("span",{children:"CRIT Rate"}),d.jsxs("span",{children:["+",(Math.random()*10+5).toFixed(1),"%"]})]}),d.jsxs("div",{className:"flex justify-between text-[#e8e8e8]",children:[d.jsx("span",{children:"CRIT DMG"}),d.jsxs("span",{children:["+",(Math.random()*20+10).toFixed(1),"%"]})]})]})]})]})]})]}),t.element&&d.jsxs("div",{children:[d.jsxs("h3",{className:"text-[#e8e8e8] mb-3 flex items-center gap-2",children:[d.jsx(Jw,{className:"w-4 h-4 text-[#4a90e2]"}),"Element"]}),d.jsxs("div",{className:"bg-[#1a1a2e]/50 rounded-lg p-3 flex items-center gap-3",children:[a(t.element),d.jsx("span",{className:"text-[#e8e8e8]",children:l(t.element)})]})]}),d.jsxs("div",{className:"flex gap-3",children:[(t.type==="weapon"||t.type==="artifact")&&d.jsxs(d.Fragment,{children:[d.jsx("button",{className:"flex-1 bg-gradient-to-r from-[#4a90e2] to-[#7b68ee] rounded-xl p-3 text-white hover:scale-[1.02] transition-transform",children:"Enhance"}),d.jsx("button",{className:"flex-1 bg-[#1a1a2e]/50 border border-white/10 rounded-xl p-3 text-[#e8e8e8] hover:bg-[#1a1a2e] transition-colors",children:"Equip"})]}),t.type==="material"&&d.jsx("button",{className:"flex-1 bg-[#1a1a2e]/50 border border-white/10 rounded-xl p-3 text-[#e8e8e8] hover:bg-[#1a1a2e] transition-colors",children:"Use Item"})]})]})]})})}function r1({quests:t,onRewatchEpilogue:e,onRewatchPrologue:r,username:i}){const[a,l]=M.useState("all"),c=t.length,f=t.filter(S=>S.completed).length,p=f===c&&c>0,g=t.filter(S=>S.completed).reduce((S,E)=>S+E.rewards.length,0),y=Math.round(t.reduce((S,E)=>S+E.progress,0)/c),v=[{id:1,title:"First Steps",description:"Complete your first quest in Teyvat",icon:"trophy",progress:f>=1?1:0,maxProgress:1,rewards:["Primogems x20","Adventure EXP x100"],unlocked:f>=1,category:"quests"},{id:2,title:"Quest Hunter",description:"Complete 3 quests",icon:"star",progress:Math.min(f,3),maxProgress:3,rewards:["Primogems x50","Hero's Wit x3"],unlocked:f>=3,category:"quests"},{id:3,title:"Master Adventurer",description:"Complete 5 quests",icon:"trophy",progress:Math.min(f,5),maxProgress:5,rewards:["Primogems x100","Mystic Enhancement Ore x5"],unlocked:f>=5,category:"quests"},{id:4,title:"Main Story Progress",description:"Complete all main quests",icon:"sword",progress:t.filter(S=>S.type==="main"&&S.completed).length,maxProgress:t.filter(S=>S.type==="main").length,rewards:["Primogems x200","Intertwined Fate x3"],unlocked:t.filter(S=>S.type==="main").every(S=>S.completed)&&t.filter(S=>S.type==="main").length>0,category:"quests"},{id:5,title:"Side Quest Enthusiast",description:"Complete 3 side quests",icon:"map",progress:Math.min(t.filter(S=>S.type==="side"&&S.completed).length,3),maxProgress:3,rewards:["Primogems x60","Mora x50,000"],unlocked:t.filter(S=>S.type==="side"&&S.completed).length>=3,category:"exploration"},{id:6,title:"Perfect Execution",description:"Complete a quest with 100% progress",icon:"trophy",progress:t.filter(S=>S.progress===100).length>=1?1:0,maxProgress:1,rewards:["Primogems x30"],unlocked:t.some(S=>S.progress===100),category:"combat"}],w=a==="all"?v:v.filter(S=>S.category===a),b=v.filter(S=>S.unlocked).length;return d.jsxs("div",{className:"h-full overflow-y-auto pb-20",children:[d.jsxs("div",{className:"p-5 bg-gradient-to-b from-[#2a2a4e] to-transparent",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[d.jsx(da,{className:"w-6 h-6 text-[#e6be8a]"}),d.jsx("h2",{className:"text-[#e8e8e8]",children:"Achievements"})]}),i&&d.jsx("p",{className:"text-[#e6be8a] text-sm mb-1",children:i}),d.jsx("p",{className:"text-[#a8a8b8] text-xs",children:"Your journey through Lauriel"})]}),d.jsx("div",{className:"px-5 mb-6",children:d.jsxs("div",{className:"bg-gradient-to-br from-[#16213e] to-[#1a1a2e] rounded-2xl p-4 border border-[#e6be8a]/20",children:[d.jsxs("h3",{className:"text-[#e8e8e8] mb-4 flex items-center gap-2",children:[d.jsx(Uc,{className:"w-4 h-4 text-[#e6be8a]"}),"Your Stats"]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[d.jsxs("div",{className:"bg-[#1a1a2e]/50 rounded-lg p-3",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[d.jsx($c,{className:"w-4 h-4 text-[#4a90e2]"}),d.jsx("span",{className:"text-[#a8a8b8] text-xs",children:"Quests"})]}),d.jsxs("div",{className:"text-[#e8e8e8] text-xl",children:[f,"/",c]})]}),d.jsxs("div",{className:"bg-[#1a1a2e]/50 rounded-lg p-3",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[d.jsx(da,{className:"w-4 h-4 text-[#f5a623]"}),d.jsx("span",{className:"text-[#a8a8b8] text-xs",children:"Achievements"})]}),d.jsxs("div",{className:"text-[#e8e8e8] text-xl",children:[b,"/",v.length]})]}),d.jsxs("div",{className:"bg-[#1a1a2e]/50 rounded-lg p-3",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[d.jsx(_g,{className:"w-4 h-4 text-[#7b68ee]"}),d.jsx("span",{className:"text-[#a8a8b8] text-xs",children:"Rewards"})]}),d.jsx("div",{className:"text-[#e8e8e8] text-xl",children:g})]}),d.jsxs("div",{className:"bg-[#1a1a2e]/50 rounded-lg p-3",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[d.jsx(Lt,{className:"w-4 h-4 text-[#f5a623]"}),d.jsx("span",{className:"text-[#a8a8b8] text-xs",children:"Avg Progress"})]}),d.jsxs("div",{className:"text-[#e8e8e8] text-xl",children:[y,"%"]})]})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-2",children:[d.jsx("span",{className:"text-[#a8a8b8] text-xs",children:"Overall Achievement Progress"}),d.jsxs("span",{className:"text-[#4a90e2] text-xs",children:[Math.round(b/v.length*100),"%"]})]}),d.jsx("div",{className:"w-full bg-[#1a1a2e] rounded-full h-2 overflow-hidden",children:d.jsx("div",{className:"h-full bg-gradient-to-r from-[#f5a623] to-[#ef4444] transition-all duration-300",style:{width:`${b/v.length*100}%`}})})]})]})}),p&&e&&d.jsx("div",{className:"px-5 mb-6",children:d.jsxs("button",{onClick:e,className:"w-full bg-gradient-to-r from-[#f5a623] to-[#e09616] text-white py-3 rounded-lg hover:scale-105 transition-transform flex items-center justify-center gap-2",children:[d.jsx(Xn,{className:"w-5 h-5"}),d.jsx("span",{children:"Rewatch Epilogue"})]})}),r&&d.jsx("div",{className:"px-5 mb-6",children:d.jsxs("button",{onClick:r,className:"w-full bg-gradient-to-r from-[#f5a623] to-[#e09616] text-white py-3 rounded-lg hover:scale-105 transition-transform flex items-center justify-center gap-2",children:[d.jsx(Xn,{className:"w-5 h-5"}),d.jsx("span",{children:"Rewatch Prologue"})]})}),d.jsx("div",{className:"px-5 mb-6",children:d.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-2",children:[d.jsx(hi,{active:a==="all",onClick:()=>l("all"),label:"All"}),d.jsx(hi,{active:a==="quests",onClick:()=>l("quests"),label:"Quests"}),d.jsx(hi,{active:a==="exploration",onClick:()=>l("exploration"),label:"Exploration"}),d.jsx(hi,{active:a==="combat",onClick:()=>l("combat"),label:"Combat"}),d.jsx(hi,{active:a==="collection",onClick:()=>l("collection"),label:"Collection"})]})}),d.jsx("div",{className:"px-5 space-y-3",children:w.map(S=>d.jsx(s1,{achievement:S},S.id))})]})}function hi({active:t,onClick:e,label:r}){return d.jsx("button",{onClick:e,className:`flex-shrink-0 px-4 py-2 rounded-lg transition-all text-xs ${t?"bg-gradient-to-r from-[#4a90e2] to-[#7b68ee] text-white":"bg-[#16213e]/50 text-[#a8a8b8] hover:text-[#e8e8e8]"}`,children:r})}function s1({achievement:t}){const e=()=>{switch(t.icon){case"trophy":return d.jsx(da,{className:"w-5 h-5"});case"star":return d.jsx(Lt,{className:"w-5 h-5"});case"sword":return d.jsx(Rw,{className:"w-5 h-5"});case"map":return d.jsx(mw,{className:"w-5 h-5"})}},r=()=>{switch(t.category){case"quests":return"#e6be8a";case"exploration":return"#4a90e2";case"combat":return"#d4a574";case"collection":return"#7b68ee"}};return d.jsxs("div",{className:`bg-[#16213e]/80 backdrop-blur-sm rounded-xl border p-4 transition-all ${t.unlocked?"border-[#e6be8a]/30 shadow-lg shadow-[#e6be8a]/10":"border-white/5 opacity-60"}`,children:[d.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[d.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center flex-shrink-0 ${t.unlocked?"bg-gradient-to-br from-[#e6be8a] to-[#d4a574]":"bg-[#1a1a2e]/50"}`,style:t.unlocked?{}:{color:r()},children:d.jsx("div",{className:t.unlocked?"text-white":"",children:e()})}),d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-start justify-between mb-1",children:[d.jsx("h3",{className:"text-[#e8e8e8] text-sm",children:t.title}),t.unlocked&&d.jsx("div",{className:"bg-[#e6be8a]/20 px-2 py-0.5 rounded",children:d.jsx(Lt,{className:"w-3 h-3 text-[#e6be8a] fill-[#e6be8a]"})})]}),d.jsx("p",{className:"text-[#a8a8b8] text-xs mb-2 leading-relaxed",children:t.description}),d.jsx("span",{className:"inline-block text-[10px] uppercase px-2 py-0.5 rounded mb-2",style:{backgroundColor:`${r()}20`,color:r()},children:t.category})]})]}),d.jsxs("div",{className:"mb-3",children:[d.jsxs("div",{className:"flex justify-between items-center mb-1",children:[d.jsx("span",{className:"text-[#a8a8b8] text-[10px]",children:"Progress"}),d.jsxs("span",{className:"text-[#e8e8e8] text-[10px]",children:[t.progress,"/",t.maxProgress]})]}),d.jsx("div",{className:"w-full bg-[#1a1a2e] rounded-full h-1.5 overflow-hidden",children:d.jsx("div",{className:`h-full transition-all duration-300 ${t.unlocked?"bg-gradient-to-r from-[#e6be8a] to-[#d4a574]":"bg-gradient-to-r from-[#4a90e2] to-[#7b68ee]"}`,style:{width:`${t.progress/t.maxProgress*100}%`}})})]}),t.unlocked&&d.jsxs("div",{className:"pt-3 border-t border-white/5",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(_g,{className:"w-3 h-3 text-[#e6be8a]"}),d.jsx("span",{className:"text-[#e6be8a] text-[10px] uppercase",children:"Rewards"})]}),d.jsx("div",{className:"flex flex-wrap gap-1",children:t.rewards.map((i,a)=>d.jsx("span",{className:"text-[#a8a8b8] text-[10px] bg-[#1a1a2e]/50 px-2 py-1 rounded",children:i},a))})]})]})}const ju={id:5,title:"Archon's Blessing",description:"A mysterious voice calls to you from beyond the stars. Seek out the forgotten shrine and uncover its ancient secrets.",location:"Starfell Valley",rewards:["Adventure EXP x400","Primogems x50","Mystic Enhancement Ore x5"],progress:0,difficulty:4,type:"main",completed:!1,lore:"In the age before the Archon War, when the gods walked freely upon Teyvat, certain places were blessed with divine resonance. Starfell Valley holds one such shrine, hidden from mortal eyes by layers of time and elemental energy. The voice that calls to you is neither threat nor simple invitationit is recognition. You have been chosen, not by chance, but by a design woven into the very fabric of this world. What awaits at the shrine may change the course of your journey forever.",tasks:[{id:1,description:"Find the hidden shrine in Starfell Valley",completed:!1},{id:2,description:"Activate the elemental monuments",completed:!1},{id:3,description:"Defeat the Abyss Mage",completed:!1},{id:4,description:"Claim the Archon's blessing",completed:!1}]};function i1({onClose:t,onQuestUnlocked:e,wishType:r}){const[i,a]=M.useState("video"),[l,c]=M.useState(!1);M.useEffect(()=>{const p=setTimeout(()=>{c(!0)},3e3),g=setTimeout(()=>{a("quest"),e(ju)},8e3);return()=>{clearTimeout(p),clearTimeout(g)}},[e]);const f=()=>{a("quest"),e(ju)};return d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black",children:i==="video"?d.jsx(o1,{wishType:r,showSkip:l,onSkip:f}):d.jsx(a1,{quest:ju,onClose:t})})}function o1({wishType:t,showSkip:e,onSkip:r}){return d.jsxs("div",{className:"w-full h-full relative",children:[d.jsx("iframe",{className:"w-full h-full",src:"https://www.youtube.com/embed/0aF6z1yfkwo?autoplay=1&controls=0&modestbranding=1&rel=0&showinfo=0&fs=0&iv_load_policy=3&disablekb=1",title:"Wish Animation",allow:"autoplay; encrypted-media",allowFullScreen:!0,style:{border:"none"}}),e&&d.jsxs("button",{onClick:r,className:"absolute top-6 right-6 bg-black/60 backdrop-blur-sm text-white px-4 py-2 rounded-full flex items-center gap-2 hover:bg-black/80 transition-all z-10",children:[d.jsx("span",{className:"text-sm",children:"Skip"}),d.jsx(_s,{className:"w-4 h-4"})]})]})}function a1({quest:t,onClose:e}){const r=()=>{switch(t.type){case"main":return"#e6be8a";case"side":return"#4a90e2";case"commission":return"#7b68ee"}};return d.jsxs("div",{className:"w-full max-w-[412px] h-full flex flex-col items-center justify-center relative bg-gradient-to-b from-[#1a1a2e] to-[#2a2a4e] p-6",children:[d.jsx("button",{onClick:e,className:"absolute top-6 right-6 w-10 h-10 rounded-full bg-[#16213e]/80 backdrop-blur-sm flex items-center justify-center hover:bg-[#16213e] transition-colors z-20",children:d.jsx(_s,{className:"w-5 h-5 text-[#e8e8e8]"})}),d.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:d.jsx("div",{className:"w-96 h-96 bg-gradient-to-r from-[#e6be8a]/20 to-[#7b68ee]/20 rounded-full blur-3xl animate-pulse"})}),d.jsxs("div",{className:"relative z-10 text-center space-y-6 max-w-sm animate-in fade-in slide-in-from-bottom duration-500",children:[d.jsx("div",{className:"flex justify-center mb-4",children:d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#e6be8a] to-[#7b68ee] rounded-full blur-xl opacity-50"}),d.jsx("div",{className:"relative w-20 h-20 rounded-full bg-gradient-to-br from-[#e6be8a] to-[#7b68ee] flex items-center justify-center",children:d.jsx(Xn,{className:"w-10 h-10 text-white"})})]})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-[#e6be8a] text-sm mb-2 uppercase tracking-wider",children:"New Quest Unlocked!"}),d.jsx("h2",{className:"text-white mb-3",children:t.title}),d.jsxs("span",{className:"inline-block text-[10px] uppercase px-3 py-1 rounded-full mb-4",style:{backgroundColor:`${r()}20`,color:r()},children:[t.type," Quest"]})]}),d.jsx("div",{className:"bg-[#16213e]/50 backdrop-blur-sm rounded-xl p-4 border border-white/10",children:d.jsx("p",{className:"text-[#a8a8b8] text-sm leading-relaxed",children:t.description})}),d.jsxs("div",{className:"flex items-center justify-center gap-2",children:[d.jsx("span",{className:"text-[#a8a8b8] text-sm",children:"Difficulty:"}),d.jsx("div",{className:"flex items-center gap-1",children:[...Array(5)].map((i,a)=>d.jsx(Lt,{className:`w-4 h-4 ${a<t.difficulty?"text-[#e6be8a] fill-[#e6be8a]":"text-[#a8a8b8]/20"}`},a))})]}),d.jsxs("div",{className:"bg-[#16213e]/50 backdrop-blur-sm rounded-xl p-4 border border-[#e6be8a]/20",children:[d.jsx("p",{className:"text-[#e6be8a] text-xs uppercase mb-2",children:"Rewards"}),d.jsxs("div",{className:"space-y-1",children:[t.rewards.slice(0,2).map((i,a)=>d.jsx("p",{className:"text-[#e8e8e8] text-xs",children:i},a)),t.rewards.length>2&&d.jsxs("p",{className:"text-[#a8a8b8] text-xs",children:["+",t.rewards.length-2," more..."]})]})]}),d.jsx("button",{onClick:e,className:"w-full bg-gradient-to-r from-[#4a90e2] to-[#7b68ee] rounded-xl p-4 text-white hover:scale-[1.02] transition-transform",children:"View in Quest Log"})]})]})}function l1({onSelectMode:t,userEmail:e}){const r=e==="scurlocklaurynn@gmail.com";return d.jsxs("div",{className:"min-h-screen w-full flex items-center justify-center bg-gradient-to-br from-[#1a1a2e] via-[#2a2a4e] to-[#1a1a2e] relative overflow-hidden p-4",children:[d.jsx("div",{className:"absolute inset-0",children:[...Array(30)].map((i,a)=>d.jsx("div",{className:"absolute w-1 h-1 bg-white rounded-full animate-pulse",style:{top:`${Math.random()*100}%`,left:`${Math.random()*100}%`,animationDelay:`${Math.random()*3}s`,opacity:Math.random()*.5}},a))}),d.jsxs("div",{className:"relative z-10 text-center space-y-6 sm:space-y-8 w-full max-w-md",children:[d.jsxs("div",{className:"space-y-3",children:[d.jsx("h1",{className:"text-[#e6be8a] mb-2 drop-shadow-lg text-4xl sm:text-5xl tracking-wider",style:{fontFamily:"serif"},children:"Soulbound"}),d.jsx("div",{className:"w-24 sm:w-32 h-px bg-gradient-to-r from-transparent via-[#e6be8a] to-transparent mx-auto mb-4"}),d.jsx("p",{className:"text-[#a8a8b8]",children:"Choose your path"})]}),d.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[d.jsx("button",{onClick:()=>t("public"),className:"w-full bg-gradient-to-r from-[#4a90e2] to-[#7b68ee] rounded-2xl p-5 sm:p-6 hover:scale-[1.02] transition-transform group",children:d.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[d.jsx("div",{className:"w-14 h-14 sm:w-16 sm:h-16 bg-white/20 rounded-full flex items-center justify-center group-hover:bg-white/30 transition-colors flex-shrink-0",children:d.jsx(xw,{className:"w-7 h-7 sm:w-8 sm:h-8 text-white"})}),d.jsxs("div",{className:"text-left flex-1",children:[d.jsx("h2",{className:"text-white mb-1",children:"Enter Lauriel"}),d.jsx("p",{className:"text-white/80 text-sm",children:"Begin your adventure"})]})]})}),r&&d.jsx("button",{onClick:()=>t("admin"),className:"w-full bg-gradient-to-r from-[#e6be8a] to-[#d4a574] rounded-2xl p-5 sm:p-6 hover:scale-[1.02] transition-transform group",children:d.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[d.jsx("div",{className:"w-14 h-14 sm:w-16 sm:h-16 bg-white/20 rounded-full flex items-center justify-center group-hover:bg-white/30 transition-colors flex-shrink-0",children:d.jsx(Nw,{className:"w-7 h-7 sm:w-8 sm:h-8 text-white"})}),d.jsxs("div",{className:"text-left flex-1",children:[d.jsx("h2",{className:"text-[rgb(30,22,62)] mb-1",children:"Admin Mode"}),d.jsx("p",{className:"text-[#1E163E] text-sm",children:"Manage quests & content"})]})]})})]}),d.jsx("p",{className:"text-[#a8a8b8] text-xs mt-8",children:"Inspired by Genshin Impact. Made with love."})]})]})}function Qu({onComplete:t,prologueText:e,prologueMusicUrl:r,isRewatch:i=!1}){const[a,l]=M.useState(0);console.log(" OpeningCutscene mounted - isRewatch:",i);const p=(e||`Welcome to a Co-Op Journey Written in the Language of Stars.

In a quiet corner of the world, two travelers meetnot at the end of a quest, but at the beginning of one. The path ahead is stitched with lanternlight cafs, hidden bookshops, neon arcades, and the quiet hush of forest trails.

This record is not a duty, nor a binding oath
but a remembrance of shared wonder.

Let the journey begin.`).split(`

`).filter(v=>v.trim()),g=()=>{a<p.length+1?l(a+1):(i||localStorage.setItem("soulbound_seen_cutscene","true"),t())},y=()=>{i||localStorage.setItem("soulbound_seen_cutscene","true"),t()};return d.jsxs("div",{onClick:g,style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:9999,background:"linear-gradient(to bottom, #0a0a1a, #1a1a2e, #0f0f1e)",width:"100vw",height:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",cursor:"pointer",padding:"20px",overflow:"hidden"},children:[d.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,pointerEvents:"none"},children:[...Array(50)].map((v,w)=>d.jsx("div",{style:{position:"absolute",width:"2px",height:"2px",backgroundColor:"white",borderRadius:"50%",left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,opacity:Math.random()*.8+.2,animation:`twinkle ${3+Math.random()*2}s infinite`}},w))}),d.jsx("button",{onClick:v=>{v.stopPropagation(),y()},style:{position:"absolute",top:"20px",right:"20px",padding:"8px 16px",backgroundColor:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"20px",color:"rgba(255, 255, 255, 0.8)",fontSize:"14px",cursor:"pointer",backdropFilter:"blur(10px)"},children:"Skip"}),d.jsx("div",{style:{position:"absolute",bottom:"20px",left:0,right:0,textAlign:"center",color:"rgba(255, 255, 255, 0.5)",fontSize:"14px",pointerEvents:"none"},children:"Tap to continue"}),d.jsxs("div",{style:{position:"relative",zIndex:10,width:"100%",maxWidth:"600px",textAlign:"center",color:"white"},children:[a>=0&&d.jsxs("div",{style:{marginBottom:"40px"},children:[d.jsx("h1",{style:{color:"#e6be8a",fontSize:"48px",fontFamily:"serif",letterSpacing:"4px",marginBottom:"10px",textShadow:"0 0 20px rgba(230, 190, 138, 0.5)"},children:"Soulbound"}),d.jsx("div",{style:{width:"120px",height:"1px",background:"linear-gradient(to right, transparent, #e6be8a, transparent)",margin:"0 auto"}})]}),d.jsx("div",{style:{minHeight:"200px",display:"flex",alignItems:"center",justifyContent:"center"},children:p.map((v,w)=>a===w+1&&d.jsx("p",{style:{color:"#e8e8e8",fontSize:"16px",lineHeight:"1.6",whiteSpace:"pre-wrap",fontStyle:v.includes("Let the journey begin")||v.includes("remembrance")?"italic":"normal",opacity:1,animation:"fadeIn 0.8s ease-in-out"},children:v},w))})]}),r&&d.jsxs("div",{style:{position:"absolute",bottom:"20px",left:"20px",padding:"8px 12px",backgroundColor:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"20px",backdropFilter:"blur(10px)"},children:[d.jsx("iframe",{src:r,width:"0",height:"0",style:{display:"none"},allow:"autoplay"}),d.jsx("span",{style:{color:"rgba(255, 255, 255, 0.8)",fontSize:"12px"},children:""})]}),d.jsx("style",{children:`
        @keyframes twinkle {
          0%, 100% { opacity: 0.2; transform: scale(0.8); }
          50% { opacity: 1; transform: scale(1.2); }
        }
        @keyframes fadeIn {
          from { opacity: 0; transform: translateY(20px); }
          to { opacity: 1; transform: translateY(0); }
        }
      `})]})}const Fc=M.createContext({});function Bc(t){const e=M.useRef(null);return e.current===null&&(e.current=t()),e.current}const zc=typeof window<"u",Ng=zc?M.useLayoutEffect:M.useEffect,_a=M.createContext(null);function Wc(t,e){t.indexOf(e)===-1&&t.push(e)}function Hc(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}const jn=(t,e,r)=>r>e?e:r<t?t:r;let Kc=()=>{};const Nn={},Tg=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function Eg(t){return typeof t=="object"&&t!==null}const Cg=t=>/^0[^.\s]+$/u.test(t);function Gc(t){let e;return()=>(e===void 0&&(e=t()),e)}const Gt=t=>t,u1=(t,e)=>r=>e(t(r)),Ii=(...t)=>t.reduce(u1),Si=(t,e,r)=>{const i=e-t;return i===0?1:(r-t)/i};class qc{constructor(){this.subscriptions=[]}add(e){return Wc(this.subscriptions,e),()=>Hc(this.subscriptions,e)}notify(e,r,i){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,r,i);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(e,r,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const pn=t=>t*1e3,Kt=t=>t/1e3;function Pg(t,e){return e?t*(1e3/e):0}const Ag=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,c1=1e-7,d1=12;function h1(t,e,r,i,a){let l,c,f=0;do c=e+(r-e)/2,l=Ag(c,i,a)-t,l>0?r=c:e=c;while(Math.abs(l)>c1&&++f<d1);return c}function Mi(t,e,r,i){if(t===e&&r===i)return Gt;const a=l=>h1(l,0,1,t,r);return l=>l===0||l===1?l:Ag(a(l),e,i)}const Rg=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Og=t=>e=>1-t(1-e),Ig=Mi(.33,1.53,.69,.99),Jc=Og(Ig),Mg=Rg(Jc),Dg=t=>(t*=2)<1?.5*Jc(t):.5*(2-Math.pow(2,-10*(t-1))),Qc=t=>1-Math.sin(Math.acos(t)),Lg=Og(Qc),$g=Rg(Qc),f1=Mi(.42,0,1,1),p1=Mi(0,0,.58,1),Ug=Mi(.42,0,.58,1),m1=t=>Array.isArray(t)&&typeof t[0]!="number",Vg=t=>Array.isArray(t)&&typeof t[0]=="number",g1={linear:Gt,easeIn:f1,easeInOut:Ug,easeOut:p1,circIn:Qc,circInOut:$g,circOut:Lg,backIn:Jc,backInOut:Mg,backOut:Ig,anticipate:Dg},y1=t=>typeof t=="string",Dp=t=>{if(Vg(t)){Kc(t.length===4);const[e,r,i,a]=t;return Mi(e,r,i,a)}else if(y1(t))return g1[t];return t},Qo=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function v1(t,e){let r=new Set,i=new Set,a=!1,l=!1;const c=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1};function p(y){c.has(y)&&(g.schedule(y),t()),y(f)}const g={schedule:(y,v=!1,w=!1)=>{const S=w&&a?r:i;return v&&c.add(y),S.has(y)||S.add(y),y},cancel:y=>{i.delete(y),c.delete(y)},process:y=>{if(f=y,a){l=!0;return}a=!0,[r,i]=[i,r],r.forEach(p),r.clear(),a=!1,l&&(l=!1,g.process(y))}};return g}const x1=40;function Fg(t,e){let r=!1,i=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>r=!0,c=Qo.reduce((N,D)=>(N[D]=v1(l),N),{}),{setup:f,read:p,resolveKeyframes:g,preUpdate:y,update:v,preRender:w,render:b,postRender:S}=c,E=()=>{const N=Nn.useManualTiming?a.timestamp:performance.now();r=!1,Nn.useManualTiming||(a.delta=i?1e3/60:Math.max(Math.min(N-a.timestamp,x1),1)),a.timestamp=N,a.isProcessing=!0,f.process(a),p.process(a),g.process(a),y.process(a),v.process(a),w.process(a),b.process(a),S.process(a),a.isProcessing=!1,r&&e&&(i=!1,t(E))},A=()=>{r=!0,i=!0,a.isProcessing||t(E)};return{schedule:Qo.reduce((N,D)=>{const L=c[D];return N[D]=(B,K=!1,H=!1)=>(r||A(),L.schedule(B,K,H)),N},{}),cancel:N=>{for(let D=0;D<Qo.length;D++)c[Qo[D]].cancel(N)},state:a,steps:c}}const{schedule:De,cancel:Zn,state:ft,steps:Nu}=Fg(typeof requestAnimationFrame<"u"?requestAnimationFrame:Gt,!0);let sa;function w1(){sa=void 0}const Ct={now:()=>(sa===void 0&&Ct.set(ft.isProcessing||Nn.useManualTiming?ft.timestamp:performance.now()),sa),set:t=>{sa=t,queueMicrotask(w1)}},Bg=t=>e=>typeof e=="string"&&e.startsWith(t),zg=Bg("--"),b1=Bg("var(--"),Yc=t=>b1(t)?_1.test(t.split("/*")[0].trim()):!1,_1=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ss={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},ki={...Ss,transform:t=>jn(0,1,t)},Yo={...Ss,default:1},yi=t=>Math.round(t*1e5)/1e5,Xc=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function S1(t){return t==null}const k1=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Zc=(t,e)=>r=>!!(typeof r=="string"&&k1.test(r)&&r.startsWith(t)||e&&!S1(r)&&Object.prototype.hasOwnProperty.call(r,e)),Wg=(t,e,r)=>i=>{if(typeof i!="string")return i;const[a,l,c,f]=i.match(Xc);return{[t]:parseFloat(a),[e]:parseFloat(l),[r]:parseFloat(c),alpha:f!==void 0?parseFloat(f):1}},j1=t=>jn(0,255,t),Tu={...Ss,transform:t=>Math.round(j1(t))},kr={test:Zc("rgb","red"),parse:Wg("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:i=1})=>"rgba("+Tu.transform(t)+", "+Tu.transform(e)+", "+Tu.transform(r)+", "+yi(ki.transform(i))+")"};function N1(t){let e="",r="",i="",a="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),i=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),i=t.substring(3,4),a=t.substring(4,5),e+=e,r+=r,i+=i,a+=a),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(i,16),alpha:a?parseInt(a,16)/255:1}}const Yu={test:Zc("#"),parse:N1,transform:kr.transform},Di=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Gn=Di("deg"),mn=Di("%"),ae=Di("px"),T1=Di("vh"),E1=Di("vw"),Lp={...mn,parse:t=>mn.parse(t)/100,transform:t=>mn.transform(t*100)},ds={test:Zc("hsl","hue"),parse:Wg("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:i=1})=>"hsla("+Math.round(t)+", "+mn.transform(yi(e))+", "+mn.transform(yi(r))+", "+yi(ki.transform(i))+")"},Ye={test:t=>kr.test(t)||Yu.test(t)||ds.test(t),parse:t=>kr.test(t)?kr.parse(t):ds.test(t)?ds.parse(t):Yu.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?kr.transform(t):ds.transform(t),getAnimatableNone:t=>{const e=Ye.parse(t);return e.alpha=0,Ye.transform(e)}},C1=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function P1(t){return isNaN(t)&&typeof t=="string"&&(t.match(Xc)?.length||0)+(t.match(C1)?.length||0)>0}const Hg="number",Kg="color",A1="var",R1="var(",$p="${}",O1=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ji(t){const e=t.toString(),r=[],i={color:[],number:[],var:[]},a=[];let l=0;const f=e.replace(O1,p=>(Ye.test(p)?(i.color.push(l),a.push(Kg),r.push(Ye.parse(p))):p.startsWith(R1)?(i.var.push(l),a.push(A1),r.push(p)):(i.number.push(l),a.push(Hg),r.push(parseFloat(p))),++l,$p)).split($p);return{values:r,split:f,indexes:i,types:a}}function Gg(t){return ji(t).values}function qg(t){const{split:e,types:r}=ji(t),i=e.length;return a=>{let l="";for(let c=0;c<i;c++)if(l+=e[c],a[c]!==void 0){const f=r[c];f===Hg?l+=yi(a[c]):f===Kg?l+=Ye.transform(a[c]):l+=a[c]}return l}}const I1=t=>typeof t=="number"?0:Ye.test(t)?Ye.getAnimatableNone(t):t;function M1(t){const e=Gg(t);return qg(t)(e.map(I1))}const er={test:P1,parse:Gg,createTransformer:qg,getAnimatableNone:M1};function Eu(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function D1({hue:t,saturation:e,lightness:r,alpha:i}){t/=360,e/=100,r/=100;let a=0,l=0,c=0;if(!e)a=l=c=r;else{const f=r<.5?r*(1+e):r+e-r*e,p=2*r-f;a=Eu(p,f,t+1/3),l=Eu(p,f,t),c=Eu(p,f,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:i}}function ha(t,e){return r=>r>0?e:t}const Ve=(t,e,r)=>t+(e-t)*r,Cu=(t,e,r)=>{const i=t*t,a=r*(e*e-i)+i;return a<0?0:Math.sqrt(a)},L1=[Yu,kr,ds],$1=t=>L1.find(e=>e.test(t));function Up(t){const e=$1(t);if(!e)return!1;let r=e.parse(t);return e===ds&&(r=D1(r)),r}const Vp=(t,e)=>{const r=Up(t),i=Up(e);if(!r||!i)return ha(t,e);const a={...r};return l=>(a.red=Cu(r.red,i.red,l),a.green=Cu(r.green,i.green,l),a.blue=Cu(r.blue,i.blue,l),a.alpha=Ve(r.alpha,i.alpha,l),kr.transform(a))},Xu=new Set(["none","hidden"]);function U1(t,e){return Xu.has(t)?r=>r<=0?t:e:r=>r>=1?e:t}function V1(t,e){return r=>Ve(t,e,r)}function ed(t){return typeof t=="number"?V1:typeof t=="string"?Yc(t)?ha:Ye.test(t)?Vp:z1:Array.isArray(t)?Jg:typeof t=="object"?Ye.test(t)?Vp:F1:ha}function Jg(t,e){const r=[...t],i=r.length,a=t.map((l,c)=>ed(l)(l,e[c]));return l=>{for(let c=0;c<i;c++)r[c]=a[c](l);return r}}function F1(t,e){const r={...t,...e},i={};for(const a in r)t[a]!==void 0&&e[a]!==void 0&&(i[a]=ed(t[a])(t[a],e[a]));return a=>{for(const l in i)r[l]=i[l](a);return r}}function B1(t,e){const r=[],i={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],c=t.indexes[l][i[l]],f=t.values[c]??0;r[a]=f,i[l]++}return r}const z1=(t,e)=>{const r=er.createTransformer(e),i=ji(t),a=ji(e);return i.indexes.var.length===a.indexes.var.length&&i.indexes.color.length===a.indexes.color.length&&i.indexes.number.length>=a.indexes.number.length?Xu.has(t)&&!a.values.length||Xu.has(e)&&!i.values.length?U1(t,e):Ii(Jg(B1(i,a),a.values),r):ha(t,e)};function Qg(t,e,r){return typeof t=="number"&&typeof e=="number"&&typeof r=="number"?Ve(t,e,r):ed(t)(t,e)}const W1=t=>{const e=({timestamp:r})=>t(r);return{start:(r=!0)=>De.update(e,r),stop:()=>Zn(e),now:()=>ft.isProcessing?ft.timestamp:Ct.now()}},Yg=(t,e,r=10)=>{let i="";const a=Math.max(Math.round(e/r),2);for(let l=0;l<a;l++)i+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},fa=2e4;function td(t){let e=0;const r=50;let i=t.next(e);for(;!i.done&&e<fa;)e+=r,i=t.next(e);return e>=fa?1/0:e}function H1(t,e=100,r){const i=r({...t,keyframes:[0,e]}),a=Math.min(td(i),fa);return{type:"keyframes",ease:l=>i.next(a*l).value/e,duration:Kt(a)}}const K1=5;function Xg(t,e,r){const i=Math.max(e-K1,0);return Pg(r-t(i),e-i)}const ze={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Pu=.001;function G1({duration:t=ze.duration,bounce:e=ze.bounce,velocity:r=ze.velocity,mass:i=ze.mass}){let a,l,c=1-e;c=jn(ze.minDamping,ze.maxDamping,c),t=jn(ze.minDuration,ze.maxDuration,Kt(t)),c<1?(a=g=>{const y=g*c,v=y*t,w=y-r,b=Zu(g,c),S=Math.exp(-v);return Pu-w/b*S},l=g=>{const v=g*c*t,w=v*r+r,b=Math.pow(c,2)*Math.pow(g,2)*t,S=Math.exp(-v),E=Zu(Math.pow(g,2),c);return(-a(g)+Pu>0?-1:1)*((w-b)*S)/E}):(a=g=>{const y=Math.exp(-g*t),v=(g-r)*t+1;return-Pu+y*v},l=g=>{const y=Math.exp(-g*t),v=(r-g)*(t*t);return y*v});const f=5/t,p=J1(a,l,f);if(t=pn(t),isNaN(p))return{stiffness:ze.stiffness,damping:ze.damping,duration:t};{const g=Math.pow(p,2)*i;return{stiffness:g,damping:c*2*Math.sqrt(i*g),duration:t}}}const q1=12;function J1(t,e,r){let i=r;for(let a=1;a<q1;a++)i=i-t(i)/e(i);return i}function Zu(t,e){return t*Math.sqrt(1-e*e)}const Q1=["duration","bounce"],Y1=["stiffness","damping","mass"];function Fp(t,e){return e.some(r=>t[r]!==void 0)}function X1(t){let e={velocity:ze.velocity,stiffness:ze.stiffness,damping:ze.damping,mass:ze.mass,isResolvedFromDuration:!1,...t};if(!Fp(t,Y1)&&Fp(t,Q1))if(t.visualDuration){const r=t.visualDuration,i=2*Math.PI/(r*1.2),a=i*i,l=2*jn(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:ze.mass,stiffness:a,damping:l}}else{const r=G1(t);e={...e,...r,mass:ze.mass},e.isResolvedFromDuration=!0}return e}function pa(t=ze.visualDuration,e=ze.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:a}=r;const l=r.keyframes[0],c=r.keyframes[r.keyframes.length-1],f={done:!1,value:l},{stiffness:p,damping:g,mass:y,duration:v,velocity:w,isResolvedFromDuration:b}=X1({...r,velocity:-Kt(r.velocity||0)}),S=w||0,E=g/(2*Math.sqrt(p*y)),A=c-l,k=Kt(Math.sqrt(p/y)),C=Math.abs(A)<5;i||(i=C?ze.restSpeed.granular:ze.restSpeed.default),a||(a=C?ze.restDelta.granular:ze.restDelta.default);let N;if(E<1){const L=Zu(k,E);N=B=>{const K=Math.exp(-E*k*B);return c-K*((S+E*k*A)/L*Math.sin(L*B)+A*Math.cos(L*B))}}else if(E===1)N=L=>c-Math.exp(-k*L)*(A+(S+k*A)*L);else{const L=k*Math.sqrt(E*E-1);N=B=>{const K=Math.exp(-E*k*B),H=Math.min(L*B,300);return c-K*((S+E*k*A)*Math.sinh(H)+L*A*Math.cosh(H))/L}}const D={calculatedDuration:b&&v||null,next:L=>{const B=N(L);if(b)f.done=L>=v;else{let K=L===0?S:0;E<1&&(K=L===0?pn(S):Xg(N,L,B));const H=Math.abs(K)<=i,se=Math.abs(c-B)<=a;f.done=H&&se}return f.value=f.done?c:B,f},toString:()=>{const L=Math.min(td(D),fa),B=Yg(K=>D.next(L*K).value,L,30);return L+"ms "+B},toTransition:()=>{}};return D}pa.applyToOptions=t=>{const e=H1(t,100,pa);return t.ease=e.ease,t.duration=pn(e.duration),t.type="keyframes",t};function ec({keyframes:t,velocity:e=0,power:r=.8,timeConstant:i=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:f,max:p,restDelta:g=.5,restSpeed:y}){const v=t[0],w={done:!1,value:v},b=H=>f!==void 0&&H<f||p!==void 0&&H>p,S=H=>f===void 0?p:p===void 0||Math.abs(f-H)<Math.abs(p-H)?f:p;let E=r*e;const A=v+E,k=c===void 0?A:c(A);k!==A&&(E=k-v);const C=H=>-E*Math.exp(-H/i),N=H=>k+C(H),D=H=>{const se=C(H),me=N(H);w.done=Math.abs(se)<=g,w.value=w.done?k:me};let L,B;const K=H=>{b(w.value)&&(L=H,B=pa({keyframes:[w.value,S(w.value)],velocity:Xg(N,H,w.value),damping:a,stiffness:l,restDelta:g,restSpeed:y}))};return K(0),{calculatedDuration:null,next:H=>{let se=!1;return!B&&L===void 0&&(se=!0,D(H),K(H)),L!==void 0&&H>=L?B.next(H-L):(!se&&D(H),w)}}}function Z1(t,e,r){const i=[],a=r||Nn.mix||Qg,l=t.length-1;for(let c=0;c<l;c++){let f=a(t[c],t[c+1]);if(e){const p=Array.isArray(e)?e[c]||Gt:e;f=Ii(p,f)}i.push(f)}return i}function eb(t,e,{clamp:r=!0,ease:i,mixer:a}={}){const l=t.length;if(Kc(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const f=Z1(e,i,a),p=f.length,g=y=>{if(c&&y<t[0])return e[0];let v=0;if(p>1)for(;v<t.length-2&&!(y<t[v+1]);v++);const w=Si(t[v],t[v+1],y);return f[v](w)};return r?y=>g(jn(t[0],t[l-1],y)):g}function tb(t,e){const r=t[t.length-1];for(let i=1;i<=e;i++){const a=Si(0,e,i);t.push(Ve(r,1,a))}}function nb(t){const e=[0];return tb(e,t.length-1),e}function rb(t,e){return t.map(r=>r*e)}function sb(t,e){return t.map(()=>e||Ug).splice(0,t.length-1)}function vi({duration:t=300,keyframes:e,times:r,ease:i="easeInOut"}){const a=m1(i)?i.map(Dp):Dp(i),l={done:!1,value:e[0]},c=rb(r&&r.length===e.length?r:nb(e),t),f=eb(c,e,{ease:Array.isArray(a)?a:sb(e,a)});return{calculatedDuration:t,next:p=>(l.value=f(p),l.done=p>=t,l)}}const ib=t=>t!==null;function nd(t,{repeat:e,repeatType:r="loop"},i,a=1){const l=t.filter(ib),f=a<0||e&&r!=="loop"&&e%2===1?0:l.length-1;return!f||i===void 0?l[f]:i}const ob={decay:ec,inertia:ec,tween:vi,keyframes:vi,spring:pa};function Zg(t){typeof t.type=="string"&&(t.type=ob[t.type])}class rd{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,r){return this.finished.then(e,r)}}const ab=t=>t/100;class sd extends rd{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:r}=this.options;r&&r.updatedAt!==Ct.now()&&this.tick(Ct.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;Zg(e);const{type:r=vi,repeat:i=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=e;let{keyframes:f}=e;const p=r||vi;p!==vi&&typeof f[0]!="number"&&(this.mixKeyframes=Ii(ab,Qg(f[0],f[1])),f=[0,100]);const g=p({...e,keyframes:f});l==="mirror"&&(this.mirroredGenerator=p({...e,keyframes:[...f].reverse(),velocity:-c})),g.calculatedDuration===null&&(g.calculatedDuration=td(g));const{calculatedDuration:y}=g;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(i+1)-a,this.generator=g}updateTime(e){const r=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(e,r=!1){const{generator:i,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:f,calculatedDuration:p}=this;if(this.startTime===null)return i.next(0);const{delay:g=0,keyframes:y,repeat:v,repeatType:w,repeatDelay:b,type:S,onUpdate:E,finalKeyframe:A}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),r?this.currentTime=e:this.updateTime(e);const k=this.currentTime-g*(this.playbackSpeed>=0?1:-1),C=this.playbackSpeed>=0?k<0:k>a;this.currentTime=Math.max(k,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let N=this.currentTime,D=i;if(v){const H=Math.min(this.currentTime,a)/f;let se=Math.floor(H),me=H%1;!me&&H>=1&&(me=1),me===1&&se--,se=Math.min(se,v+1),!!(se%2)&&(w==="reverse"?(me=1-me,b&&(me-=b/f)):w==="mirror"&&(D=c)),N=jn(0,1,me)*f}const L=C?{done:!1,value:y[0]}:D.next(N);l&&(L.value=l(L.value));let{done:B}=L;!C&&p!==null&&(B=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const K=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&B);return K&&S!==ec&&(L.value=nd(y,this.options,A,this.speed)),E&&E(L.value),K&&this.finish(),L}then(e,r){return this.finished.then(e,r)}get duration(){return Kt(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Kt(e)}get time(){return Kt(this.currentTime)}set time(e){e=pn(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Ct.now());const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=Kt(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=W1,startTime:r}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=r??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ct.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function lb(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const jr=t=>t*180/Math.PI,tc=t=>{const e=jr(Math.atan2(t[1],t[0]));return nc(e)},ub={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:tc,rotateZ:tc,skewX:t=>jr(Math.atan(t[1])),skewY:t=>jr(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},nc=t=>(t=t%360,t<0&&(t+=360),t),Bp=tc,zp=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Wp=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),cb={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:zp,scaleY:Wp,scale:t=>(zp(t)+Wp(t))/2,rotateX:t=>nc(jr(Math.atan2(t[6],t[5]))),rotateY:t=>nc(jr(Math.atan2(-t[2],t[0]))),rotateZ:Bp,rotate:Bp,skewX:t=>jr(Math.atan(t[4])),skewY:t=>jr(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function rc(t){return t.includes("scale")?1:0}function sc(t,e){if(!t||t==="none")return rc(e);const r=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,a;if(r)i=cb,a=r;else{const f=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=ub,a=f}if(!a)return rc(e);const l=i[e],c=a[1].split(",").map(hb);return typeof l=="function"?l(c):c[l]}const db=(t,e)=>{const{transform:r="none"}=getComputedStyle(t);return sc(r,e)};function hb(t){return parseFloat(t.trim())}const ks=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],js=new Set(ks),Hp=t=>t===Ss||t===ae,fb=new Set(["x","y","z"]),pb=ks.filter(t=>!fb.has(t));function mb(t){const e=[];return pb.forEach(r=>{const i=t.getValue(r);i!==void 0&&(e.push([r,i.get()]),i.set(r.startsWith("scale")?1:0))}),e}const Tr={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>sc(e,"x"),y:(t,{transform:e})=>sc(e,"y")};Tr.translateX=Tr.x;Tr.translateY=Tr.y;const Er=new Set;let ic=!1,oc=!1,ac=!1;function ey(){if(oc){const t=Array.from(Er).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),r=new Map;e.forEach(i=>{const a=mb(i);a.length&&(r.set(i,a),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const a=r.get(i);a&&a.forEach(([l,c])=>{i.getValue(l)?.set(c)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}oc=!1,ic=!1,Er.forEach(t=>t.complete(ac)),Er.clear()}function ty(){Er.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(oc=!0)})}function gb(){ac=!0,ty(),ey(),ac=!1}class id{constructor(e,r,i,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=i,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Er.add(this),ic||(ic=!0,De.read(ty),De.resolveKeyframes(ey))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:i,motionValue:a}=this;if(e[0]===null){const l=a?.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(i&&r){const f=i.readValue(r,c);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=c),a&&l===void 0&&a.set(e[0])}lb(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Er.delete(this)}cancel(){this.state==="scheduled"&&(Er.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const yb=t=>t.startsWith("--");function vb(t,e,r){yb(e)?t.style.setProperty(e,r):t.style[e]=r}const xb=Gc(()=>window.ScrollTimeline!==void 0),wb={};function bb(t,e){const r=Gc(t);return()=>wb[e]??r()}const ny=bb(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),mi=([t,e,r,i])=>`cubic-bezier(${t}, ${e}, ${r}, ${i})`,Kp={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:mi([0,.65,.55,1]),circOut:mi([.55,0,1,.45]),backIn:mi([.31,.01,.66,-.59]),backOut:mi([.33,1.53,.69,.99])};function ry(t,e){if(t)return typeof t=="function"?ny()?Yg(t,e):"ease-out":Vg(t)?mi(t):Array.isArray(t)?t.map(r=>ry(r,e)||Kp.easeOut):Kp[t]}function _b(t,e,r,{delay:i=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:f="easeOut",times:p}={},g=void 0){const y={[e]:r};p&&(y.offset=p);const v=ry(f,a);Array.isArray(v)&&(y.easing=v);const w={delay:i,duration:a,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return g&&(w.pseudoElement=g),t.animate(y,w)}function sy(t){return typeof t=="function"&&"applyToOptions"in t}function Sb({type:t,...e}){return sy(t)&&ny()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class kb extends rd{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:r,name:i,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:f,onComplete:p}=e;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=e,Kc(typeof e.type!="string");const g=Sb(e);this.animation=_b(r,i,a,g,l),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=nd(a,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(y):vb(r,i,y),this.animation.cancel()}p?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Kt(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Kt(e)}get time(){return Kt(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=pn(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:r}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&xb()?(this.animation.timeline=e,Gt):r(this)}}const iy={anticipate:Dg,backInOut:Mg,circInOut:$g};function jb(t){return t in iy}function Nb(t){typeof t.ease=="string"&&jb(t.ease)&&(t.ease=iy[t.ease])}const Gp=10;class Tb extends kb{constructor(e){Nb(e),Zg(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:r,onUpdate:i,onComplete:a,element:l,...c}=this.options;if(!r)return;if(e!==void 0){r.set(e);return}const f=new sd({...c,autoplay:!1}),p=pn(this.finishedTime??this.time);r.setWithVelocity(f.sample(p-Gp).value,f.sample(p).value,Gp),f.stop()}}const qp=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(er.test(t)||t==="0")&&!t.startsWith("url("));function Eb(t){const e=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==e)return!0}function Cb(t,e,r,i){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],c=qp(a,e),f=qp(l,e);return!c||!f?!1:Eb(t)||(r==="spring"||sy(r))&&i}function lc(t){t.duration=0,t.type="keyframes"}const Pb=new Set(["opacity","clipPath","filter","transform"]),Ab=Gc(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Rb(t){const{motionValue:e,name:r,repeatDelay:i,repeatType:a,damping:l,type:c}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:p,transformTemplate:g}=e.owner.getProps();return Ab()&&r&&Pb.has(r)&&(r!=="transform"||!g)&&!p&&!i&&a!=="mirror"&&l!==0&&c!=="inertia"}const Ob=40;class Ib extends rd{constructor({autoplay:e=!0,delay:r=0,type:i="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:f,name:p,motionValue:g,element:y,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Ct.now();const w={autoplay:e,delay:r,type:i,repeat:a,repeatDelay:l,repeatType:c,name:p,motionValue:g,element:y,...v},b=y?.KeyframeResolver||id;this.keyframeResolver=new b(f,(S,E,A)=>this.onKeyframesResolved(S,E,w,!A),p,g,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,r,i,a){this.keyframeResolver=void 0;const{name:l,type:c,velocity:f,delay:p,isHandoff:g,onUpdate:y}=i;this.resolvedAt=Ct.now(),Cb(e,l,c,f)||((Nn.instantAnimations||!p)&&y?.(nd(e,i,r)),e[0]=e[e.length-1],lc(i),i.repeat=0);const w={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>Ob?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...i,keyframes:e},b=!g&&Rb(w)?new Tb({...w,element:w.motionValue.owner.current}):new sd(w);b.finished.then(()=>this.notifyFinished()).catch(Gt),this.pendingTimeline&&(this.stopTimeline=b.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=b}get finished(){return this._animation?this.animation.finished:this._finished}then(e,r){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),gb()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const Mb=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Db(t){const e=Mb.exec(t);if(!e)return[,];const[,r,i,a]=e;return[`--${r??i}`,a]}function oy(t,e,r=1){const[i,a]=Db(t);if(!i)return;const l=window.getComputedStyle(e).getPropertyValue(i);if(l){const c=l.trim();return Tg(c)?parseFloat(c):c}return Yc(a)?oy(a,e,r+1):a}function od(t,e){return t?.[e]??t?.default??t}const ay=new Set(["width","height","top","left","right","bottom",...ks]),Lb={test:t=>t==="auto",parse:t=>t},ly=t=>e=>e.test(t),uy=[Ss,ae,mn,Gn,E1,T1,Lb],Jp=t=>uy.find(ly(t));function $b(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||Cg(t):!0}const Ub=new Set(["brightness","contrast","saturate","opacity"]);function Vb(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=r.match(Xc)||[];if(!i)return t;const a=r.replace(i,"");let l=Ub.has(e)?1:0;return i!==r&&(l*=100),e+"("+l+a+")"}const Fb=/\b([a-z-]*)\(.*?\)/gu,uc={...er,getAnimatableNone:t=>{const e=t.match(Fb);return e?e.map(Vb).join(" "):t}},Qp={...Ss,transform:Math.round},Bb={rotate:Gn,rotateX:Gn,rotateY:Gn,rotateZ:Gn,scale:Yo,scaleX:Yo,scaleY:Yo,scaleZ:Yo,skew:Gn,skewX:Gn,skewY:Gn,distance:ae,translateX:ae,translateY:ae,translateZ:ae,x:ae,y:ae,z:ae,perspective:ae,transformPerspective:ae,opacity:ki,originX:Lp,originY:Lp,originZ:ae},ad={borderWidth:ae,borderTopWidth:ae,borderRightWidth:ae,borderBottomWidth:ae,borderLeftWidth:ae,borderRadius:ae,radius:ae,borderTopLeftRadius:ae,borderTopRightRadius:ae,borderBottomRightRadius:ae,borderBottomLeftRadius:ae,width:ae,maxWidth:ae,height:ae,maxHeight:ae,top:ae,right:ae,bottom:ae,left:ae,padding:ae,paddingTop:ae,paddingRight:ae,paddingBottom:ae,paddingLeft:ae,margin:ae,marginTop:ae,marginRight:ae,marginBottom:ae,marginLeft:ae,backgroundPositionX:ae,backgroundPositionY:ae,...Bb,zIndex:Qp,fillOpacity:ki,strokeOpacity:ki,numOctaves:Qp},zb={...ad,color:Ye,backgroundColor:Ye,outlineColor:Ye,fill:Ye,stroke:Ye,borderColor:Ye,borderTopColor:Ye,borderRightColor:Ye,borderBottomColor:Ye,borderLeftColor:Ye,filter:uc,WebkitFilter:uc},cy=t=>zb[t];function dy(t,e){let r=cy(t);return r!==uc&&(r=er),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const Wb=new Set(["auto","none","0"]);function Hb(t,e,r){let i=0,a;for(;i<t.length&&!a;){const l=t[i];typeof l=="string"&&!Wb.has(l)&&ji(l).values.length&&(a=t[i]),i++}if(a&&r)for(const l of e)t[l]=dy(r,a)}class Kb extends id{constructor(e,r,i,a,l){super(e,r,i,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:i}=this;if(!r||!r.current)return;super.readKeyframes();for(let p=0;p<e.length;p++){let g=e[p];if(typeof g=="string"&&(g=g.trim(),Yc(g))){const y=oy(g,r.current);y!==void 0&&(e[p]=y),p===e.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!ay.has(i)||e.length!==2)return;const[a,l]=e,c=Jp(a),f=Jp(l);if(c!==f)if(Hp(c)&&Hp(f))for(let p=0;p<e.length;p++){const g=e[p];typeof g=="string"&&(e[p]=parseFloat(g))}else Tr[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,i=[];for(let a=0;a<e.length;a++)(e[a]===null||$b(e[a]))&&i.push(a);i.length&&Hb(e,i,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Tr[i](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const a=r[r.length-1];a!==void 0&&e.getValue(i,a).jump(a,!1)}measureEndState(){const{element:e,name:r,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const a=e.getValue(r);a&&a.jump(this.measuredOrigin,!1);const l=i.length-1,c=i[l];i[l]=Tr[r](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([f,p])=>{e.getValue(f).set(p)}),this.resolveNoneKeyframes()}}function Gb(t,e,r){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;const a=r?.[t]??i.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const hy=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function fy(t){return Eg(t)&&"offsetHeight"in t}const Yp=30,qb=t=>!isNaN(parseFloat(t));class Jb{constructor(e,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const a=Ct.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=Ct.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=qb(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new qc);const i=this.events[e].add(r);return e==="change"?()=>{i(),De.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,r,i){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Ct.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Yp)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,Yp);return Pg(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ws(t,e){return new Jb(t,e)}const{schedule:ld}=Fg(queueMicrotask,!1),sn={x:!1,y:!1};function py(){return sn.x||sn.y}function Qb(t){return t==="x"||t==="y"?sn[t]?null:(sn[t]=!0,()=>{sn[t]=!1}):sn.x||sn.y?null:(sn.x=sn.y=!0,()=>{sn.x=sn.y=!1})}function my(t,e){const r=Gb(t),i=new AbortController,a={passive:!0,...e,signal:i.signal};return[r,a,()=>i.abort()]}function Xp(t){return!(t.pointerType==="touch"||py())}function Yb(t,e,r={}){const[i,a,l]=my(t,r),c=f=>{if(!Xp(f))return;const{target:p}=f,g=e(p,f);if(typeof g!="function"||!p)return;const y=v=>{Xp(v)&&(g(v),p.removeEventListener("pointerleave",y))};p.addEventListener("pointerleave",y,a)};return i.forEach(f=>{f.addEventListener("pointerenter",c,a)}),l}const gy=(t,e)=>e?t===e?!0:gy(t,e.parentElement):!1,ud=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Xb=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Zb(t){return Xb.has(t.tagName)||t.tabIndex!==-1}const ia=new WeakSet;function Zp(t){return e=>{e.key==="Enter"&&t(e)}}function Au(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const e_=(t,e)=>{const r=t.currentTarget;if(!r)return;const i=Zp(()=>{if(ia.has(r))return;Au(r,"down");const a=Zp(()=>{Au(r,"up")}),l=()=>Au(r,"cancel");r.addEventListener("keyup",a,e),r.addEventListener("blur",l,e)});r.addEventListener("keydown",i,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",i),e)};function em(t){return ud(t)&&!py()}function t_(t,e,r={}){const[i,a,l]=my(t,r),c=f=>{const p=f.currentTarget;if(!em(f))return;ia.add(p);const g=e(p,f),y=(b,S)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",w),ia.has(p)&&ia.delete(p),em(b)&&typeof g=="function"&&g(b,{success:S})},v=b=>{y(b,p===window||p===document||r.useGlobalTarget||gy(p,b.target))},w=b=>{y(b,!1)};window.addEventListener("pointerup",v,a),window.addEventListener("pointercancel",w,a)};return i.forEach(f=>{(r.useGlobalTarget?window:f).addEventListener("pointerdown",c,a),fy(f)&&(f.addEventListener("focus",g=>e_(g,a)),!Zb(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),l}function yy(t){return Eg(t)&&"ownerSVGElement"in t}function n_(t){return yy(t)&&t.tagName==="svg"}const xt=t=>!!(t&&t.getVelocity),r_=[...uy,Ye,er],s_=t=>r_.find(ly(t)),cd=M.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function tm(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function i_(...t){return e=>{let r=!1;const i=t.map(a=>{const l=tm(a,e);return!r&&typeof l=="function"&&(r=!0),l});if(r)return()=>{for(let a=0;a<i.length;a++){const l=i[a];typeof l=="function"?l():tm(t[a],null)}}}}function o_(...t){return M.useCallback(i_(...t),t)}class a_ extends M.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const i=r.offsetParent,a=fy(i)&&i.offsetWidth||0,l=this.props.sizeRef.current;l.height=r.offsetHeight||0,l.width=r.offsetWidth||0,l.top=r.offsetTop,l.left=r.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function l_({children:t,isPresent:e,anchorX:r,root:i}){const a=M.useId(),l=M.useRef(null),c=M.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:f}=M.useContext(cd),p=o_(l,t?.ref);return M.useInsertionEffect(()=>{const{width:g,height:y,top:v,left:w,right:b}=c.current;if(e||!l.current||!g||!y)return;const S=r==="left"?`left: ${w}`:`right: ${b}`;l.current.dataset.motionPopId=a;const E=document.createElement("style");f&&(E.nonce=f);const A=i??document.head;return A.appendChild(E),E.sheet&&E.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${g}px !important;
            height: ${y}px !important;
            ${S}px !important;
            top: ${v}px !important;
          }
        `),()=>{A.contains(E)&&A.removeChild(E)}},[e]),d.jsx(a_,{isPresent:e,childRef:l,sizeRef:c,children:M.cloneElement(t,{ref:p})})}const u_=({children:t,initial:e,isPresent:r,onExitComplete:i,custom:a,presenceAffectsLayout:l,mode:c,anchorX:f,root:p})=>{const g=Bc(c_),y=M.useId();let v=!0,w=M.useMemo(()=>(v=!1,{id:y,initial:e,isPresent:r,custom:a,onExitComplete:b=>{g.set(b,!0);for(const S of g.values())if(!S)return;i&&i()},register:b=>(g.set(b,!1),()=>g.delete(b))}),[r,g,i]);return l&&v&&(w={...w}),M.useMemo(()=>{g.forEach((b,S)=>g.set(S,!1))},[r]),M.useEffect(()=>{!r&&!g.size&&i&&i()},[r]),c==="popLayout"&&(t=d.jsx(l_,{isPresent:r,anchorX:f,root:p,children:t})),d.jsx(_a.Provider,{value:w,children:t})};function c_(){return new Map}function vy(t=!0){const e=M.useContext(_a);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:i,register:a}=e,l=M.useId();M.useEffect(()=>{if(t)return a(l)},[t]);const c=M.useCallback(()=>t&&i&&i(l),[l,i,t]);return!r&&i?[!1,c]:[!0]}const Xo=t=>t.key||"";function nm(t){const e=[];return M.Children.forEach(t,r=>{M.isValidElement(r)&&e.push(r)}),e}const d_=({children:t,custom:e,initial:r=!0,onExitComplete:i,presenceAffectsLayout:a=!0,mode:l="sync",propagate:c=!1,anchorX:f="left",root:p})=>{const[g,y]=vy(c),v=M.useMemo(()=>nm(t),[t]),w=c&&!g?[]:v.map(Xo),b=M.useRef(!0),S=M.useRef(v),E=Bc(()=>new Map),[A,k]=M.useState(v),[C,N]=M.useState(v);Ng(()=>{b.current=!1,S.current=v;for(let B=0;B<C.length;B++){const K=Xo(C[B]);w.includes(K)?E.delete(K):E.get(K)!==!0&&E.set(K,!1)}},[C,w.length,w.join("-")]);const D=[];if(v!==A){let B=[...v];for(let K=0;K<C.length;K++){const H=C[K],se=Xo(H);w.includes(se)||(B.splice(K,0,H),D.push(H))}return l==="wait"&&D.length&&(B=D),N(nm(B)),k(v),null}const{forceRender:L}=M.useContext(Fc);return d.jsx(d.Fragment,{children:C.map(B=>{const K=Xo(B),H=c&&!g?!1:v===C||w.includes(K),se=()=>{if(E.has(K))E.set(K,!0);else return;let me=!0;E.forEach(_e=>{_e||(me=!1)}),me&&(L?.(),N(S.current),c&&y?.(),i&&i())};return d.jsx(u_,{isPresent:H,initial:!b.current||r?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,root:p,onExitComplete:H?void 0:se,anchorX:f,children:B},K)})})},xy=M.createContext({strict:!1}),rm={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},bs={};for(const t in rm)bs[t]={isEnabled:e=>rm[t].some(r=>!!e[r])};function h_(t){for(const e in t)bs[e]={...bs[e],...t[e]}}const f_=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ma(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||f_.has(t)}let wy=t=>!ma(t);function p_(t){typeof t=="function"&&(wy=e=>e.startsWith("on")?!ma(e):t(e))}try{p_(require("@emotion/is-prop-valid").default)}catch{}function m_(t,e,r){const i={};for(const a in t)a==="values"&&typeof t.values=="object"||(wy(a)||r===!0&&ma(a)||!e&&!ma(a)||t.draggable&&a.startsWith("onDrag"))&&(i[a]=t[a]);return i}const Sa=M.createContext({});function ka(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Ni(t){return typeof t=="string"||Array.isArray(t)}const dd=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],hd=["initial",...dd];function ja(t){return ka(t.animate)||hd.some(e=>Ni(t[e]))}function by(t){return!!(ja(t)||t.variants)}function g_(t,e){if(ja(t)){const{initial:r,animate:i}=t;return{initial:r===!1||Ni(r)?r:void 0,animate:Ni(i)?i:void 0}}return t.inherit!==!1?e:{}}function y_(t){const{initial:e,animate:r}=g_(t,M.useContext(Sa));return M.useMemo(()=>({initial:e,animate:r}),[sm(e),sm(r)])}function sm(t){return Array.isArray(t)?t.join(" "):t}function im(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const fi={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ae.test(t))t=parseFloat(t);else return t;const r=im(t,e.target.x),i=im(t,e.target.y);return`${r}% ${i}%`}},v_={correct:(t,{treeScale:e,projectionDelta:r})=>{const i=t,a=er.parse(t);if(a.length>5)return i;const l=er.createTransformer(t),c=typeof a[0]!="number"?1:0,f=r.x.scale*e.x,p=r.y.scale*e.y;a[0+c]/=f,a[1+c]/=p;const g=Ve(f,p,.5);return typeof a[2+c]=="number"&&(a[2+c]/=g),typeof a[3+c]=="number"&&(a[3+c]/=g),l(a)}},cc={borderRadius:{...fi,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:fi,borderTopRightRadius:fi,borderBottomLeftRadius:fi,borderBottomRightRadius:fi,boxShadow:v_};function _y(t,{layout:e,layoutId:r}){return js.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!cc[t]||t==="opacity")}const x_={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},w_=ks.length;function b_(t,e,r){let i="",a=!0;for(let l=0;l<w_;l++){const c=ks[l],f=t[c];if(f===void 0)continue;let p=!0;if(typeof f=="number"?p=f===(c.startsWith("scale")?1:0):p=parseFloat(f)===0,!p||r){const g=hy(f,ad[c]);if(!p){a=!1;const y=x_[c]||c;i+=`${y}(${g}) `}r&&(e[c]=g)}}return i=i.trim(),r?i=r(e,a?"":i):a&&(i="none"),i}function fd(t,e,r){const{style:i,vars:a,transformOrigin:l}=t;let c=!1,f=!1;for(const p in e){const g=e[p];if(js.has(p)){c=!0;continue}else if(zg(p)){a[p]=g;continue}else{const y=hy(g,ad[p]);p.startsWith("origin")?(f=!0,l[p]=y):i[p]=y}}if(e.transform||(c||r?i.transform=b_(e,t.transform,r):i.transform&&(i.transform="none")),f){const{originX:p="50%",originY:g="50%",originZ:y=0}=l;i.transformOrigin=`${p} ${g} ${y}`}}const pd=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Sy(t,e,r){for(const i in e)!xt(e[i])&&!_y(i,r)&&(t[i]=e[i])}function __({transformTemplate:t},e){return M.useMemo(()=>{const r=pd();return fd(r,e,t),Object.assign({},r.vars,r.style)},[e])}function S_(t,e){const r=t.style||{},i={};return Sy(i,r,t),Object.assign(i,__(t,e)),i}function k_(t,e){const r={},i=S_(t,e);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=i,r}const j_={offset:"stroke-dashoffset",array:"stroke-dasharray"},N_={offset:"strokeDashoffset",array:"strokeDasharray"};function T_(t,e,r=1,i=0,a=!0){t.pathLength=1;const l=a?j_:N_;t[l.offset]=ae.transform(-i);const c=ae.transform(e),f=ae.transform(r);t[l.array]=`${c} ${f}`}function ky(t,{attrX:e,attrY:r,attrScale:i,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...f},p,g,y){if(fd(t,f,g),p){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:w}=t;v.transform&&(w.transform=v.transform,delete v.transform),(w.transform||v.transformOrigin)&&(w.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),w.transform&&(w.transformBox=y?.transformBox??"fill-box",delete v.transformBox),e!==void 0&&(v.x=e),r!==void 0&&(v.y=r),i!==void 0&&(v.scale=i),a!==void 0&&T_(v,a,l,c,!1)}const jy=()=>({...pd(),attrs:{}}),Ny=t=>typeof t=="string"&&t.toLowerCase()==="svg";function E_(t,e,r,i){const a=M.useMemo(()=>{const l=jy();return ky(l,e,Ny(i),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};Sy(l,t.style,t),a.style={...l,...a.style}}return a}const C_=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function md(t){return typeof t!="string"||t.includes("-")?!1:!!(C_.indexOf(t)>-1||/[A-Z]/u.test(t))}function P_(t,e,r,{latestValues:i},a,l=!1){const f=(md(t)?E_:k_)(e,i,a,t),p=m_(e,typeof t=="string",l),g=t!==M.Fragment?{...p,...f,ref:r}:{},{children:y}=e,v=M.useMemo(()=>xt(y)?y.get():y,[y]);return M.createElement(t,{...g,children:v})}function om(t){const e=[{},{}];return t?.values.forEach((r,i)=>{e[0][i]=r.get(),e[1][i]=r.getVelocity()}),e}function gd(t,e,r,i){if(typeof e=="function"){const[a,l]=om(i);e=e(r!==void 0?r:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=om(i);e=e(r!==void 0?r:t.custom,a,l)}return e}function oa(t){return xt(t)?t.get():t}function A_({scrapeMotionValuesFromProps:t,createRenderState:e},r,i,a){return{latestValues:R_(r,i,a,t),renderState:e()}}function R_(t,e,r,i){const a={},l=i(t,{});for(const w in l)a[w]=oa(l[w]);let{initial:c,animate:f}=t;const p=ja(t),g=by(t);e&&g&&!p&&t.inherit!==!1&&(c===void 0&&(c=e.initial),f===void 0&&(f=e.animate));let y=r?r.initial===!1:!1;y=y||c===!1;const v=y?f:c;if(v&&typeof v!="boolean"&&!ka(v)){const w=Array.isArray(v)?v:[v];for(let b=0;b<w.length;b++){const S=gd(t,w[b]);if(S){const{transitionEnd:E,transition:A,...k}=S;for(const C in k){let N=k[C];if(Array.isArray(N)){const D=y?N.length-1:0;N=N[D]}N!==null&&(a[C]=N)}for(const C in E)a[C]=E[C]}}}return a}const Ty=t=>(e,r)=>{const i=M.useContext(Sa),a=M.useContext(_a),l=()=>A_(t,e,i,a);return r?l():Bc(l)};function yd(t,e,r){const{style:i}=t,a={};for(const l in i)(xt(i[l])||e.style&&xt(e.style[l])||_y(l,t)||r?.getValue(l)?.liveStyle!==void 0)&&(a[l]=i[l]);return a}const O_=Ty({scrapeMotionValuesFromProps:yd,createRenderState:pd});function Ey(t,e,r){const i=yd(t,e,r);for(const a in t)if(xt(t[a])||xt(e[a])){const l=ks.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;i[l]=t[a]}return i}const I_=Ty({scrapeMotionValuesFromProps:Ey,createRenderState:jy}),M_=Symbol.for("motionComponentSymbol");function hs(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function D_(t,e,r){return M.useCallback(i=>{i&&t.onMount&&t.onMount(i),e&&(i?e.mount(i):e.unmount()),r&&(typeof r=="function"?r(i):hs(r)&&(r.current=i))},[e])}const vd=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),L_="framerAppearId",Cy="data-"+vd(L_),Py=M.createContext({});function $_(t,e,r,i,a){const{visualElement:l}=M.useContext(Sa),c=M.useContext(xy),f=M.useContext(_a),p=M.useContext(cd).reducedMotion,g=M.useRef(null);i=i||c.renderer,!g.current&&i&&(g.current=i(t,{visualState:e,parent:l,props:r,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:p}));const y=g.current,v=M.useContext(Py);y&&!y.projection&&a&&(y.type==="html"||y.type==="svg")&&U_(g.current,r,a,v);const w=M.useRef(!1);M.useInsertionEffect(()=>{y&&w.current&&y.update(r,f)});const b=r[Cy],S=M.useRef(!!b&&!window.MotionHandoffIsComplete?.(b)&&window.MotionHasOptimisedAnimation?.(b));return Ng(()=>{y&&(w.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),S.current&&y.animationState&&y.animationState.animateChanges())}),M.useEffect(()=>{y&&(!S.current&&y.animationState&&y.animationState.animateChanges(),S.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(b)}),S.current=!1),y.enteringChildren=void 0)}),y}function U_(t,e,r,i){const{layoutId:a,layout:l,drag:c,dragConstraints:f,layoutScroll:p,layoutRoot:g,layoutCrossfade:y}=e;t.projection=new r(t.latestValues,e["data-framer-portal-id"]?void 0:Ay(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||f&&hs(f),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:i,crossfade:y,layoutScroll:p,layoutRoot:g})}function Ay(t){if(t)return t.options.allowProjection!==!1?t.projection:Ay(t.parent)}function Ru(t,{forwardMotionProps:e=!1}={},r,i){r&&h_(r);const a=md(t)?I_:O_;function l(f,p){let g;const y={...M.useContext(cd),...f,layoutId:V_(f)},{isStatic:v}=y,w=y_(f),b=a(f,v);if(!v&&zc){F_();const S=B_(y);g=S.MeasureLayout,w.visualElement=$_(t,b,y,i,S.ProjectionNode)}return d.jsxs(Sa.Provider,{value:w,children:[g&&w.visualElement?d.jsx(g,{visualElement:w.visualElement,...y}):null,P_(t,f,D_(b,w.visualElement,p),b,v,e)]})}l.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const c=M.forwardRef(l);return c[M_]=t,c}function V_({layoutId:t}){const e=M.useContext(Fc).id;return e&&t!==void 0?e+"-"+t:t}function F_(t,e){M.useContext(xy).strict}function B_(t){const{drag:e,layout:r}=bs;if(!e&&!r)return{};const i={...e,...r};return{MeasureLayout:e?.isEnabled(t)||r?.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function z_(t,e){if(typeof Proxy>"u")return Ru;const r=new Map,i=(l,c)=>Ru(l,c,t,e),a=(l,c)=>i(l,c);return new Proxy(a,{get:(l,c)=>c==="create"?i:(r.has(c)||r.set(c,Ru(c,void 0,t,e)),r.get(c))})}function Ry({top:t,left:e,right:r,bottom:i}){return{x:{min:e,max:r},y:{min:t,max:i}}}function W_({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function H_(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:i.y,right:i.x}}function Ou(t){return t===void 0||t===1}function dc({scale:t,scaleX:e,scaleY:r}){return!Ou(t)||!Ou(e)||!Ou(r)}function wr(t){return dc(t)||Oy(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Oy(t){return am(t.x)||am(t.y)}function am(t){return t&&t!=="0%"}function ga(t,e,r){const i=t-r,a=e*i;return r+a}function lm(t,e,r,i,a){return a!==void 0&&(t=ga(t,a,i)),ga(t,r,i)+e}function hc(t,e=0,r=1,i,a){t.min=lm(t.min,e,r,i,a),t.max=lm(t.max,e,r,i,a)}function Iy(t,{x:e,y:r}){hc(t.x,e.translate,e.scale,e.originPoint),hc(t.y,r.translate,r.scale,r.originPoint)}const um=.999999999999,cm=1.0000000000001;function K_(t,e,r,i=!1){const a=r.length;if(!a)return;e.x=e.y=1;let l,c;for(let f=0;f<a;f++){l=r[f],c=l.projectionDelta;const{visualElement:p}=l.options;p&&p.props.style&&p.props.style.display==="contents"||(i&&l.options.layoutScroll&&l.scroll&&l!==l.root&&ps(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,Iy(t,c)),i&&wr(l.latestValues)&&ps(t,l.latestValues))}e.x<cm&&e.x>um&&(e.x=1),e.y<cm&&e.y>um&&(e.y=1)}function fs(t,e){t.min=t.min+e,t.max=t.max+e}function dm(t,e,r,i,a=.5){const l=Ve(t.min,t.max,a);hc(t,e,r,l,i)}function ps(t,e){dm(t.x,e.x,e.scaleX,e.scale,e.originX),dm(t.y,e.y,e.scaleY,e.scale,e.originY)}function My(t,e){return Ry(H_(t.getBoundingClientRect(),e))}function G_(t,e,r){const i=My(t,r),{scroll:a}=e;return a&&(fs(i.x,a.offset.x),fs(i.y,a.offset.y)),i}const hm=()=>({translate:0,scale:1,origin:0,originPoint:0}),ms=()=>({x:hm(),y:hm()}),fm=()=>({min:0,max:0}),st=()=>({x:fm(),y:fm()}),fc={current:null},Dy={current:!1};function q_(){if(Dy.current=!0,!!zc)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>fc.current=t.matches;t.addEventListener("change",e),e()}else fc.current=!1}const J_=new WeakMap;function Q_(t,e,r){for(const i in e){const a=e[i],l=r[i];if(xt(a))t.addValue(i,a);else if(xt(l))t.addValue(i,ws(a,{owner:t}));else if(l!==a)if(t.hasValue(i)){const c=t.getValue(i);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=t.getStaticValue(i);t.addValue(i,ws(c!==void 0?c:a,{owner:t}))}}for(const i in r)e[i]===void 0&&t.removeValue(i);return e}const pm=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Y_{scrapeMotionValuesFromProps(e,r,i){return{}}constructor({parent:e,props:r,presenceContext:i,reducedMotionConfig:a,blockInitialAnimation:l,visualState:c},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=id,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=Ct.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,De.render(this.render,!1,!0))};const{latestValues:p,renderState:g}=c;this.latestValues=p,this.baseTarget={...p},this.initialValues=r.initial?{...p}:{},this.renderState=g,this.parent=e,this.props=r,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=f,this.blockInitialAnimation=!!l,this.isControllingVariants=ja(r),this.isVariantNode=by(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,...v}=this.scrapeMotionValuesFromProps(r,{},this);for(const w in v){const b=v[w];p[w]!==void 0&&xt(b)&&b.set(p[w])}}mount(e){this.current=e,J_.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,i)=>this.bindToMotionValue(i,r)),Dy.current||q_(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:fc.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Zn(this.notifyUpdate),Zn(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const r=this.features[e];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=js.has(e);i&&this.onBindTransform&&this.onBindTransform();const a=r.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&De.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in bs){const r=bs[e];if(!r)continue;const{isEnabled:i,Feature:a}=r;if(!this.features[e]&&a&&i(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):st()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let i=0;i<pm.length;i++){const a=pm[i];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=e[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=Q_(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const i=this.values.get(e);r!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&r!==void 0&&(i=ws(r===null?void 0:r,{owner:this}),this.addValue(e,i)),i}readValue(e,r){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(Tg(i)||Cg(i))?i=parseFloat(i):!s_(i)&&er.test(r)&&(i=dy(e,r)),this.setBaseTarget(e,xt(i)?i.get():i)),xt(i)?i.get():i}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const l=gd(this.props,r,this.presenceContext?.custom);l&&(i=l[e])}if(r&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!xt(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new qc),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}scheduleRenderMicrotask(){ld.render(this.render)}}class Ly extends Y_{constructor(){super(...arguments),this.KeyframeResolver=Kb}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:i}){delete r[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;xt(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function $y(t,{style:e,vars:r},i,a){const l=t.style;let c;for(c in e)l[c]=e[c];a?.applyProjectionStyles(l,i);for(c in r)l.setProperty(c,r[c])}function X_(t){return window.getComputedStyle(t)}class Z_ extends Ly{constructor(){super(...arguments),this.type="html",this.renderInstance=$y}readValueFromInstance(e,r){if(js.has(r))return this.projection?.isProjecting?rc(r):db(e,r);{const i=X_(e),a=(zg(r)?i.getPropertyValue(r):i[r])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:r}){return My(e,r)}build(e,r,i){fd(e,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,r,i){return yd(e,r,i)}}const Uy=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function e2(t,e,r,i){$y(t,e,void 0,i);for(const a in e.attrs)t.setAttribute(Uy.has(a)?a:vd(a),e.attrs[a])}class t2 extends Ly{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=st}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(js.has(r)){const i=cy(r);return i&&i.default||0}return r=Uy.has(r)?r:vd(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,i){return Ey(e,r,i)}build(e,r,i){ky(e,r,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,r,i,a){e2(e,r,i,a)}mount(e){this.isSVGTag=Ny(e.tagName),super.mount(e)}}const n2=(t,e)=>md(t)?new t2(e):new Z_(e,{allowProjection:t!==M.Fragment});function vs(t,e,r){const i=t.getProps();return gd(i,e,r!==void 0?r:i.custom,t)}const pc=t=>Array.isArray(t);function r2(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,ws(r))}function s2(t){return pc(t)?t[t.length-1]||0:t}function i2(t,e){const r=vs(t,e);let{transitionEnd:i={},transition:a={},...l}=r||{};l={...l,...i};for(const c in l){const f=s2(l[c]);r2(t,c,f)}}function o2(t){return!!(xt(t)&&t.add)}function mc(t,e){const r=t.getValue("willChange");if(o2(r))return r.add(e);if(!r&&Nn.WillChange){const i=new Nn.WillChange("auto");t.addValue("willChange",i),i.add(e)}}function Vy(t){return t.props[Cy]}const a2=t=>t!==null;function l2(t,{repeat:e,repeatType:r="loop"},i){const a=t.filter(a2),l=e&&r!=="loop"&&e%2===1?0:a.length-1;return a[l]}const u2={type:"spring",stiffness:500,damping:25,restSpeed:10},c2=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),d2={type:"keyframes",duration:.8},h2={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},f2=(t,{keyframes:e})=>e.length>2?d2:js.has(t)?t.startsWith("scale")?c2(e[1]):u2:h2;function p2({when:t,delay:e,delayChildren:r,staggerChildren:i,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:f,from:p,elapsed:g,...y}){return!!Object.keys(y).length}const xd=(t,e,r,i={},a,l)=>c=>{const f=od(i,t)||{},p=f.delay||i.delay||0;let{elapsed:g=0}=i;g=g-pn(p);const y={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...f,delay:-g,onUpdate:w=>{e.set(w),f.onUpdate&&f.onUpdate(w)},onComplete:()=>{c(),f.onComplete&&f.onComplete()},name:t,motionValue:e,element:l?void 0:a};p2(f)||Object.assign(y,f2(t,y)),y.duration&&(y.duration=pn(y.duration)),y.repeatDelay&&(y.repeatDelay=pn(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let v=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(lc(y),y.delay===0&&(v=!0)),(Nn.instantAnimations||Nn.skipAnimations)&&(v=!0,lc(y),y.delay=0),y.allowFlatten=!f.type&&!f.ease,v&&!l&&e.get()!==void 0){const w=l2(y.keyframes,f);if(w!==void 0){De.update(()=>{y.onUpdate(w),y.onComplete()});return}}return f.isSync?new sd(y):new Ib(y)};function m2({protectedKeys:t,needsAnimating:e},r){const i=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,i}function Fy(t,e,{delay:r=0,transitionOverride:i,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:c,...f}=e;i&&(l=i);const p=[],g=a&&t.animationState&&t.animationState.getState()[a];for(const y in f){const v=t.getValue(y,t.latestValues[y]??null),w=f[y];if(w===void 0||g&&m2(g,y))continue;const b={delay:r,...od(l||{},y)},S=v.get();if(S!==void 0&&!v.isAnimating&&!Array.isArray(w)&&w===S&&!b.velocity)continue;let E=!1;if(window.MotionHandoffAnimation){const k=Vy(t);if(k){const C=window.MotionHandoffAnimation(k,y,De);C!==null&&(b.startTime=C,E=!0)}}mc(t,y),v.start(xd(y,v,w,t.shouldReduceMotion&&ay.has(y)?{type:!1}:b,t,E));const A=v.animation;A&&p.push(A)}return c&&Promise.all(p).then(()=>{De.update(()=>{c&&i2(t,c)})}),p}function By(t,e,r,i=0,a=1){const l=Array.from(t).sort((g,y)=>g.sortNodePosition(y)).indexOf(e),c=t.size,f=(c-1)*i;return typeof r=="function"?r(l,c):a===1?l*i:f-l*i}function gc(t,e,r={}){const i=vs(t,e,r.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=i||{};r.transitionOverride&&(a=r.transitionOverride);const l=i?()=>Promise.all(Fy(t,i,r)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:g=0,staggerChildren:y,staggerDirection:v}=a;return g2(t,e,p,g,y,v,r)}:()=>Promise.resolve(),{when:f}=a;if(f){const[p,g]=f==="beforeChildren"?[l,c]:[c,l];return p().then(()=>g())}else return Promise.all([l(),c(r.delay)])}function g2(t,e,r=0,i=0,a=0,l=1,c){const f=[];for(const p of t.variantChildren)p.notify("AnimationStart",e),f.push(gc(p,e,{...c,delay:r+(typeof i=="function"?0:i)+By(t.variantChildren,p,i,a,l)}).then(()=>p.notify("AnimationComplete",e)));return Promise.all(f)}function y2(t,e,r={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const a=e.map(l=>gc(t,l,r));i=Promise.all(a)}else if(typeof e=="string")i=gc(t,e,r);else{const a=typeof e=="function"?vs(t,e,r.custom):e;i=Promise.all(Fy(t,a,r))}return i.then(()=>{t.notify("AnimationComplete",e)})}function zy(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let i=0;i<r;i++)if(e[i]!==t[i])return!1;return!0}const v2=hd.length;function Wy(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?Wy(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const e={};for(let r=0;r<v2;r++){const i=hd[r],a=t.props[i];(Ni(a)||a===!1)&&(e[i]=a)}return e}const x2=[...dd].reverse(),w2=dd.length;function b2(t){return e=>Promise.all(e.map(({animation:r,options:i})=>y2(t,r,i)))}function _2(t){let e=b2(t),r=mm(),i=!0;const a=p=>(g,y)=>{const v=vs(t,y,p==="exit"?t.presenceContext?.custom:void 0);if(v){const{transition:w,transitionEnd:b,...S}=v;g={...g,...S,...b}}return g};function l(p){e=p(t)}function c(p){const{props:g}=t,y=Wy(t.parent)||{},v=[],w=new Set;let b={},S=1/0;for(let A=0;A<w2;A++){const k=x2[A],C=r[k],N=g[k]!==void 0?g[k]:y[k],D=Ni(N),L=k===p?C.isActive:null;L===!1&&(S=A);let B=N===y[k]&&N!==g[k]&&D;if(B&&i&&t.manuallyAnimateOnMount&&(B=!1),C.protectedKeys={...b},!C.isActive&&L===null||!N&&!C.prevProp||ka(N)||typeof N=="boolean")continue;const K=S2(C.prevProp,N);let H=K||k===p&&C.isActive&&!B&&D||A>S&&D,se=!1;const me=Array.isArray(N)?N:[N];let _e=me.reduce(a(k),{});L===!1&&(_e={});const{prevResolvedValues:We={}}=C,de={...We,..._e},He=ce=>{H=!0,w.has(ce)&&(se=!0,w.delete(ce)),C.needsAnimating[ce]=!0;const W=t.getValue(ce);W&&(W.liveStyle=!1)};for(const ce in de){const W=_e[ce],Z=We[ce];if(b.hasOwnProperty(ce))continue;let G=!1;pc(W)&&pc(Z)?G=!zy(W,Z):G=W!==Z,G?W!=null?He(ce):w.add(ce):W!==void 0&&w.has(ce)?He(ce):C.protectedKeys[ce]=!0}C.prevProp=N,C.prevResolvedValues=_e,C.isActive&&(b={...b,..._e}),i&&t.blockInitialAnimation&&(H=!1);const Ze=B&&K;H&&(!Ze||se)&&v.push(...me.map(ce=>{const W={type:k};if(typeof ce=="string"&&i&&!Ze&&t.manuallyAnimateOnMount&&t.parent){const{parent:Z}=t,G=vs(Z,ce);if(Z.enteringChildren&&G){const{delayChildren:P}=G.transition||{};W.delay=By(Z.enteringChildren,t,P)}}return{animation:ce,options:W}}))}if(w.size){const A={};if(typeof g.initial!="boolean"){const k=vs(t,Array.isArray(g.initial)?g.initial[0]:g.initial);k&&k.transition&&(A.transition=k.transition)}w.forEach(k=>{const C=t.getBaseTarget(k),N=t.getValue(k);N&&(N.liveStyle=!0),A[k]=C??null}),v.push({animation:A})}let E=!!v.length;return i&&(g.initial===!1||g.initial===g.animate)&&!t.manuallyAnimateOnMount&&(E=!1),i=!1,E?e(v):Promise.resolve()}function f(p,g){if(r[p].isActive===g)return Promise.resolve();t.variantChildren?.forEach(v=>v.animationState?.setActive(p,g)),r[p].isActive=g;const y=c(p);for(const v in r)r[v].protectedKeys={};return y}return{animateChanges:c,setActive:f,setAnimateFunction:l,getState:()=>r,reset:()=>{r=mm()}}}function S2(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!zy(e,t):!1}function gr(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function mm(){return{animate:gr(!0),whileInView:gr(),whileHover:gr(),whileTap:gr(),whileDrag:gr(),whileFocus:gr(),exit:gr()}}class tr{constructor(e){this.isMounted=!1,this.node=e}update(){}}class k2 extends tr{constructor(e){super(e),e.animationState||(e.animationState=_2(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();ka(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let j2=0;class N2 extends tr{constructor(){super(...arguments),this.id=j2++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const a=this.node.animationState.setActive("exit",!e);r&&!e&&a.then(()=>{r(this.id)})}mount(){const{register:e,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const T2={animation:{Feature:k2},exit:{Feature:N2}};function Ti(t,e,r,i={passive:!0}){return t.addEventListener(e,r,i),()=>t.removeEventListener(e,r)}function Li(t){return{point:{x:t.pageX,y:t.pageY}}}const E2=t=>e=>ud(e)&&t(e,Li(e));function xi(t,e,r,i){return Ti(t,e,E2(r),i)}const Hy=1e-4,C2=1-Hy,P2=1+Hy,Ky=.01,A2=0-Ky,R2=0+Ky;function _t(t){return t.max-t.min}function O2(t,e,r){return Math.abs(t-e)<=r}function gm(t,e,r,i=.5){t.origin=i,t.originPoint=Ve(e.min,e.max,t.origin),t.scale=_t(r)/_t(e),t.translate=Ve(r.min,r.max,t.origin)-t.originPoint,(t.scale>=C2&&t.scale<=P2||isNaN(t.scale))&&(t.scale=1),(t.translate>=A2&&t.translate<=R2||isNaN(t.translate))&&(t.translate=0)}function wi(t,e,r,i){gm(t.x,e.x,r.x,i?i.originX:void 0),gm(t.y,e.y,r.y,i?i.originY:void 0)}function ym(t,e,r){t.min=r.min+e.min,t.max=t.min+_t(e)}function I2(t,e,r){ym(t.x,e.x,r.x),ym(t.y,e.y,r.y)}function vm(t,e,r){t.min=e.min-r.min,t.max=t.min+_t(e)}function ya(t,e,r){vm(t.x,e.x,r.x),vm(t.y,e.y,r.y)}function Ht(t){return[t("x"),t("y")]}const Gy=({current:t})=>t?t.ownerDocument.defaultView:null,xm=(t,e)=>Math.abs(t-e);function M2(t,e){const r=xm(t.x,e.x),i=xm(t.y,e.y);return Math.sqrt(r**2+i**2)}class qy{constructor(e,r,{transformPagePoint:i,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=Mu(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,S=M2(w.offset,{x:0,y:0})>=this.distanceThreshold;if(!b&&!S)return;const{point:E}=w,{timestamp:A}=ft;this.history.push({...E,timestamp:A});const{onStart:k,onMove:C}=this.handlers;b||(k&&k(this.lastMoveEvent,w),this.startEvent=this.lastMoveEvent),C&&C(this.lastMoveEvent,w)},this.handlePointerMove=(w,b)=>{this.lastMoveEvent=w,this.lastMoveEventInfo=Iu(b,this.transformPagePoint),De.update(this.updatePoint,!0)},this.handlePointerUp=(w,b)=>{this.end();const{onEnd:S,onSessionEnd:E,resumeAnimation:A}=this.handlers;if(this.dragSnapToOrigin&&A&&A(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const k=Mu(w.type==="pointercancel"?this.lastMoveEventInfo:Iu(b,this.transformPagePoint),this.history);this.startEvent&&S&&S(w,k),E&&E(w,k)},!ud(e))return;this.dragSnapToOrigin=l,this.handlers=r,this.transformPagePoint=i,this.distanceThreshold=c,this.contextWindow=a||window;const f=Li(e),p=Iu(f,this.transformPagePoint),{point:g}=p,{timestamp:y}=ft;this.history=[{...g,timestamp:y}];const{onSessionStart:v}=r;v&&v(e,Mu(p,this.history)),this.removeListeners=Ii(xi(this.contextWindow,"pointermove",this.handlePointerMove),xi(this.contextWindow,"pointerup",this.handlePointerUp),xi(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Zn(this.updatePoint)}}function Iu(t,e){return e?{point:e(t.point)}:t}function wm(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Mu({point:t},e){return{point:t,delta:wm(t,Jy(e)),offset:wm(t,D2(e)),velocity:L2(e,.1)}}function D2(t){return t[0]}function Jy(t){return t[t.length-1]}function L2(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,i=null;const a=Jy(t);for(;r>=0&&(i=t[r],!(a.timestamp-i.timestamp>pn(e)));)r--;if(!i)return{x:0,y:0};const l=Kt(a.timestamp-i.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-i.x)/l,y:(a.y-i.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function $2(t,{min:e,max:r},i){return e!==void 0&&t<e?t=i?Ve(e,t,i.min):Math.max(t,e):r!==void 0&&t>r&&(t=i?Ve(r,t,i.max):Math.min(t,r)),t}function bm(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function U2(t,{top:e,left:r,bottom:i,right:a}){return{x:bm(t.x,r,a),y:bm(t.y,e,i)}}function _m(t,e){let r=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,i]=[i,r]),{min:r,max:i}}function V2(t,e){return{x:_m(t.x,e.x),y:_m(t.y,e.y)}}function F2(t,e){let r=.5;const i=_t(t),a=_t(e);return a>i?r=Si(e.min,e.max-i,t.min):i>a&&(r=Si(t.min,t.max-a,e.min)),jn(0,1,r)}function B2(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const yc=.35;function z2(t=yc){return t===!1?t=0:t===!0&&(t=yc),{x:Sm(t,"left","right"),y:Sm(t,"top","bottom")}}function Sm(t,e,r){return{min:km(t,e),max:km(t,r)}}function km(t,e){return typeof t=="number"?t:t[e]||0}const W2=new WeakMap;class H2{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=st(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:r=!1,distanceThreshold:i}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=v=>{const{dragSnapToOrigin:w}=this.getProps();w?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Li(v).point)},c=(v,w)=>{const{drag:b,dragPropagation:S,onDragStart:E}=this.getProps();if(b&&!S&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Qb(b),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=w,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ht(k=>{let C=this.getAxisMotionValue(k).get()||0;if(mn.test(C)){const{projection:N}=this.visualElement;if(N&&N.layout){const D=N.layout.layoutBox[k];D&&(C=_t(D)*(parseFloat(C)/100))}}this.originPoint[k]=C}),E&&De.postRender(()=>E(v,w)),mc(this.visualElement,"transform");const{animationState:A}=this.visualElement;A&&A.setActive("whileDrag",!0)},f=(v,w)=>{this.latestPointerEvent=v,this.latestPanInfo=w;const{dragPropagation:b,dragDirectionLock:S,onDirectionLock:E,onDrag:A}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:k}=w;if(S&&this.currentDirection===null){this.currentDirection=K2(k),this.currentDirection!==null&&E&&E(this.currentDirection);return}this.updateAxis("x",w.point,k),this.updateAxis("y",w.point,k),this.visualElement.render(),A&&A(v,w)},p=(v,w)=>{this.latestPointerEvent=v,this.latestPanInfo=w,this.stop(v,w),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>Ht(v=>this.getAnimationState(v)==="paused"&&this.getAxisMotionValue(v).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new qy(e,{onSessionStart:l,onStart:c,onMove:f,onSessionEnd:p,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:i,contextWindow:Gy(this.visualElement)})}stop(e,r){const i=e||this.latestPointerEvent,a=r||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!i)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:f}=this.getProps();f&&De.postRender(()=>f(i,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,i){const{drag:a}=this.getProps();if(!i||!Zo(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(c=$2(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){const{dragConstraints:e,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&hs(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=U2(i.layoutBox,e):this.constraints=!1,this.elastic=z2(r),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Ht(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=B2(i.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!hs(e))return!1;const i=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=G_(i,a.root,this.visualElement.getTransformPagePoint());let c=V2(a.layout.layoutBox,l);if(r){const f=r(W_(c));this.hasMutatedConstraints=!!f,f&&(c=Ry(f))}return c}startAnimation(e){const{drag:r,dragMomentum:i,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:f}=this.getProps(),p=this.constraints||{},g=Ht(y=>{if(!Zo(y,r,this.currentDirection))return;let v=p&&p[y]||{};c&&(v={min:0,max:0});const w=a?200:1e6,b=a?40:1e7,S={type:"inertia",velocity:i?e[y]:0,bounceStiffness:w,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...l,...v};return this.startAxisValueAnimation(y,S)});return Promise.all(g).then(f)}startAxisValueAnimation(e,r){const i=this.getAxisMotionValue(e);return mc(this.visualElement,e),i.start(xd(e,i,0,r,this.visualElement,!1))}stopAnimation(){Ht(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Ht(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),a=i[r];return a||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){Ht(r=>{const{drag:i}=this.getProps();if(!Zo(r,i,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(r);if(a&&a.layout){const{min:c,max:f}=a.layout.layoutBox[r];l.set(e[r]-Ve(c,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:i}=this.visualElement;if(!hs(r)||!i||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Ht(c=>{const f=this.getAxisMotionValue(c);if(f&&this.constraints!==!1){const p=f.get();a[c]=F2({min:p,max:p},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Ht(c=>{if(!Zo(c,e,null))return;const f=this.getAxisMotionValue(c),{min:p,max:g}=this.constraints[c];f.set(Ve(p,g,a[c]))})}addListeners(){if(!this.visualElement.current)return;W2.set(this.visualElement,this);const e=this.visualElement.current,r=xi(e,"pointerdown",p=>{const{drag:g,dragListener:y=!0}=this.getProps();g&&y&&this.start(p)}),i=()=>{const{dragConstraints:p}=this.getProps();hs(p)&&p.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",i);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),De.read(i);const c=Ti(window,"resize",()=>this.scalePositionWithinConstraints()),f=a.addEventListener("didUpdate",(({delta:p,hasLayoutChanged:g})=>{this.isDragging&&g&&(Ht(y=>{const v=this.getAxisMotionValue(y);v&&(this.originPoint[y]+=p[y].translate,v.set(v.get()+p[y].translate))}),this.visualElement.render())}));return()=>{c(),r(),l(),f&&f()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:i=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=yc,dragMomentum:f=!0}=e;return{...e,drag:r,dragDirectionLock:i,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:f}}}function Zo(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function K2(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class G2 extends tr{constructor(e){super(e),this.removeGroupControls=Gt,this.removeListeners=Gt,this.controls=new H2(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Gt}unmount(){this.removeGroupControls(),this.removeListeners()}}const jm=t=>(e,r)=>{t&&De.postRender(()=>t(e,r))};class q2 extends tr{constructor(){super(...arguments),this.removePointerDownListener=Gt}onPointerDown(e){this.session=new qy(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Gy(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:i,onPanEnd:a}=this.node.getProps();return{onSessionStart:jm(e),onStart:jm(r),onMove:i,onEnd:(l,c)=>{delete this.session,a&&De.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=xi(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const aa={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let Du=!1;class J2 extends M.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:i,layoutId:a}=this.props,{projection:l}=e;l&&(r.group&&r.group.add(l),i&&i.register&&a&&i.register(l),Du&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),aa.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:i,drag:a,isPresent:l}=this.props,{projection:c}=i;return c&&(c.isPresent=l,Du=!0,a||e.layoutDependency!==r||r===void 0||e.isPresent!==l?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||De.postRender(()=>{const f=c.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),ld.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:i}=this.props,{projection:a}=e;Du=!0,a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),i&&i.deregister&&i.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Qy(t){const[e,r]=vy(),i=M.useContext(Fc);return d.jsx(J2,{...t,layoutGroup:i,switchLayoutGroup:M.useContext(Py),isPresent:e,safeToRemove:r})}function Q2(t,e,r){const i=xt(t)?t:ws(t);return i.start(xd("",i,e,r)),i.animation}const Y2=(t,e)=>t.depth-e.depth;class X2{constructor(){this.children=[],this.isDirty=!1}add(e){Wc(this.children,e),this.isDirty=!0}remove(e){Hc(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Y2),this.isDirty=!1,this.children.forEach(e)}}function Z2(t,e){const r=Ct.now(),i=({timestamp:a})=>{const l=a-r;l>=e&&(Zn(i),t(l-e))};return De.setup(i,!0),()=>Zn(i)}const Yy=["TopLeft","TopRight","BottomLeft","BottomRight"],eS=Yy.length,Nm=t=>typeof t=="string"?parseFloat(t):t,Tm=t=>typeof t=="number"||ae.test(t);function tS(t,e,r,i,a,l){a?(t.opacity=Ve(0,r.opacity??1,nS(i)),t.opacityExit=Ve(e.opacity??1,0,rS(i))):l&&(t.opacity=Ve(e.opacity??1,r.opacity??1,i));for(let c=0;c<eS;c++){const f=`border${Yy[c]}Radius`;let p=Em(e,f),g=Em(r,f);if(p===void 0&&g===void 0)continue;p||(p=0),g||(g=0),p===0||g===0||Tm(p)===Tm(g)?(t[f]=Math.max(Ve(Nm(p),Nm(g),i),0),(mn.test(g)||mn.test(p))&&(t[f]+="%")):t[f]=g}(e.rotate||r.rotate)&&(t.rotate=Ve(e.rotate||0,r.rotate||0,i))}function Em(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const nS=Xy(0,.5,Lg),rS=Xy(.5,.95,Gt);function Xy(t,e,r){return i=>i<t?0:i>e?1:r(Si(t,e,i))}function Cm(t,e){t.min=e.min,t.max=e.max}function nn(t,e){Cm(t.x,e.x),Cm(t.y,e.y)}function Pm(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Am(t,e,r,i,a){return t-=e,t=ga(t,1/r,i),a!==void 0&&(t=ga(t,1/a,i)),t}function sS(t,e=0,r=1,i=.5,a,l=t,c=t){if(mn.test(e)&&(e=parseFloat(e),e=Ve(c.min,c.max,e/100)-c.min),typeof e!="number")return;let f=Ve(l.min,l.max,i);t===l&&(f-=e),t.min=Am(t.min,e,r,f,a),t.max=Am(t.max,e,r,f,a)}function Rm(t,e,[r,i,a],l,c){sS(t,e[r],e[i],e[a],e.scale,l,c)}const iS=["x","scaleX","originX"],oS=["y","scaleY","originY"];function Om(t,e,r,i){Rm(t.x,e,iS,r?r.x:void 0,i?i.x:void 0),Rm(t.y,e,oS,r?r.y:void 0,i?i.y:void 0)}function Im(t){return t.translate===0&&t.scale===1}function Zy(t){return Im(t.x)&&Im(t.y)}function Mm(t,e){return t.min===e.min&&t.max===e.max}function aS(t,e){return Mm(t.x,e.x)&&Mm(t.y,e.y)}function Dm(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function ev(t,e){return Dm(t.x,e.x)&&Dm(t.y,e.y)}function Lm(t){return _t(t.x)/_t(t.y)}function $m(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class lS{constructor(){this.members=[]}add(e){Wc(this.members,e),e.scheduleRender()}remove(e){if(Hc(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(a=>e===a);if(r===0)return!1;let i;for(let a=r;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){i=l;break}}return i?(this.promote(i),!0):!1}promote(e,r){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,r&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:i}=e;r.onExitComplete&&r.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function uS(t,e,r){let i="";const a=t.x.translate/e.x,l=t.y.translate/e.y,c=r?.z||0;if((a||l||c)&&(i=`translate3d(${a}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:g,rotate:y,rotateX:v,rotateY:w,skewX:b,skewY:S}=r;g&&(i=`perspective(${g}px) ${i}`),y&&(i+=`rotate(${y}deg) `),v&&(i+=`rotateX(${v}deg) `),w&&(i+=`rotateY(${w}deg) `),b&&(i+=`skewX(${b}deg) `),S&&(i+=`skewY(${S}deg) `)}const f=t.x.scale*e.x,p=t.y.scale*e.y;return(f!==1||p!==1)&&(i+=`scale(${f}, ${p})`),i||"none"}const Lu=["","X","Y","Z"],cS=1e3;let dS=0;function $u(t,e,r,i){const{latestValues:a}=e;a[t]&&(r[t]=a[t],e.setStaticValue(t,0),i&&(i[t]=0))}function tv(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const r=Vy(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",De,!(a||l))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&tv(i)}function nv({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:i,resetTransform:a}){return class{constructor(c={},f=e?.()){this.id=dS++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(pS),this.nodes.forEach(vS),this.nodes.forEach(xS),this.nodes.forEach(mS)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new X2)}addEventListener(c,f){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new qc),this.eventHandlers.get(c).add(f)}notifyListeners(c,...f){const p=this.eventHandlers.get(c);p&&p.notify(...f)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=yy(c)&&!n_(c),this.instance=c;const{layoutId:f,layout:p,visualElement:g}=this.options;if(g&&!g.current&&g.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(p||f)&&(this.isLayoutDirty=!0),t){let y,v=0;const w=()=>this.root.updateBlockedByResize=!1;De.read(()=>{v=window.innerWidth}),t(c,()=>{const b=window.innerWidth;b!==v&&(v=b,this.root.updateBlockedByResize=!0,y&&y(),y=Z2(w,250),aa.hasAnimatedSinceResize&&(aa.hasAnimatedSinceResize=!1,this.nodes.forEach(Fm)))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&g&&(f||p)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:v,hasRelativeLayoutChanged:w,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||g.getDefaultTransition()||kS,{onLayoutAnimationStart:E,onLayoutAnimationComplete:A}=g.getProps(),k=!this.targetLayout||!ev(this.targetLayout,b),C=!v&&w;if(this.options.layoutRoot||this.resumeFrom||C||v&&(k||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const N={...od(S,"layout"),onPlay:E,onComplete:A};(g.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N),this.setAnimationOrigin(y,C)}else v||Fm(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Zn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(wS),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&tv(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const v=this.path[y];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:f,layout:p}=this.options;if(f===void 0&&!p)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Um);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Vm);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(yS),this.nodes.forEach(hS),this.nodes.forEach(fS)):this.nodes.forEach(Vm),this.clearAllSnapshots();const f=Ct.now();ft.delta=jn(0,1e3/60,f-ft.timestamp),ft.timestamp=f,ft.isProcessing=!0,Nu.update.process(ft),Nu.preRender.process(ft),Nu.render.process(ft),ft.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,ld.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(gS),this.sharedNodes.forEach(bS)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,De.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){De.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!_t(this.snapshot.measuredBox.x)&&!_t(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=st(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(f=!1),f&&this.instance){const p=i(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:p,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!Zy(this.projectionDelta),p=this.getTransformTemplate(),g=p?p(this.latestValues,""):void 0,y=g!==this.prevTransformTemplateValue;c&&this.instance&&(f||wr(this.latestValues)||y)&&(a(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const f=this.measurePageBox();let p=this.removeElementScroll(f);return c&&(p=this.removeTransform(p)),jS(p),{animationId:this.root.animationId,measuredBox:f,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return st();const f=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(NS))){const{scroll:g}=this.root;g&&(fs(f.x,g.offset.x),fs(f.y,g.offset.y))}return f}removeElementScroll(c){const f=st();if(nn(f,c),this.scroll?.wasRoot)return f;for(let p=0;p<this.path.length;p++){const g=this.path[p],{scroll:y,options:v}=g;g!==this.root&&y&&v.layoutScroll&&(y.wasRoot&&nn(f,c),fs(f.x,y.offset.x),fs(f.y,y.offset.y))}return f}applyTransform(c,f=!1){const p=st();nn(p,c);for(let g=0;g<this.path.length;g++){const y=this.path[g];!f&&y.options.layoutScroll&&y.scroll&&y!==y.root&&ps(p,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),wr(y.latestValues)&&ps(p,y.latestValues)}return wr(this.latestValues)&&ps(p,this.latestValues),p}removeTransform(c){const f=st();nn(f,c);for(let p=0;p<this.path.length;p++){const g=this.path[p];if(!g.instance||!wr(g.latestValues))continue;dc(g.latestValues)&&g.updateSnapshot();const y=st(),v=g.measurePageBox();nn(y,v),Om(f,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,y)}return wr(this.latestValues)&&Om(f,this.latestValues),f}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ft.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==f;if(!(c||p&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:v}=this.options;if(!this.layout||!(y||v))return;this.resolvedRelativeTargetAt=ft.timestamp;const w=this.getClosestProjectingParent();w&&this.linkedParentVersion!==w.layoutVersion&&!w.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(w&&w.layout?this.createRelativeTarget(w,this.layout.layoutBox,w.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=st(),this.targetWithTransforms=st()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),I2(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):nn(this.target,this.layout.layoutBox),Iy(this.target,this.targetDelta)):nn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?this.createRelativeTarget(w,this.target,w.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||dc(this.parent.latestValues)||Oy(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,f,p){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=st(),this.relativeTargetOrigin=st(),ya(this.relativeTargetOrigin,f,p),nn(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const c=this.getLead(),f=!!this.resumingFrom||this!==c;let p=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(p=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===ft.timestamp&&(p=!1),p)return;const{layout:g,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||y))return;nn(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,w=this.treeScale.y;K_(this.layoutCorrected,this.treeScale,this.path,f),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=st());const{target:b}=c;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Pm(this.prevProjectionDelta.x,this.projectionDelta.x),Pm(this.prevProjectionDelta.y,this.projectionDelta.y)),wi(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==w||!$m(this.projectionDelta.x,this.prevProjectionDelta.x)||!$m(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ms(),this.projectionDelta=ms(),this.projectionDeltaWithTransform=ms()}setAnimationOrigin(c,f=!1){const p=this.snapshot,g=p?p.latestValues:{},y={...this.latestValues},v=ms();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const w=st(),b=p?p.source:void 0,S=this.layout?this.layout.source:void 0,E=b!==S,A=this.getStack(),k=!A||A.members.length<=1,C=!!(E&&!k&&this.options.crossfade===!0&&!this.path.some(SS));this.animationProgress=0;let N;this.mixTargetDelta=D=>{const L=D/1e3;Bm(v.x,c.x,L),Bm(v.y,c.y,L),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ya(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),_S(this.relativeTarget,this.relativeTargetOrigin,w,L),N&&aS(this.relativeTarget,N)&&(this.isProjectionDirty=!1),N||(N=st()),nn(N,this.relativeTarget)),E&&(this.animationValues=y,tS(y,g,this.latestValues,L,C,k)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=L},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Zn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=De.update(()=>{aa.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ws(0)),this.currentAnimation=Q2(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),c.onUpdate&&c.onUpdate(f)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(cS),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:f,target:p,layout:g,latestValues:y}=c;if(!(!f||!p||!g)){if(this!==c&&this.layout&&g&&rv(this.options.animationType,this.layout.layoutBox,g.layoutBox)){p=this.target||st();const v=_t(this.layout.layoutBox.x);p.x.min=c.target.x.min,p.x.max=p.x.min+v;const w=_t(this.layout.layoutBox.y);p.y.min=c.target.y.min,p.y.max=p.y.min+w}nn(f,p),ps(f,y),wi(this.projectionDeltaWithTransform,this.layoutCorrected,f,y)}}registerSharedNode(c,f){this.sharedNodes.has(c)||this.sharedNodes.set(c,new lS),this.sharedNodes.get(c).add(f);const g=f.options.initialPromotionConfig;f.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(f):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:f,preserveFollowOpacity:p}={}){const g=this.getStack();g&&g.promote(this,p),c&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let f=!1;const{latestValues:p}=c;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(f=!0),!f)return;const g={};p.z&&$u("z",c,g,this.animationValues);for(let y=0;y<Lu.length;y++)$u(`rotate${Lu[y]}`,c,g,this.animationValues),$u(`skew${Lu[y]}`,c,g,this.animationValues);c.render();for(const y in g)c.setStaticValue(y,g[y]),this.animationValues&&(this.animationValues[y]=g[y]);c.scheduleRender()}applyProjectionStyles(c,f){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const p=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=oa(f?.pointerEvents)||"",c.transform=p?p(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=oa(f?.pointerEvents)||""),this.hasProjected&&!wr(this.latestValues)&&(c.transform=p?p({},""):"none",this.hasProjected=!1);return}c.visibility="";const y=g.animationValues||g.latestValues;this.applyTransformsToTarget();let v=uS(this.projectionDeltaWithTransform,this.treeScale,y);p&&(v=p(y,v)),c.transform=v;const{x:w,y:b}=this.projectionDelta;c.transformOrigin=`${w.origin*100}% ${b.origin*100}% 0`,g.animationValues?c.opacity=g===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:c.opacity=g===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const S in cc){if(y[S]===void 0)continue;const{correct:E,applyTo:A,isCSSVariable:k}=cc[S],C=v==="none"?y[S]:E(y[S],g);if(A){const N=A.length;for(let D=0;D<N;D++)c[A[D]]=C}else k?this.options.visualElement.renderState.vars[S]=C:c[S]=C}this.options.layoutId&&(c.pointerEvents=g===this?oa(f?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(Um),this.root.sharedNodes.clear()}}}function hS(t){t.updateLayout()}function fS(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?Ht(y=>{const v=l?e.measuredBox[y]:e.layoutBox[y],w=_t(v);v.min=r[y].min,v.max=v.min+w}):rv(a,e.layoutBox,r)&&Ht(y=>{const v=l?e.measuredBox[y]:e.layoutBox[y],w=_t(r[y]);v.max=v.min+w,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+w)});const c=ms();wi(c,r,e.layoutBox);const f=ms();l?wi(f,t.applyTransform(i,!0),e.measuredBox):wi(f,r,e.layoutBox);const p=!Zy(c);let g=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:v,layout:w}=y;if(v&&w){const b=st();ya(b,e.layoutBox,v.layoutBox);const S=st();ya(S,r,w.layoutBox),ev(b,S)||(g=!0),y.options.layoutRoot&&(t.relativeTarget=S,t.relativeTargetOrigin=b,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:f,layoutDelta:c,hasLayoutChanged:p,hasRelativeLayoutChanged:g})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function pS(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function mS(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function gS(t){t.clearSnapshot()}function Um(t){t.clearMeasurements()}function Vm(t){t.isLayoutDirty=!1}function yS(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Fm(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function vS(t){t.resolveTargetDelta()}function xS(t){t.calcProjection()}function wS(t){t.resetSkewAndRotation()}function bS(t){t.removeLeadSnapshot()}function Bm(t,e,r){t.translate=Ve(e.translate,0,r),t.scale=Ve(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function zm(t,e,r,i){t.min=Ve(e.min,r.min,i),t.max=Ve(e.max,r.max,i)}function _S(t,e,r,i){zm(t.x,e.x,r.x,i),zm(t.y,e.y,r.y,i)}function SS(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const kS={duration:.45,ease:[.4,0,.1,1]},Wm=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Hm=Wm("applewebkit/")&&!Wm("chrome/")?Math.round:Gt;function Km(t){t.min=Hm(t.min),t.max=Hm(t.max)}function jS(t){Km(t.x),Km(t.y)}function rv(t,e,r){return t==="position"||t==="preserve-aspect"&&!O2(Lm(e),Lm(r),.2)}function NS(t){return t!==t.root&&t.scroll?.wasRoot}const TS=nv({attachResizeListener:(t,e)=>Ti(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Uu={current:void 0},sv=nv({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Uu.current){const t=new TS({});t.mount(window),t.setOptions({layoutScroll:!0}),Uu.current=t}return Uu.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),ES={pan:{Feature:q2},drag:{Feature:G2,ProjectionNode:sv,MeasureLayout:Qy}};function Gm(t,e,r){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",r==="Start");const a="onHover"+r,l=i[a];l&&De.postRender(()=>l(e,Li(e)))}class CS extends tr{mount(){const{current:e}=this.node;e&&(this.unmount=Yb(e,(r,i)=>(Gm(this.node,i,"Start"),a=>Gm(this.node,a,"End"))))}unmount(){}}class PS extends tr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ii(Ti(this.node.current,"focus",()=>this.onFocus()),Ti(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function qm(t,e,r){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",r==="Start");const a="onTap"+(r==="End"?"":r),l=i[a];l&&De.postRender(()=>l(e,Li(e)))}class AS extends tr{mount(){const{current:e}=this.node;e&&(this.unmount=t_(e,(r,i)=>(qm(this.node,i,"Start"),(a,{success:l})=>qm(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const vc=new WeakMap,Vu=new WeakMap,RS=t=>{const e=vc.get(t.target);e&&e(t)},OS=t=>{t.forEach(RS)};function IS({root:t,...e}){const r=t||document;Vu.has(r)||Vu.set(r,{});const i=Vu.get(r),a=JSON.stringify(e);return i[a]||(i[a]=new IntersectionObserver(OS,{root:t,...e})),i[a]}function MS(t,e,r){const i=IS(e);return vc.set(t,r),i.observe(t),()=>{vc.delete(t),i.unobserve(t)}}const DS={some:0,all:1};class LS extends tr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:i,amount:a="some",once:l}=e,c={root:r?r.current:void 0,rootMargin:i,threshold:typeof a=="number"?a:DS[a]},f=p=>{const{isIntersecting:g}=p;if(this.isInView===g||(this.isInView=g,l&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:y,onViewportLeave:v}=this.node.getProps(),w=g?y:v;w&&w(p)};return MS(this.node.current,c,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some($S(e,r))&&this.startObserver()}unmount(){}}function $S({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const US={inView:{Feature:LS},tap:{Feature:AS},focus:{Feature:PS},hover:{Feature:CS}},VS={layout:{ProjectionNode:sv,MeasureLayout:Qy}},FS={...T2,...US,...ES,...VS},yr=z_(FS,n2);function iv({onClose:t,epilogueText:e,epilogueMusicUrl:r}){const[i,a]=M.useState(0),[l,c]=M.useState(!1),f=M.useRef(null),y=(e||`EPILOGUE: SOULBOUND

There are meetings that feel like accident,
and there are the ones that carry the quiet weight of orchestration.

Two paths, far-flung across years and cities,
somehow converging at the exact hinge of time
where both hearts are finally able to recognize each other.

Not by chance.
Not by alignment of personality or preference,
but by the slow architecture of God 
a timing written before either of you could name longing.

Across the wide cosmos of possibility,
through all the iterations of who you might have become,
you still arrived here, simultaneously, with enough softness and enough courage
to walk in step.

The quests were never the goal,
only the scaffolding that allowed you to witness each other: unhurried, unperformed, alive.

What began as play became pilgrimage, not because of intensity or declaration, but because something holy took root without needing spotlight or spectacle.

All achievements now complete, all maps inked to their edges and yet the horizon has only just opened.

You stand at the edge of an uncharted expanse, not bound by expectation, but invited:

further into story, further into wonder, further into the divine logic that stitched two timelines together with no rush and no error.

Soulbound is not finality.
It is the doorway.

Across universes,
across what-ifs and almosts,
across the infinite permutations of living

you still would have found each other.
For such a time as this.

So close the log, not because adventure has ended, but because the world has widened.

A lifetime of quests remains
holy, ordinary, luminous.

The page turns.

A new map waits.

SOULBOUND,
and now
released to explore.`).split(`

`).filter(b=>b.trim()),v=()=>{i<y.length-1?a(i+1):i===y.length-1&&a(y.length)},w=()=>{c(!l),f.current&&(f.current.muted=!l)};return M.useEffect(()=>{f.current&&(f.current.muted=l)},[l]),d.jsxs("div",{className:"fixed inset-0 z-[100] bg-gradient-to-b from-[#0a0a1a] via-[#1a1a2e] to-[#0f0f1e] flex flex-col items-center justify-center overflow-hidden p-4",onClick:v,children:[d.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[...Array(100)].map((b,S)=>d.jsx(yr.div,{className:"absolute w-1 h-1 bg-white rounded-full",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`},animate:{opacity:[0,1,0],scale:[0,1.5,0]},transition:{duration:3+Math.random()*3,repeat:1/0,delay:Math.random()*5}},S))}),d.jsx(yr.button,{initial:{opacity:0},animate:{opacity:1},onClick:b=>{b.stopPropagation(),t()},className:"absolute top-4 right-4 sm:top-8 sm:right-8 p-2 rounded-full bg-white/10 hover:bg-white/20 transition-colors backdrop-blur-sm border border-white/20 z-50",children:d.jsx(_s,{className:"w-5 h-5 text-white/80"})}),i<y.length-1&&d.jsx(yr.div,{initial:{opacity:0},animate:{opacity:[.3,.6,.3]},transition:{duration:2,repeat:1/0},className:"absolute bottom-4 sm:bottom-8 left-0 right-0 text-center text-white/50 text-xs sm:text-sm pointer-events-none",children:"Tap to continue"}),i===y.length-1&&d.jsx(yr.div,{initial:{opacity:0},animate:{opacity:[.3,.6,.3]},transition:{duration:2,repeat:1/0},className:"absolute bottom-4 sm:bottom-8 left-0 right-0 text-center text-white/50 text-xs sm:text-sm pointer-events-none",children:"Tap to finish"}),d.jsx("div",{className:"relative z-10 w-full max-w-2xl px-4 sm:px-8 h-full flex items-center justify-center overflow-y-auto",children:d.jsx("div",{className:"py-16 sm:py-20",children:d.jsxs(d_,{mode:"wait",children:[y.map((b,S)=>i===S&&d.jsx(yr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:1},className:"text-center",children:b.includes("EPILOGUE")||b.includes("SOULBOUND")?d.jsx("h2",{className:"text-[#f5a623] text-xl sm:text-2xl tracking-widest mb-4 whitespace-pre-wrap",style:{fontFamily:"serif"},children:b}):d.jsx("p",{className:"text-[#e8e8e8] text-sm sm:text-base leading-relaxed whitespace-pre-wrap",children:b})},S)),i===y.length&&d.jsxs(yr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:1},className:"text-center space-y-8",children:[d.jsx(yr.div,{animate:{scale:[1,1.05,1]},transition:{duration:2,repeat:1/0},children:d.jsx("h2",{className:"text-[#f5a623] text-2xl sm:text-3xl tracking-widest mb-4",style:{fontFamily:"serif"},children:"THE END"})}),d.jsx("div",{className:"w-24 sm:w-32 h-px bg-gradient-to-r from-transparent via-[#f5a623] to-transparent mx-auto"}),d.jsx("p",{className:"text-[#e8e8e8]/70 text-xs sm:text-sm",children:"Click the X to return"})]},"completion")]})})}),r&&d.jsxs("div",{className:"absolute bottom-4 left-4 sm:bottom-8 sm:left-8 p-2 rounded-full bg-white/10 hover:bg-white/20 transition-colors backdrop-blur-sm border border-white/20 z-50",children:[d.jsx("iframe",{ref:f,src:r,width:"0",height:"0",style:{display:"none"},allow:"autoplay"}),d.jsx("button",{onClick:w,className:"p-2 rounded-full bg-white/10 hover:bg-white/20 transition-colors backdrop-blur-sm border border-white/20 z-50",children:l?d.jsx(Kw,{className:"w-5 h-5 text-white/80"}):d.jsx(Ww,{className:"w-5 h-5 text-white/80"})})]})]})}const ov="hrxdgxnzvijpebpfnlza",wd="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhyeGRneG56dmlqcGVicGZubHphIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjY5MDI3ODQsImV4cCI6MjA4MjQ3ODc4NH0.4jXSs4QZYGjKCTyTS7PydAxLm9NRV7zjfMLsfnp5NbY";function Na(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(t);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(t,i[a])&&(r[i[a]]=t[i[a]]);return r}function BS(t,e,r,i){function a(l){return l instanceof r?l:new r(function(c){c(l)})}return new(r||(r=Promise))(function(l,c){function f(y){try{g(i.next(y))}catch(v){c(v)}}function p(y){try{g(i.throw(y))}catch(v){c(v)}}function g(y){y.done?l(y.value):a(y.value).then(f,p)}g((i=i.apply(t,e||[])).next())})}const zS=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class bd extends Error{constructor(e,r="FunctionsError",i){super(e),this.name=r,this.context=i}}class WS extends bd{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Jm extends bd{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Qm extends bd{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var xc;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(xc||(xc={}));class HS{constructor(e,{headers:r={},customFetch:i,region:a=xc.Any}={}){this.url=e,this.headers=r,this.region=a,this.fetch=zS(i)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return BS(this,arguments,void 0,function*(r,i={}){var a;let l,c;try{const{headers:f,method:p,body:g,signal:y,timeout:v}=i;let w={},{region:b}=i;b||(b=this.region);const S=new URL(`${this.url}/${r}`);b&&b!=="any"&&(w["x-region"]=b,S.searchParams.set("forceFunctionRegion",b));let E;g&&(f&&!Object.prototype.hasOwnProperty.call(f,"Content-Type")||!f)?typeof Blob<"u"&&g instanceof Blob||g instanceof ArrayBuffer?(w["Content-Type"]="application/octet-stream",E=g):typeof g=="string"?(w["Content-Type"]="text/plain",E=g):typeof FormData<"u"&&g instanceof FormData?E=g:(w["Content-Type"]="application/json",E=JSON.stringify(g)):E=g;let A=y;v&&(c=new AbortController,l=setTimeout(()=>c.abort(),v),y?(A=c.signal,y.addEventListener("abort",()=>c.abort())):A=c.signal);const k=yield this.fetch(S.toString(),{method:p||"POST",headers:Object.assign(Object.assign(Object.assign({},w),this.headers),f),body:E,signal:A}).catch(L=>{throw new WS(L)}),C=k.headers.get("x-relay-error");if(C&&C==="true")throw new Jm(k);if(!k.ok)throw new Qm(k);let N=((a=k.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),D;return N==="application/json"?D=yield k.json():N==="application/octet-stream"||N==="application/pdf"?D=yield k.blob():N==="text/event-stream"?D=k:N==="multipart/form-data"?D=yield k.formData():D=yield k.text(),{data:D,error:null,response:k}}catch(f){return{data:null,error:f,response:f instanceof Qm||f instanceof Jm?f.context:void 0}}finally{l&&clearTimeout(l)}})}}var KS=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},GS=class{constructor(t){var e,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const i=this.fetch;let a=i(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{let c=null,f=null,p=null,g=l.status,y=l.statusText;if(l.ok){var v,w;if(r.method!=="HEAD"){var b;const k=await l.text();k===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((b=r.headers.get("Accept"))===null||b===void 0)&&b.includes("application/vnd.pgrst.plan+text"))?f=k:f=JSON.parse(k))}const E=(v=r.headers.get("Prefer"))===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),A=(w=l.headers.get("content-range"))===null||w===void 0?void 0:w.split("/");E&&A&&A.length>1&&(p=parseInt(A[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(f)&&(f.length>1?(c={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,p=null,g=406,y="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{var S;const E=await l.text();try{c=JSON.parse(E),Array.isArray(c)&&l.status===404&&(f=[],c=null,g=200,y="OK")}catch{l.status===404&&E===""?(g=204,y="No Content"):c={message:E}}if(c&&r.isMaybeSingle&&(!(c==null||(S=c.details)===null||S===void 0)&&S.includes("0 rows"))&&(c=null,g=200,y="OK"),c&&r.shouldThrowOnError)throw new KS(c)}return{error:c,data:f,count:p,status:g,statusText:y}});return this.shouldThrowOnError||(a=a.catch(l=>{var c;let f="";const p=l?.cause;if(p){var g,y,v,w;const S=(g=p?.message)!==null&&g!==void 0?g:"",E=(y=p?.code)!==null&&y!==void 0?y:"";f=`${(v=l?.name)!==null&&v!==void 0?v:"FetchError"}: ${l?.message}`,f+=`

Caused by: ${(w=p?.name)!==null&&w!==void 0?w:"Error"}: ${S}`,E&&(f+=` (${E})`),p?.stack&&(f+=`
${p.stack}`)}else{var b;f=(b=l?.stack)!==null&&b!==void 0?b:""}return{error:{message:`${(c=l?.name)!==null&&c!==void 0?c:"FetchError"}: ${l?.message}`,details:f,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),a.then(t,e)}returns(){return this}overrideTypes(){return this}},qS=class extends GS{select(t){let e=!1;const r=(t??"*").split("").map(i=>/\s/.test(i)&&!e?"":(i==='"'&&(e=!e),i)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:r,foreignTable:i,referencedTable:a=i}={}){const l=a?`${a}.order`:"order",c=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${c?`${c},`:""}${t}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:r=e}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,e,{foreignTable:r,referencedTable:i=r}={}){const a=typeof i>"u"?"offset":`${i}.offset`,l=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(l,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:r=!1,buffers:i=!1,wal:a=!1,format:l="text"}={}){var c;const f=[t?"analyze":null,e?"verbose":null,r?"settings":null,i?"buffers":null,a?"wal":null].filter(Boolean).join("|"),p=(c=this.headers.get("Accept"))!==null&&c!==void 0?c:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${l}; for="${p}"; options=${f};`),l==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const Ym=new RegExp("[,()]");var ls=class extends qS{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const r=Array.from(new Set(e)).map(i=>typeof i=="string"&&Ym.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}notIn(t,e){const r=Array.from(new Set(e)).map(i=>typeof i=="string"&&Ym.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`not.in.(${r})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:r,type:i}={}){let a="";i==="plain"?a="pl":i==="phrase"?a="ph":i==="websearch"&&(a="w");const l=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${a}fts${l}.${e}`),this}match(t){return Object.entries(t).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(t,e,r){return this.url.searchParams.append(t,`not.${e}.${r}`),this}or(t,{foreignTable:e,referencedTable:r=e}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,e,r){return this.url.searchParams.append(t,`${e}.${r}`),this}},JS=class{constructor(t,{headers:e={},schema:r,fetch:i}){this.url=t,this.headers=new Headers(e),this.schema=r,this.fetch=i}select(t,e){const{head:r=!1,count:i}=e??{},a=r?"HEAD":"GET";let l=!1;const c=(t??"*").split("").map(f=>/\s/.test(f)&&!l?"":(f==='"'&&(l=!l),f)).join("");return this.url.searchParams.set("select",c),i&&this.headers.append("Prefer",`count=${i}`),new ls({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:r=!0}={}){var i;const a="POST";if(e&&this.headers.append("Prefer",`count=${e}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const l=t.reduce((c,f)=>c.concat(Object.keys(f)),[]);if(l.length>0){const c=[...new Set(l)].map(f=>`"${f}"`);this.url.searchParams.set("columns",c.join(","))}}return new ls({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:r=!1,count:i,defaultToNull:a=!0}={}){var l;const c="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),e!==void 0&&this.url.searchParams.set("on_conflict",e),i&&this.headers.append("Prefer",`count=${i}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const f=t.reduce((p,g)=>p.concat(Object.keys(g)),[]);if(f.length>0){const p=[...new Set(f)].map(g=>`"${g}"`);this.url.searchParams.set("columns",p.join(","))}}return new ls({method:c,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}update(t,{count:e}={}){var r;const i="PATCH";return e&&this.headers.append("Prefer",`count=${e}`),new ls({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var e;const r="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new ls({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},QS=class av{constructor(e,{headers:r={},schema:i,fetch:a}={}){this.url=e,this.headers=new Headers(r),this.schemaName=i,this.fetch=a}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new JS(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new av(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:i=!1,get:a=!1,count:l}={}){var c;let f;const p=new URL(`${this.url}/rpc/${e}`);let g;i||a?(f=i?"HEAD":"GET",Object.entries(r).filter(([v,w])=>w!==void 0).map(([v,w])=>[v,Array.isArray(w)?`{${w.join(",")}}`:`${w}`]).forEach(([v,w])=>{p.searchParams.append(v,w)})):(f="POST",g=r);const y=new Headers(this.headers);return l&&y.set("Prefer",`count=${l}`),new ls({method:f,url:p,headers:y,schema:this.schemaName,body:g,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}};class YS{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const i=r.node,a=parseInt(i.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const i=this.getWebSocketConstructor();return new i(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const XS="2.89.0",ZS=`realtime-js/${XS}`,lv="1.0.0",ek="2.0.0",Xm=lv,wc=1e4,tk=1e3,nk=100;var qn;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(qn||(qn={}));var rt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(rt||(rt={}));var an;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(an||(an={}));var bc;(function(t){t.websocket="websocket"})(bc||(bc={}));var _r;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(_r||(_r={}));class rk{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let i=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(i))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,i;const a=(i=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&i!==void 0?i:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(e){var r,i;const a=(i=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&i!==void 0?i:{},c=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,c)}_encodeUserBroadcastPush(e,r,i){var a,l;const c=e.topic,f=(a=e.ref)!==null&&a!==void 0?a:"",p=(l=e.join_ref)!==null&&l!==void 0?l:"",g=e.payload.event,y=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},v=Object.keys(y).length===0?"":JSON.stringify(y);if(p.length>255)throw new Error(`joinRef length ${p.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`ref length ${f.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`topic length ${c.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`userEvent length ${g.length} exceeds maximum of 255`);if(v.length>255)throw new Error(`metadata length ${v.length} exceeds maximum of 255`);const w=this.USER_BROADCAST_PUSH_META_LENGTH+p.length+f.length+c.length+g.length+v.length,b=new ArrayBuffer(this.HEADER_LENGTH+w);let S=new DataView(b),E=0;S.setUint8(E++,this.KINDS.userBroadcastPush),S.setUint8(E++,p.length),S.setUint8(E++,f.length),S.setUint8(E++,c.length),S.setUint8(E++,g.length),S.setUint8(E++,v.length),S.setUint8(E++,r),Array.from(p,k=>S.setUint8(E++,k.charCodeAt(0))),Array.from(f,k=>S.setUint8(E++,k.charCodeAt(0))),Array.from(c,k=>S.setUint8(E++,k.charCodeAt(0))),Array.from(g,k=>S.setUint8(E++,k.charCodeAt(0))),Array.from(v,k=>S.setUint8(E++,k.charCodeAt(0)));var A=new Uint8Array(b.byteLength+i.byteLength);return A.set(new Uint8Array(b),0),A.set(new Uint8Array(i),b.byteLength),A.buffer}decode(e,r){if(this._isArrayBuffer(e)){let i=this._binaryDecode(e);return r(i)}if(typeof e=="string"){const i=JSON.parse(e),[a,l,c,f,p]=i;return r({join_ref:a,ref:l,topic:c,event:f,payload:p})}return r({})}_binaryDecode(e){const r=new DataView(e),i=r.getUint8(0),a=new TextDecoder;switch(i){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,a)}}_decodeUserBroadcast(e,r,i){const a=r.getUint8(1),l=r.getUint8(2),c=r.getUint8(3),f=r.getUint8(4);let p=this.HEADER_LENGTH+4;const g=i.decode(e.slice(p,p+a));p=p+a;const y=i.decode(e.slice(p,p+l));p=p+l;const v=i.decode(e.slice(p,p+c));p=p+c;const w=e.slice(p,e.byteLength),b=f===this.JSON_ENCODING?JSON.parse(i.decode(w)):w,S={type:this.BROADCAST_EVENT,event:y,payload:b};return c>0&&(S.meta=JSON.parse(v)),{join_ref:null,ref:null,topic:g,event:this.BROADCAST_EVENT,payload:S}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([i])=>r.includes(i)))}}class uv{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Pe;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Pe||(Pe={}));const Zm=(t,e,r={})=>{var i;const a=(i=r.skipTypes)!==null&&i!==void 0?i:[];return e?Object.keys(e).reduce((l,c)=>(l[c]=sk(c,t,e,a),l),{}):{}},sk=(t,e,r,i)=>{const a=e.find(f=>f.name===t),l=a?.type,c=r[t];return l&&!i.includes(l)?cv(l,c):_c(c)},cv=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return lk(e,r)}switch(t){case Pe.bool:return ik(e);case Pe.float4:case Pe.float8:case Pe.int2:case Pe.int4:case Pe.int8:case Pe.numeric:case Pe.oid:return ok(e);case Pe.json:case Pe.jsonb:return ak(e);case Pe.timestamp:return uk(e);case Pe.abstime:case Pe.date:case Pe.daterange:case Pe.int4range:case Pe.int8range:case Pe.money:case Pe.reltime:case Pe.text:case Pe.time:case Pe.timestamptz:case Pe.timetz:case Pe.tsrange:case Pe.tstzrange:return _c(e);default:return _c(e)}},_c=t=>t,ik=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},ok=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},ak=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},lk=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,i=t[r];if(t[0]==="{"&&i==="}"){let l;const c=t.slice(1,r);try{l=JSON.parse("["+c+"]")}catch{l=c?c.split(","):[]}return l.map(f=>cv(e,f))}return t},uk=t=>typeof t=="string"?t.replace(" ","T"):t,dv=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Fu{constructor(e,r,i={},a=wc){this.channel=e,this.event=r,this.payload=i,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var i;return this._hasReceived(e)&&r((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(i=>i.status===e).forEach(i=>i.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var eg;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(eg||(eg={}));class bi{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},a=>{const{onJoin:l,onLeave:c,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=bi.syncState(this.state,a,l,c),this.pendingDiffs.forEach(p=>{this.state=bi.syncDiff(this.state,p,l,c)}),this.pendingDiffs=[],f()}),this.channel._on(i.diff,{},a=>{const{onJoin:l,onLeave:c,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=bi.syncDiff(this.state,a,l,c),f())}),this.onJoin((a,l,c)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:l,newPresences:c})}),this.onLeave((a,l,c)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:l,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,i,a){const l=this.cloneDeep(e),c=this.transformState(r),f={},p={};return this.map(l,(g,y)=>{c[g]||(p[g]=y)}),this.map(c,(g,y)=>{const v=l[g];if(v){const w=y.map(A=>A.presence_ref),b=v.map(A=>A.presence_ref),S=y.filter(A=>b.indexOf(A.presence_ref)<0),E=v.filter(A=>w.indexOf(A.presence_ref)<0);S.length>0&&(f[g]=S),E.length>0&&(p[g]=E)}else f[g]=y}),this.syncDiff(l,{joins:f,leaves:p},i,a)}static syncDiff(e,r,i,a){const{joins:l,leaves:c}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return i||(i=()=>{}),a||(a=()=>{}),this.map(l,(f,p)=>{var g;const y=(g=e[f])!==null&&g!==void 0?g:[];if(e[f]=this.cloneDeep(p),y.length>0){const v=e[f].map(b=>b.presence_ref),w=y.filter(b=>v.indexOf(b.presence_ref)<0);e[f].unshift(...w)}i(f,y,p)}),this.map(c,(f,p)=>{let g=e[f];if(!g)return;const y=p.map(v=>v.presence_ref);g=g.filter(v=>y.indexOf(v.presence_ref)<0),e[f]=g,a(f,g,p),g.length===0&&delete e[f]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(i=>r(i,e[i]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,i)=>{const a=e[i];return"metas"in a?r[i]=a.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):r[i]=a,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var tg;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(tg||(tg={}));var _i;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(_i||(_i={}));var kn;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(kn||(kn={}));class gs{constructor(e,r={config:{}},i){var a,l;if(this.topic=e,this.params=r,this.socket=i,this.bindings={},this.state=rt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Fu(this,an.join,this.params,this.timeout),this.rejoinTimer=new uv(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=rt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=rt.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=rt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=rt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=rt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(an.reply,{},(c,f)=>{this._trigger(this._replyEventName(f),c)}),this.presence=new bi(this),this.broadcastEndpointURL=dv(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var i,a,l;if(this.socket.isConnected()||this.socket.connect(),this.state==rt.closed){const{config:{broadcast:c,presence:f,private:p}}=this.params,g=(a=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(b=>b.filter))!==null&&a!==void 0?a:[],y=!!this.bindings[_i.PRESENCE]&&this.bindings[_i.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,v={},w={broadcast:c,presence:Object.assign(Object.assign({},f),{enabled:y}),postgres_changes:g,private:p};this.socket.accessTokenValue&&(v.access_token=this.socket.accessTokenValue),this._onError(b=>e?.(kn.CHANNEL_ERROR,b)),this._onClose(()=>e?.(kn.CLOSED)),this.updateJoinPayload(Object.assign({config:w},v)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:b})=>{var S;if(this.socket._isManualToken()||this.socket.setAuth(),b===void 0){e?.(kn.SUBSCRIBED);return}else{const E=this.bindings.postgres_changes,A=(S=E?.length)!==null&&S!==void 0?S:0,k=[];for(let C=0;C<A;C++){const N=E[C],{filter:{event:D,schema:L,table:B,filter:K}}=N,H=b&&b[C];if(H&&H.event===D&&gs.isFilterValueEqual(H.schema,L)&&gs.isFilterValueEqual(H.table,B)&&gs.isFilterValueEqual(H.filter,K))k.push(Object.assign(Object.assign({},N),{id:H.id}));else{this.unsubscribe(),this.state=rt.errored,e?.(kn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=k,e&&e(kn.SUBSCRIBED);return}}).receive("error",b=>{this.state=rt.errored,e?.(kn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(b).join(", ")||"error")))}).receive("timeout",()=>{e?.(kn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,i){return this.state===rt.joined&&e===_i.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,r,i)}async httpSend(e,r,i={}){var a;if(r==null)return Promise.reject("Payload is required for httpSend()");const l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},f=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(a=i.timeout)!==null&&a!==void 0?a:this.timeout);if(f.status===202)return{success:!0};let p=f.statusText;try{const g=await f.json();p=g.error||g.message||p}catch{}return Promise.reject(new Error(p))}async send(e,r={}){var i,a;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:l,payload:c}=e,f={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(f.Authorization=`Bearer ${this.socket.accessTokenValue}`);const p={method:"POST",headers:f,body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:c,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);return await((a=g.body)===null||a===void 0?void 0:a.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var c,f,p;const g=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((p=(f=(c=this.params)===null||c===void 0?void 0:c.config)===null||f===void 0?void 0:f.broadcast)===null||p===void 0)&&p.ack)&&l("ok"),g.receive("ok",()=>l("ok")),g.receive("error",()=>l("error")),g.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=rt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(an.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(a=>{i=new Fu(this,an.leave,{},e),i.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=rt.closed,this.bindings={}}async _fetchWithTimeout(e,r,i){const a=new AbortController,l=setTimeout(()=>a.abort(),i),c=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(l),c}_push(e,r,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Fu(this,e,r,i);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>nk){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,i){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,i){var a,l;const c=e.toLocaleLowerCase(),{close:f,error:p,leave:g,join:y}=an;if(i&&[f,p,g,y].indexOf(c)>=0&&i!==this._joinRef())return;let w=this._onMessage(c,r,i);if(r&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(b=>{var S,E,A;return((S=b.filter)===null||S===void 0?void 0:S.event)==="*"||((A=(E=b.filter)===null||E===void 0?void 0:E.event)===null||A===void 0?void 0:A.toLocaleLowerCase())===c}).map(b=>b.callback(w,i)):(l=this.bindings[c])===null||l===void 0||l.filter(b=>{var S,E,A,k,C,N;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in b){const D=b.id,L=(S=b.filter)===null||S===void 0?void 0:S.event;return D&&((E=r.ids)===null||E===void 0?void 0:E.includes(D))&&(L==="*"||L?.toLocaleLowerCase()===((A=r.data)===null||A===void 0?void 0:A.type.toLocaleLowerCase()))}else{const D=(C=(k=b?.filter)===null||k===void 0?void 0:k.event)===null||C===void 0?void 0:C.toLocaleLowerCase();return D==="*"||D===((N=r?.event)===null||N===void 0?void 0:N.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===c}).map(b=>{if(typeof w=="object"&&"ids"in w){const S=w.data,{schema:E,table:A,commit_timestamp:k,type:C,errors:N}=S;w=Object.assign(Object.assign({},{schema:E,table:A,commit_timestamp:k,eventType:C,new:{},old:{},errors:N}),this._getPayloadRecords(S))}b.callback(w,i)})}_isClosed(){return this.state===rt.closed}_isJoined(){return this.state===rt.joined}_isJoining(){return this.state===rt.joining}_isLeaving(){return this.state===rt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,i){const a=e.toLocaleLowerCase(),l={type:a,filter:r,callback:i};return this.bindings[a]?this.bindings[a].push(l):this.bindings[a]=[l],this}_off(e,r){const i=e.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(a=>{var l;return!(((l=a.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===i&&gs.isEqual(a.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const i in e)if(e[i]!==r[i])return!1;return!0}static isFilterValueEqual(e,r){return(e??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(an.close,{},e)}_onError(e){this._on(an.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=rt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Zm(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Zm(e.columns,e.old_record)),r}}const Bu=()=>{},ea={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},ck=[1e3,2e3,5e3,1e4],dk=1e4,hk=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class fk{constructor(e,r){var i;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=wc,this.transport=null,this.heartbeatIntervalMs=ea.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Bu,this.ref=0,this.reconnectTimer=null,this.vsn=Xm,this.logger=Bu,this.conn=null,this.sendBuffer=[],this.serializer=new rk,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>a?(...l)=>a(...l):(...l)=>fetch(...l),!(!((i=r?.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${bc.websocket}`,this.httpEndpoint=dv(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=YS.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,i){this.logger(e,r,i)}connectionState(){switch(this.conn&&this.conn.readyState){case qn.connecting:return _r.Connecting;case qn.open:return _r.Open;case qn.closing:return _r.Closing;default:return _r.Closed}}isConnected(){return this.connectionState()===_r.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const i=`realtime:${e}`,a=this.getChannels().find(l=>l.topic===i);if(a)return a;{const l=new gs(`realtime:${e}`,r,this);return this.channels.push(l),l}}push(e){const{topic:r,event:i,payload:a,ref:l}=e,c=()=>{this.encode(e,f=>{var p;(p=this.conn)===null||p===void 0||p.send(f)})};this.log("push",`${r} ${i} (${l})`,a),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(tk,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},ea.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(i=>i.topic===e&&(i._isJoined()||i._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(g){this.log("error","error in heartbeat callback",g)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:a,payload:l,ref:c}=r,f=c?`(${c})`:"",p=l.status||"";this.log("receive",`${p} ${i} ${a} ${f}`.trim(),l),this.channels.filter(g=>g._isMember(i)).forEach(g=>g._trigger(a,l,c)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===qn.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===qn.open||this.conn.readyState===qn.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(an.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const i=e.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${e}${i}${a}`}_workerObjectUrl(e){let r;if(e)r=e;else{const i=new Blob([hk],{type:"application/javascript"});r=URL.createObjectURL(i)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r,i=!1;if(e)r=e,i=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(a){this.log("error","Error fetching access token from callback",a),r=this.accessTokenValue}else r=this.accessTokenValue;i?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(a=>{const l={access_token:r,version:ZS};r&&a.updateJoinPayload(l),a.joinedOnce&&a._isJoined()&&a._push(an.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(i=>{try{i(r)}catch(a){this.log("error",`error in ${e} callback`,a)}})}catch(i){this.log("error",`error triggering ${e} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new uv(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ea.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,i,a,l,c,f,p,g,y,v,w,b;switch(this.transport=(r=e?.transport)!==null&&r!==void 0?r:null,this.timeout=(i=e?.timeout)!==null&&i!==void 0?i:wc,this.heartbeatIntervalMs=(a=e?.heartbeatIntervalMs)!==null&&a!==void 0?a:ea.HEARTBEAT_INTERVAL,this.worker=(l=e?.worker)!==null&&l!==void 0?l:!1,this.accessToken=(c=e?.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(f=e?.heartbeatCallback)!==null&&f!==void 0?f:Bu,this.vsn=(p=e?.vsn)!==null&&p!==void 0?p:Xm,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(g=e?.reconnectAfterMs)!==null&&g!==void 0?g:(S=>ck[S-1]||dk),this.vsn){case lv:this.encode=(y=e?.encode)!==null&&y!==void 0?y:((S,E)=>E(JSON.stringify(S))),this.decode=(v=e?.decode)!==null&&v!==void 0?v:((S,E)=>E(JSON.parse(S)));break;case ek:this.encode=(w=e?.encode)!==null&&w!==void 0?w:this.serializer.encode.bind(this.serializer),this.decode=(b=e?.decode)!==null&&b!==void 0?b:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}var Ei=class extends Error{constructor(t,e){super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function pk(t,e,r){const i=new URL(e,t);if(r)for(const[a,l]of Object.entries(r))l!==void 0&&i.searchParams.set(a,l);return i.toString()}async function mk(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function gk(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:i,query:a,body:l,headers:c}){const f=pk(t.baseUrl,i,a),p=await mk(t.auth),g=await e(f,{method:r,headers:{...l?{"Content-Type":"application/json"}:{},...p,...c},body:l?JSON.stringify(l):void 0}),y=await g.text(),v=(g.headers.get("content-type")||"").includes("application/json"),w=v&&y?JSON.parse(y):y;if(!g.ok){const b=v?w:void 0,S=b?.error;throw new Ei(S?.message??`Request failed with status ${g.status}`,{status:g.status,icebergType:S?.type,icebergCode:S?.code,details:b})}return{status:g.status,headers:g.headers,data:w}}}}function ta(t){return t.join("")}var yk=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:ta(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(i=>({namespace:i}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ta(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ta(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ta(t.namespace)}`}),!0}catch(e){if(e instanceof Ei&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof Ei&&r.status===409)return;throw r}}};function es(t){return t.join("")}var vk=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${es(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${es(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${es(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${es(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String(e?.purge??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${es(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${es(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof Ei&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof Ei&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},xk=class{constructor(t){let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=gk({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=t.accessDelegation?.join(","),this.namespaceOps=new yk(this.client,e),this.tableOps=new vk(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},Ta=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function Ue(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var wk=class extends Ta{constructor(t,e,r){super(t),this.name="StorageApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Sc=class extends Ta{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const _d=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),bk=()=>Response,kc=t=>{if(Array.isArray(t))return t.map(r=>kc(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,i])=>{const a=r.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[a]=kc(i)}),e},_k=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Sk=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function Ci(t){"@babel/helpers - typeof";return Ci=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ci(t)}function kk(t,e){if(Ci(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var i=r.call(t,e);if(Ci(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jk(t){var e=kk(t,"string");return Ci(e)=="symbol"?e:e+""}function Nk(t,e,r){return(e=jk(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ng(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,i)}return r}function oe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ng(Object(r),!0).forEach(function(i){Nk(t,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ng(Object(r)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(r,i))})}return t}const zu=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},Tk=async(t,e,r)=>{t instanceof await bk()&&!r?.noResolveJson?t.json().then(i=>{const a=t.status||500,l=i?.statusCode||a+"";e(new wk(zu(i),a,l))}).catch(i=>{e(new Sc(zu(i),i))}):e(new Sc(zu(t),t))},Ek=(t,e,r,i)=>{const a={method:t,headers:e?.headers||{}};return t==="GET"||!i?a:(_k(i)?(a.headers=oe({"Content-Type":"application/json"},e?.headers),a.body=JSON.stringify(i)):a.body=i,e?.duplex&&(a.duplex=e.duplex),oe(oe({},a),r))};async function $i(t,e,r,i,a,l){return new Promise((c,f)=>{t(r,Ek(e,i,a,l)).then(p=>{if(!p.ok)throw p;return i?.noResolveJson?p:p.json()}).then(p=>c(p)).catch(p=>Tk(p,f,i))})}async function Pi(t,e,r,i){return $i(t,"GET",e,r,i)}async function on(t,e,r,i,a){return $i(t,"POST",e,i,a,r)}async function jc(t,e,r,i,a){return $i(t,"PUT",e,i,a,r)}async function Ck(t,e,r,i){return $i(t,"HEAD",e,oe(oe({},r),{},{noResolveJson:!0}),i)}async function Sd(t,e,r,i,a){return $i(t,"DELETE",e,i,a,r)}var Pk=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Ue(e))return{data:null,error:e};throw e}}};let hv;hv=Symbol.toStringTag;var Ak=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[hv]="BlobDownloadBuilder",this.promise=null}asStream(){return new Pk(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Ue(e))return{data:null,error:e};throw e}}};const Rk={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},rg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Ok=class{constructor(t,e={},r,i){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=r,this.fetch=_d(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,r,i){var a=this;try{let l;const c=oe(oe({},rg),i);let f=oe(oe({},a.headers),t==="POST"&&{"x-upsert":String(c.upsert)});const p=c.metadata;typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),p&&l.append("metadata",a.encodeMetadata(p)),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.has("cacheControl")||l.append("cacheControl",c.cacheControl),p&&!l.has("metadata")&&l.append("metadata",a.encodeMetadata(p))):(l=r,f["cache-control"]=`max-age=${c.cacheControl}`,f["content-type"]=c.contentType,p&&(f["x-metadata"]=a.toBase64(a.encodeMetadata(p))),(typeof ReadableStream<"u"&&l instanceof ReadableStream||l&&typeof l=="object"&&"pipe"in l&&typeof l.pipe=="function")&&!c.duplex&&(c.duplex="half")),i?.headers&&(f=oe(oe({},f),i.headers));const g=a._removeEmptyFolders(e),y=a._getFinalPath(g),v=await(t=="PUT"?jc:on)(a.fetch,`${a.url}/object/${y}`,l,oe({headers:f},c?.duplex?{duplex:c.duplex}:{}));return{data:{path:g,id:v.Id,fullPath:v.Key},error:null}}catch(l){if(a.shouldThrowOnError)throw l;if(Ue(l))return{data:null,error:l};throw l}}async upload(t,e,r){return this.uploadOrUpdate("POST",t,e,r)}async uploadToSignedUrl(t,e,r,i){var a=this;const l=a._removeEmptyFolders(t),c=a._getFinalPath(l),f=new URL(a.url+`/object/upload/sign/${c}`);f.searchParams.set("token",e);try{let p;const g=oe({upsert:rg.upsert},i),y=oe(oe({},a.headers),{"x-upsert":String(g.upsert)});return typeof Blob<"u"&&r instanceof Blob?(p=new FormData,p.append("cacheControl",g.cacheControl),p.append("",r)):typeof FormData<"u"&&r instanceof FormData?(p=r,p.append("cacheControl",g.cacheControl)):(p=r,y["cache-control"]=`max-age=${g.cacheControl}`,y["content-type"]=g.contentType),{data:{path:l,fullPath:(await jc(a.fetch,f.toString(),p,{headers:y})).Key},error:null}}catch(p){if(a.shouldThrowOnError)throw p;if(Ue(p))return{data:null,error:p};throw p}}async createSignedUploadUrl(t,e){var r=this;try{let i=r._getFinalPath(t);const a=oe({},r.headers);e?.upsert&&(a["x-upsert"]="true");const l=await on(r.fetch,`${r.url}/object/upload/sign/${i}`,{},{headers:a}),c=new URL(r.url+l.url),f=c.searchParams.get("token");if(!f)throw new Ta("No token returned by API");return{data:{signedUrl:c.toString(),path:t,token:f},error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Ue(i))return{data:null,error:i};throw i}}async update(t,e,r){return this.uploadOrUpdate("PUT",t,e,r)}async move(t,e,r){var i=this;try{return{data:await on(i.fetch,`${i.url}/object/move`,{bucketId:i.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:i.headers}),error:null}}catch(a){if(i.shouldThrowOnError)throw a;if(Ue(a))return{data:null,error:a};throw a}}async copy(t,e,r){var i=this;try{return{data:{path:(await on(i.fetch,`${i.url}/object/copy`,{bucketId:i.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:i.headers})).Key},error:null}}catch(a){if(i.shouldThrowOnError)throw a;if(Ue(a))return{data:null,error:a};throw a}}async createSignedUrl(t,e,r){var i=this;try{let a=i._getFinalPath(t),l=await on(i.fetch,`${i.url}/object/sign/${a}`,oe({expiresIn:e},r?.transform?{transform:r.transform}:{}),{headers:i.headers});const c=r?.download?`&download=${r.download===!0?"":r.download}`:"";return l={signedUrl:encodeURI(`${i.url}${l.signedURL}${c}`)},{data:l,error:null}}catch(a){if(i.shouldThrowOnError)throw a;if(Ue(a))return{data:null,error:a};throw a}}async createSignedUrls(t,e,r){var i=this;try{const a=await on(i.fetch,`${i.url}/object/sign/${i.bucketId}`,{expiresIn:e,paths:t},{headers:i.headers}),l=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:a.map(c=>oe(oe({},c),{},{signedUrl:c.signedURL?encodeURI(`${i.url}${c.signedURL}${l}`):null})),error:null}}catch(a){if(i.shouldThrowOnError)throw a;if(Ue(a))return{data:null,error:a};throw a}}download(t,e){const r=typeof e?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(e?.transform||{}),a=i?`?${i}`:"",l=this._getFinalPath(t),c=()=>Pi(this.fetch,`${this.url}/${r}/${l}${a}`,{headers:this.headers,noResolveJson:!0});return new Ak(c,this.shouldThrowOnError)}async info(t){var e=this;const r=e._getFinalPath(t);try{return{data:kc(await Pi(e.fetch,`${e.url}/object/info/${r}`,{headers:e.headers})),error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(Ue(i))return{data:null,error:i};throw i}}async exists(t){var e=this;const r=e._getFinalPath(t);try{return await Ck(e.fetch,`${e.url}/object/${r}`,{headers:e.headers}),{data:!0,error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(Ue(i)&&i instanceof Sc){const a=i.originalError;if([400,404].includes(a?.status))return{data:!1,error:i}}throw i}}getPublicUrl(t,e){const r=this._getFinalPath(t),i=[],a=e?.download?`download=${e.download===!0?"":e.download}`:"";a!==""&&i.push(a);const l=typeof e?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(e?.transform||{});c!==""&&i.push(c);let f=i.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${f}`)}}}async remove(t){var e=this;try{return{data:await Sd(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Ue(r))return{data:null,error:r};throw r}}async list(t,e,r){var i=this;try{const a=oe(oe(oe({},Rk),e),{},{prefix:t||""});return{data:await on(i.fetch,`${i.url}/object/list/${i.bucketId}`,a,{headers:i.headers},r),error:null}}catch(a){if(i.shouldThrowOnError)throw a;if(Ue(a))return{data:null,error:a};throw a}}async listV2(t,e){var r=this;try{const i=oe({},t);return{data:await on(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,i,{headers:r.headers},e),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Ue(i))return{data:null,error:i};throw i}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const fv="2.89.0",pv={"X-Client-Info":`storage-js/${fv}`};var Ik=class{constructor(t,e={},r,i){this.shouldThrowOnError=!1;const a=new URL(t);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=oe(oe({},pv),e),this.fetch=_d(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const r=e.listBucketOptionsToQueryString(t);return{data:await Pi(e.fetch,`${e.url}/bucket${r}`,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Ue(r))return{data:null,error:r};throw r}}async getBucket(t){var e=this;try{return{data:await Pi(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Ue(r))return{data:null,error:r};throw r}}async createBucket(t,e={public:!1}){var r=this;try{return{data:await on(r.fetch,`${r.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Ue(i))return{data:null,error:i};throw i}}async updateBucket(t,e){var r=this;try{return{data:await jc(r.fetch,`${r.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Ue(i))return{data:null,error:i};throw i}}async emptyBucket(t){var e=this;try{return{data:await on(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Ue(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await Sd(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Ue(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},Mk=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=oe(oe({},pv),e),this.fetch=_d(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await on(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Ue(r))return{data:null,error:r};throw r}}async listBuckets(t){var e=this;try{const r=new URLSearchParams;t?.limit!==void 0&&r.set("limit",t.limit.toString()),t?.offset!==void 0&&r.set("offset",t.offset.toString()),t?.sortColumn&&r.set("sortColumn",t.sortColumn),t?.sortOrder&&r.set("sortOrder",t.sortOrder),t?.search&&r.set("search",t.search);const i=r.toString(),a=i?`${e.url}/bucket?${i}`:`${e.url}/bucket`;return{data:await Pi(e.fetch,a,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Ue(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await Sd(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Ue(r))return{data:null,error:r};throw r}}from(t){var e=this;if(!Sk(t))throw new Ta("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new xk({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),i=this.shouldThrowOnError;return new Proxy(r,{get(a,l){const c=a[l];return typeof c!="function"?c:async(...f)=>{try{return{data:await c.apply(a,f),error:null}}catch(p){if(i)throw p;return{data:null,error:p}}}}})}};const kd={"X-Client-Info":`storage-js/${fv}`,"Content-Type":"application/json"};var mv=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Mt(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var Wu=class extends mv{constructor(t,e,r){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Dk=class extends mv{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const jd=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Lk=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},sg=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),$k=async(t,e,r)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!r?.noResolveJson){const i=t.status||500,a=t;if(typeof a.json=="function")a.json().then(l=>{const c=l?.statusCode||l?.code||i+"";e(new Wu(sg(l),i,c))}).catch(()=>{const l=i+"";e(new Wu(a.statusText||`HTTP ${i} error`,i,l))});else{const l=i+"";e(new Wu(a.statusText||`HTTP ${i} error`,i,l))}}else e(new Dk(sg(t),t))},Uk=(t,e,r,i)=>{const a={method:t,headers:e?.headers||{}};return i?(Lk(i)?(a.headers=oe({"Content-Type":"application/json"},e?.headers),a.body=JSON.stringify(i)):a.body=i,oe(oe({},a),r)):a};async function Vk(t,e,r,i,a,l){return new Promise((c,f)=>{t(r,Uk(e,i,a,l)).then(p=>{if(!p.ok)throw p;if(i?.noResolveJson)return p;const g=p.headers.get("content-type");return!g||!g.includes("application/json")?{}:p.json()}).then(p=>c(p)).catch(p=>$k(p,f,i))})}async function Dt(t,e,r,i,a){return Vk(t,"POST",e,i,a,r)}var Fk=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=oe(oe({},kd),e),this.fetch=jd(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await Dt(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Mt(r))return{data:null,error:r};throw r}}async getIndex(t,e){var r=this;try{return{data:await Dt(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers}),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Mt(i))return{data:null,error:i};throw i}}async listIndexes(t){var e=this;try{return{data:await Dt(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Mt(r))return{data:null,error:r};throw r}}async deleteIndex(t,e){var r=this;try{return{data:await Dt(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers})||{},error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Mt(i))return{data:null,error:i};throw i}}},Bk=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=oe(oe({},kd),e),this.fetch=jd(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Dt(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Mt(r))return{data:null,error:r};throw r}}async getVectors(t){var e=this;try{return{data:await Dt(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Mt(r))return{data:null,error:r};throw r}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await Dt(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Mt(r))return{data:null,error:r};throw r}}async queryVectors(t){var e=this;try{return{data:await Dt(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Mt(r))return{data:null,error:r};throw r}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Dt(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Mt(r))return{data:null,error:r};throw r}}},zk=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=oe(oe({},kd),e),this.fetch=jd(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await Dt(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Mt(r))return{data:null,error:r};throw r}}async getBucket(t){var e=this;try{return{data:await Dt(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Mt(r))return{data:null,error:r};throw r}}async listBuckets(t={}){var e=this;try{return{data:await Dt(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Mt(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await Dt(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Mt(r))return{data:null,error:r};throw r}}},Wk=class extends zk{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new Hk(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,r=this;return e().call(r,t)}async getBucket(t){var e=()=>super.getBucket,r=this;return e().call(r,t)}async listBuckets(t={}){var e=()=>super.listBuckets,r=this;return e().call(r,t)}async deleteBucket(t){var e=()=>super.deleteBucket,r=this;return e().call(r,t)}},Hk=class extends Fk{constructor(t,e,r,i){super(t,e,i),this.vectorBucketName=r}async createIndex(t){var e=()=>super.createIndex,r=this;return e().call(r,oe(oe({},t),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,r=this;return e().call(r,oe(oe({},t),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,r=this;return e().call(r,r.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,r=this;return e().call(r,r.vectorBucketName,t)}index(t){return new Kk(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},Kk=class extends Bk{constructor(t,e,r,i,a){super(t,e,a),this.vectorBucketName=r,this.indexName=i}async putVectors(t){var e=()=>super.putVectors,r=this;return e().call(r,oe(oe({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(t){var e=()=>super.getVectors,r=this;return e().call(r,oe(oe({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,r=this;return e().call(r,oe(oe({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,r=this;return e().call(r,oe(oe({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,r=this;return e().call(r,oe(oe({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},Gk=class extends Ik{constructor(t,e={},r,i){super(t,e,r,i)}from(t){return new Ok(this.url,this.headers,t,this.fetch)}get vectors(){return new Wk(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Mk(this.url+"/iceberg",this.headers,this.fetch)}};const gv="2.89.0",us=30*1e3,Nc=3,Hu=Nc*us,qk="http://localhost:9999",Jk="supabase.auth.token",Qk={"X-Client-Info":`gotrue-js/${gv}`},Tc="X-Supabase-Api-Version",yv={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Yk=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Xk=600*1e3;class Ai extends Error{constructor(e,r,i){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=i}}function ee(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Zk extends Ai{constructor(e,r,i){super(e,r,i),this.name="AuthApiError",this.status=r,this.code=i}}function ej(t){return ee(t)&&t.name==="AuthApiError"}class Sr extends Ai{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Tn extends Ai{constructor(e,r,i,a){super(e,i,a),this.name=r,this.status=i}}class It extends Tn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function tj(t){return ee(t)&&t.name==="AuthSessionMissingError"}class ts extends Tn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class na extends Tn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ra extends Tn{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function nj(t){return ee(t)&&t.name==="AuthImplicitGrantRedirectError"}class ig extends Tn{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class rj extends Tn{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Ec extends Tn{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Ku(t){return ee(t)&&t.name==="AuthRetryableFetchError"}class og extends Tn{constructor(e,r,i){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=i}}class Cc extends Tn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const va="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ag=` 	
\r=`.split(""),sj=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<ag.length;e+=1)t[ag[e].charCodeAt(0)]=-2;for(let e=0;e<va.length;e+=1)t[va[e].charCodeAt(0)]=e;return t})();function lg(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;r(va[i]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;r(va[i]),e.queuedBits-=6}}function vv(t,e,r){const i=sj[t];if(i>-1)for(e.queue=e.queue<<6|i,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function ug(t){const e=[],r=c=>{e.push(String.fromCodePoint(c))},i={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},l=c=>{aj(c,i,r)};for(let c=0;c<t.length;c+=1)vv(t.charCodeAt(c),a,l);return e.join("")}function ij(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function oj(t,e){for(let r=0;r<t.length;r+=1){let i=t.charCodeAt(r);if(i>55295&&i<=56319){const a=(i-55296)*1024&65535;i=(t.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}ij(i,e)}}function aj(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let i=1;i<6;i+=1)if((t>>7-i&1)===0){e.utf8seq=i;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function xs(t){const e=[],r={queue:0,queuedBits:0},i=a=>{e.push(a)};for(let a=0;a<t.length;a+=1)vv(t.charCodeAt(a),r,i);return new Uint8Array(e)}function lj(t){const e=[];return oj(t,r=>e.push(r)),new Uint8Array(e)}function Nr(t){const e=[],r={queue:0,queuedBits:0},i=a=>{e.push(a)};return t.forEach(a=>lg(a,r,i)),lg(null,r,i),e.join("")}function uj(t){return Math.round(Date.now()/1e3)+t}function cj(){return Symbol("auth-callback")}const ht=()=>typeof window<"u"&&typeof document<"u",vr={tested:!1,writable:!1},xv=()=>{if(!ht())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(vr.tested)return vr.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),vr.tested=!0,vr.writable=!0}catch{vr.tested=!0,vr.writable=!1}return vr.writable};function dj(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,l)=>{e[l]=a})}catch{}return r.searchParams.forEach((i,a)=>{e[a]=i}),e}const wv=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),hj=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",cs=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},xr=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},dt=async(t,e)=>{await t.removeItem(e)};class Ea{constructor(){this.promise=new Ea.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Ea.promiseConstructor=Promise;function Gu(t){const e=t.split(".");if(e.length!==3)throw new Cc("Invalid JWT structure");for(let i=0;i<e.length;i++)if(!Yk.test(e[i]))throw new Cc("JWT not in base64url format");return{header:JSON.parse(ug(e[0])),payload:JSON.parse(ug(e[1])),signature:xs(e[2]),raw:{header:e[0],payload:e[1]}}}async function fj(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function pj(t,e){return new Promise((i,a)=>{(async()=>{for(let l=0;l<1/0;l++)try{const c=await t(l);if(!e(l,null,c)){i(c);return}}catch(c){if(!e(l,c)){a(c);return}}})()})}function mj(t){return("0"+t.toString(16)).substr(-2)}function gj(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=r.length;let a="";for(let l=0;l<56;l++)a+=r.charAt(Math.floor(Math.random()*i));return a}return crypto.getRandomValues(e),Array.from(e,mj).join("")}async function yj(t){const r=new TextEncoder().encode(t),i=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(i);return Array.from(a).map(l=>String.fromCharCode(l)).join("")}async function vj(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await yj(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ns(t,e,r=!1){const i=gj();let a=i;r&&(a+="/PASSWORD_RECOVERY"),await cs(t,`${e}-code-verifier`,a);const l=await vj(i);return[l,i===l?"plain":"s256"]}const xj=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function wj(t){const e=t.headers.get(Tc);if(!e||!e.match(xj))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function bj(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function _j(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Sj=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function rs(t){if(!Sj.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function qu(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function kj(t,e){return new Proxy(t,{get:(r,i,a)=>{if(i==="__isInsecureUserWarningProxy")return!0;if(typeof i=="symbol"){const l=i.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)"||l==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,i,a)}return!e.value&&typeof i=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,i,a)}})}function cg(t){return JSON.parse(JSON.stringify(t))}const br=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),jj=[502,503,504];async function dg(t){var e;if(!hj(t))throw new Ec(br(t),0);if(jj.includes(t.status))throw new Ec(br(t),t.status);let r;try{r=await t.json()}catch(l){throw new Sr(br(l),l)}let i;const a=wj(t);if(a&&a.getTime()>=yv["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?i=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(i=r.error_code),i){if(i==="weak_password")throw new og(br(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(i==="session_not_found")throw new It}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((l,c)=>l&&typeof c=="string",!0))throw new og(br(r),t.status,r.weak_password.reasons);throw new Zk(br(r),t.status||500,i)}const Nj=(t,e,r,i)=>{const a={method:t,headers:e?.headers||{}};return t==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),a.body=JSON.stringify(i),Object.assign(Object.assign({},a),r))};async function ie(t,e,r,i){var a;const l=Object.assign({},i?.headers);l[Tc]||(l[Tc]=yv["2024-01-01"].name),i?.jwt&&(l.Authorization=`Bearer ${i.jwt}`);const c=(a=i?.query)!==null&&a!==void 0?a:{};i?.redirectTo&&(c.redirect_to=i.redirectTo);const f=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",p=await Tj(t,e,r+f,{headers:l,noResolveJson:i?.noResolveJson},{},i?.body);return i?.xform?i?.xform(p):{data:Object.assign({},p),error:null}}async function Tj(t,e,r,i,a,l){const c=Nj(e,i,a,l);let f;try{f=await t(r,Object.assign({},c))}catch(p){throw console.error(p),new Ec(br(p),0)}if(f.ok||await dg(f),i?.noResolveJson)return f;try{return await f.json()}catch(p){await dg(p)}}function rn(t){var e;let r=null;Pj(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=uj(t.expires_in)));const i=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:i},error:null}}function hg(t){const e=rn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,i)=>r&&typeof i=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Jn(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Ej(t){return{data:t,error:null}}function Cj(t){const{action_link:e,email_otp:r,hashed_token:i,redirect_to:a,verification_type:l}=t,c=Na(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:e,email_otp:r,hashed_token:i,redirect_to:a,verification_type:l},p=Object.assign({},c);return{data:{properties:f,user:p},error:null}}function fg(t){return t}function Pj(t){return t.access_token&&t.refresh_token&&t.expires_in}const Ju=["global","local","others"];class Aj{constructor({url:e="",headers:r={},fetch:i}){this.url=e,this.headers=r,this.fetch=wv(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=Ju[0]){if(Ju.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ju.join(", ")}`);try{return await ie(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(ee(i))return{data:null,error:i};throw i}}async inviteUserByEmail(e,r={}){try{return await ie(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Jn})}catch(i){if(ee(i))return{data:{user:null},error:i};throw i}}async generateLink(e){try{const{options:r}=e,i=Na(e,["options"]),a=Object.assign(Object.assign({},i),r);return"newEmail"in i&&(a.new_email=i?.newEmail,delete a.newEmail),await ie(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:Cj,redirectTo:r?.redirectTo})}catch(r){if(ee(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await ie(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Jn})}catch(r){if(ee(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,i,a,l,c,f,p;try{const g={nextPage:null,lastPage:0,total:0},y=await ie(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:"",per_page:(l=(a=e?.perPage)===null||a===void 0?void 0:a.toString())!==null&&l!==void 0?l:""},xform:fg});if(y.error)throw y.error;const v=await y.json(),w=(c=y.headers.get("x-total-count"))!==null&&c!==void 0?c:0,b=(p=(f=y.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&p!==void 0?p:[];return b.length>0&&(b.forEach(S=>{const E=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),A=JSON.parse(S.split(";")[1].split("=")[1]);g[`${A}Page`]=E}),g.total=parseInt(w)),{data:Object.assign(Object.assign({},v),g),error:null}}catch(g){if(ee(g))return{data:{users:[]},error:g};throw g}}async getUserById(e){rs(e);try{return await ie(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Jn})}catch(r){if(ee(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){rs(e);try{return await ie(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Jn})}catch(i){if(ee(i))return{data:{user:null},error:i};throw i}}async deleteUser(e,r=!1){rs(e);try{return await ie(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Jn})}catch(i){if(ee(i))return{data:{user:null},error:i};throw i}}async _listFactors(e){rs(e.userId);try{const{data:r,error:i}=await ie(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:i}}catch(r){if(ee(r))return{data:null,error:r};throw r}}async _deleteFactor(e){rs(e.userId),rs(e.id);try{return{data:await ie(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(ee(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,i,a,l,c,f,p;try{const g={nextPage:null,lastPage:0,total:0},y=await ie(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:"",per_page:(l=(a=e?.perPage)===null||a===void 0?void 0:a.toString())!==null&&l!==void 0?l:""},xform:fg});if(y.error)throw y.error;const v=await y.json(),w=(c=y.headers.get("x-total-count"))!==null&&c!==void 0?c:0,b=(p=(f=y.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&p!==void 0?p:[];return b.length>0&&(b.forEach(S=>{const E=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),A=JSON.parse(S.split(";")[1].split("=")[1]);g[`${A}Page`]=E}),g.total=parseInt(w)),{data:Object.assign(Object.assign({},v),g),error:null}}catch(g){if(ee(g))return{data:{clients:[]},error:g};throw g}}async _createOAuthClient(e){try{return await ie(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ee(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await ie(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ee(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await ie(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(ee(i))return{data:null,error:i};throw i}}async _deleteOAuthClient(e){try{return await ie(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ee(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await ie(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ee(r))return{data:null,error:r};throw r}}}function pg(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const ss={debug:!!(globalThis&&xv()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class bv extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Rj extends bv{}async function Oj(t,e,r){ss.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const i=new globalThis.AbortController;return e>0&&setTimeout(()=>{i.abort(),ss.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async a=>{if(a){ss.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,a.name);try{return await r()}finally{ss.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,a.name)}}else{if(e===0)throw ss.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Rj(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(ss.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function Ij(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function _v(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function Mj(t){return parseInt(t,16)}function Dj(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,i=>i.toString(16).padStart(2,"0")).join("")}function Lj(t){var e;const{chainId:r,domain:i,expirationTime:a,issuedAt:l=new Date,nonce:c,notBefore:f,requestId:p,resources:g,scheme:y,uri:v,version:w}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!v)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(w!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${w}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const b=_v(t.address),S=y?`${y}://${i}`:i,E=t.statement?`${t.statement}
`:"",A=`${S} wants you to sign in with your Ethereum account:
${b}

${E}`;let k=`URI: ${v}
Version: ${w}
Chain ID: ${r}${c?`
Nonce: ${c}`:""}
Issued At: ${l.toISOString()}`;if(a&&(k+=`
Expiration Time: ${a.toISOString()}`),f&&(k+=`
Not Before: ${f.toISOString()}`),p&&(k+=`
Request ID: ${p}`),g){let C=`
Resources:`;for(const N of g){if(!N||typeof N!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${N}`);C+=`
- ${N}`}k+=C}return`${A}
${k}`}class Qe extends Error{constructor({message:e,code:r,cause:i,name:a}){var l;super(e,{cause:i}),this.__isWebAuthnError=!0,this.name=(l=a??(i instanceof Error?i.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=r}}class xa extends Qe{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function $j({error:t,options:e}){var r,i,a;const{publicKey:l}=e;if(!l)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Qe({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=l.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Qe({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((i=l.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Qe({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((a=l.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Qe({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Qe({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Qe({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return l.pubKeyCredParams.filter(f=>f.type==="public-key").length===0?new Qe({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Qe({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const c=window.location.hostname;if(Sv(c)){if(l.rp.id!==c)return new Qe({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Qe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new Qe({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Qe({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Qe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function Uj({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Qe({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Qe({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const i=window.location.hostname;if(Sv(i)){if(r.rpId!==i)return new Qe({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Qe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Qe({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Qe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class Vj{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const Fj=new Vj;function Bj(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:i}=t,a=Na(t,["challenge","user","excludeCredentials"]),l=xs(e).buffer,c=Object.assign(Object.assign({},r),{id:xs(r.id).buffer}),f=Object.assign(Object.assign({},a),{challenge:l,user:c});if(i&&i.length>0){f.excludeCredentials=new Array(i.length);for(let p=0;p<i.length;p++){const g=i[p];f.excludeCredentials[p]=Object.assign(Object.assign({},g),{id:xs(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return f}function zj(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,i=Na(t,["challenge","allowCredentials"]),a=xs(e).buffer,l=Object.assign(Object.assign({},i),{challenge:a});if(r&&r.length>0){l.allowCredentials=new Array(r.length);for(let c=0;c<r.length;c++){const f=r[c];l.allowCredentials[c]=Object.assign(Object.assign({},f),{id:xs(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return l}function Wj(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:Nr(new Uint8Array(t.response.attestationObject)),clientDataJSON:Nr(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Hj(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,i=t.getClientExtensionResults(),a=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Nr(new Uint8Array(a.authenticatorData)),clientDataJSON:Nr(new Uint8Array(a.clientDataJSON)),signature:Nr(new Uint8Array(a.signature)),userHandle:a.userHandle?Nr(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Sv(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function mg(){var t,e;return!!(ht()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function Kj(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new xa("Browser returned unexpected credential type",e)}:{data:null,error:new xa("Empty credential response",e)}}catch(e){return{data:null,error:$j({error:e,options:t})}}}async function Gj(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new xa("Browser returned unexpected credential type",e)}:{data:null,error:new xa("Empty credential response",e)}}catch(e){return{data:null,error:Uj({error:e,options:t})}}}const qj={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Jj={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function wa(...t){const e=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),i={};for(const a of t)if(a)for(const l in a){const c=a[l];if(c!==void 0)if(Array.isArray(c))i[l]=c;else if(r(c))i[l]=c;else if(e(c)){const f=i[l];e(f)?i[l]=wa(f,c):i[l]=wa(c)}else i[l]=c}return i}function Qj(t,e){return wa(qj,t,e||{})}function Yj(t,e){return wa(Jj,t,e||{})}class Xj{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:i,signal:a},l){try{const{data:c,error:f}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!c)return{data:null,error:f};const p=a??Fj.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:g}=c.webauthn.credential_options.publicKey;g.name||(g.name=`${g.id}:${i}`),g.displayName||(g.displayName=g.name)}switch(c.webauthn.type){case"create":{const g=Qj(c.webauthn.credential_options.publicKey,l?.create),{data:y,error:v}=await Kj({publicKey:g,signal:p});return y?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:y}},error:null}:{data:null,error:v}}case"request":{const g=Yj(c.webauthn.credential_options.publicKey,l?.request),{data:y,error:v}=await Gj(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:g,signal:p}));return y?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:y}},error:null}:{data:null,error:v}}}}catch(c){return ee(c)?{data:null,error:c}:{data:null,error:new Sr("Unexpected error in challenge",c)}}}async _verify({challengeId:e,factorId:r,webauthn:i}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:i})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},l){if(!r)return{data:null,error:new Ai("rpId is required for WebAuthn authentication")};try{if(!mg())return{data:null,error:new Sr("Browser does not support WebAuthn",null)};const{data:c,error:f}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:i},signal:a},{request:l});if(!c)return{data:null,error:f};const{webauthn:p}=c;return this._verify({factorId:e,challengeId:c.challengeId,webauthn:{type:p.type,rpId:r,rpOrigins:i,credential_response:p.credential_response}})}catch(c){return ee(c)?{data:null,error:c}:{data:null,error:new Sr("Unexpected error in authenticate",c)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},l){if(!r)return{data:null,error:new Ai("rpId is required for WebAuthn registration")};try{if(!mg())return{data:null,error:new Sr("Browser does not support WebAuthn",null)};const{data:c,error:f}=await this._enroll({friendlyName:e});if(!c)return await this.client.mfa.listFactors().then(y=>{var v;return(v=y.data)===null||v===void 0?void 0:v.all.find(w=>w.factor_type==="webauthn"&&w.friendly_name===e&&w.status!=="unverified")}).then(y=>y?this.client.mfa.unenroll({factorId:y?.id}):void 0),{data:null,error:f};const{data:p,error:g}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:r,rpOrigins:i},signal:a},{create:l});return p?this._verify({factorId:c.id,challengeId:p.challengeId,webauthn:{rpId:r,rpOrigins:i,type:p.webauthn.type,credential_response:p.webauthn.credential_response}}):{data:null,error:g}}catch(c){return ee(c)?{data:null,error:c}:{data:null,error:new Sr("Unexpected error in register",c)}}}}Ij();const Zj={url:qk,storageKey:Jk,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Qk,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function gg(t,e,r){return await r()}const is={};class Ri{get jwks(){var e,r;return(r=(e=is[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){is[this.storageKey]=Object.assign(Object.assign({},is[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=is[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){is[this.storageKey]=Object.assign(Object.assign({},is[this.storageKey]),{cachedAt:e})}constructor(e){var r,i,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const l=Object.assign(Object.assign({},Zj),e);if(this.storageKey=l.storageKey,this.instanceID=(r=Ri.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Ri.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.instanceID>0&&ht()){const c=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(c),this.logDebugMessages&&console.trace(c)}if(this.persistSession=l.persistSession,this.autoRefreshToken=l.autoRefreshToken,this.admin=new Aj({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=wv(l.fetch),this.lock=l.lock||gg,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,this.throwOnError=l.throwOnError,l.lock?this.lock=l.lock:this.persistSession&&ht()&&(!((i=globalThis?.navigator)===null||i===void 0)&&i.locks)?this.lock=Oj:this.lock=gg,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Xj(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:xv()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=pg(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=pg(this.memoryStorage)),ht()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${gv}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},i="none";if(ht()&&(r=dj(window.location.href),this._isImplicitGrantCallback(r)?i="implicit":await this._isPKCECallback(r)&&(i="pkce")),ht()&&this.detectSessionInUrl&&i!=="none"){const{data:a,error:l}=await this._getSessionFromURL(r,i);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),nj(l)){const p=(e=l.details)===null||e===void 0?void 0:e.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:c,redirectType:f}=a;return this._debug("#_initialize()","detected session in URL",c,"redirect type",f),await this._saveSession(c),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ee(r)?this._returnResult({error:r}):this._returnResult({error:new Sr("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,i,a;try{const l=await ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(r=e?.options)===null||r===void 0?void 0:r.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(a=e?.options)===null||a===void 0?void 0:a.captchaToken}},xform:rn}),{data:c,error:f}=l;if(f||!c)return this._returnResult({data:{user:null,session:null},error:f});const p=c.session,g=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:g,session:p},error:null})}catch(l){if(ee(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signUp(e){var r,i,a;try{let l;if("email"in e){const{email:y,password:v,options:w}=e;let b=null,S=null;this.flowType==="pkce"&&([b,S]=await ns(this.storage,this.storageKey)),l=await ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w?.emailRedirectTo,body:{email:y,password:v,data:(r=w?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:w?.captchaToken},code_challenge:b,code_challenge_method:S},xform:rn})}else if("phone"in e){const{phone:y,password:v,options:w}=e;l=await ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:v,data:(i=w?.data)!==null&&i!==void 0?i:{},channel:(a=w?.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:w?.captchaToken}},xform:rn})}else throw new na("You must provide either an email or phone number and a password");const{data:c,error:f}=l;if(f||!c)return await dt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:f});const p=c.session,g=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:g,session:p},error:null})}catch(l){if(await dt(this.storage,`${this.storageKey}-code-verifier`),ee(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithPassword(e){try{let r;if("email"in e){const{email:l,password:c,options:f}=e;r=await ie(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:c,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:hg})}else if("phone"in e){const{phone:l,password:c,options:f}=e;r=await ie(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:c,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:hg})}else throw new na("You must provide either an email or phone number and a password");const{data:i,error:a}=r;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!i||!i.session||!i.user){const l=new ts;return this._returnResult({data:{user:null,session:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:a})}catch(r){if(ee(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,i,a,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,i,a,l,c,f,p,g,y,v,w;let b,S;if("message"in e)b=e.message,S=e.signature;else{const{chain:E,wallet:A,statement:k,options:C}=e;let N;if(ht())if(typeof A=="object")N=A;else{const se=window;if("ethereum"in se&&typeof se.ethereum=="object"&&"request"in se.ethereum&&typeof se.ethereum.request=="function")N=se.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof A!="object"||!C?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");N=A}const D=new URL((r=C?.url)!==null&&r!==void 0?r:window.location.href),L=await N.request({method:"eth_requestAccounts"}).then(se=>se).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!L||L.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const B=_v(L[0]);let K=(i=C?.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!K){const se=await N.request({method:"eth_chainId"});K=Mj(se)}const H={domain:D.host,address:B,statement:k,uri:D.href,version:"1",chainId:K,nonce:(a=C?.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(c=(l=C?.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(f=C?.signInWithEthereum)===null||f===void 0?void 0:f.expirationTime,notBefore:(p=C?.signInWithEthereum)===null||p===void 0?void 0:p.notBefore,requestId:(g=C?.signInWithEthereum)===null||g===void 0?void 0:g.requestId,resources:(y=C?.signInWithEthereum)===null||y===void 0?void 0:y.resources};b=Lj(H),S=await N.request({method:"personal_sign",params:[Dj(b),B]})}try{const{data:E,error:A}=await ie(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:b,signature:S},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(w=e.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:rn});if(A)throw A;if(!E||!E.session||!E.user){const k=new ts;return this._returnResult({data:{user:null,session:null},error:k})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:A})}catch(E){if(ee(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async signInWithSolana(e){var r,i,a,l,c,f,p,g,y,v,w,b;let S,E;if("message"in e)S=e.message,E=e.signature;else{const{chain:A,wallet:k,statement:C,options:N}=e;let D;if(ht())if(typeof k=="object")D=k;else{const B=window;if("solana"in B&&typeof B.solana=="object"&&("signIn"in B.solana&&typeof B.solana.signIn=="function"||"signMessage"in B.solana&&typeof B.solana.signMessage=="function"))D=B.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!N?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");D=k}const L=new URL((r=N?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in D&&D.signIn){const B=await D.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},N?.signInWithSolana),{version:"1",domain:L.host,uri:L.href}),C?{statement:C}:null));let K;if(Array.isArray(B)&&B[0]&&typeof B[0]=="object")K=B[0];else if(B&&typeof B=="object"&&"signedMessage"in B&&"signature"in B)K=B;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in K&&"signature"in K&&(typeof K.signedMessage=="string"||K.signedMessage instanceof Uint8Array)&&K.signature instanceof Uint8Array)S=typeof K.signedMessage=="string"?K.signedMessage:new TextDecoder().decode(K.signedMessage),E=K.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in D)||typeof D.signMessage!="function"||!("publicKey"in D)||typeof D!="object"||!D.publicKey||!("toBase58"in D.publicKey)||typeof D.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${L.host} wants you to sign in with your Solana account:`,D.publicKey.toBase58(),...C?["",C,""]:[""],"Version: 1",`URI: ${L.href}`,`Issued At: ${(a=(i=N?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((l=N?.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${N.signInWithSolana.notBefore}`]:[],...!((c=N?.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${N.signInWithSolana.expirationTime}`]:[],...!((f=N?.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${N.signInWithSolana.chainId}`]:[],...!((p=N?.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${N.signInWithSolana.nonce}`]:[],...!((g=N?.signInWithSolana)===null||g===void 0)&&g.requestId?[`Request ID: ${N.signInWithSolana.requestId}`]:[],...!((v=(y=N?.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||v===void 0)&&v.length?["Resources",...N.signInWithSolana.resources.map(K=>`- ${K}`)]:[]].join(`
`);const B=await D.signMessage(new TextEncoder().encode(S),"utf8");if(!B||!(B instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");E=B}}try{const{data:A,error:k}=await ie(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:Nr(E)},!((w=e.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(b=e.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:rn});if(k)throw k;if(!A||!A.session||!A.user){const C=new ts;return this._returnResult({data:{user:null,session:null},error:C})}return A.session&&(await this._saveSession(A.session),await this._notifyAllSubscribers("SIGNED_IN",A.session)),this._returnResult({data:Object.assign({},A),error:k})}catch(A){if(ee(A))return this._returnResult({data:{user:null,session:null},error:A});throw A}}async _exchangeCodeForSession(e){const r=await xr(this.storage,`${this.storageKey}-code-verifier`),[i,a]=(r??"").split("/");try{if(!i&&this.flowType==="pkce")throw new rj;const{data:l,error:c}=await ie(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:rn});if(await dt(this.storage,`${this.storageKey}-code-verifier`),c)throw c;if(!l||!l.session||!l.user){const f=new ts;return this._returnResult({data:{user:null,session:null,redirectType:null},error:f})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign(Object.assign({},l),{redirectType:a??null}),error:c})}catch(l){if(await dt(this.storage,`${this.storageKey}-code-verifier`),ee(l))return this._returnResult({data:{user:null,session:null,redirectType:null},error:l});throw l}}async signInWithIdToken(e){try{const{options:r,provider:i,token:a,access_token:l,nonce:c}=e,f=await ie(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:a,access_token:l,nonce:c,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:rn}),{data:p,error:g}=f;if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!p||!p.session||!p.user){const y=new ts;return this._returnResult({data:{user:null,session:null},error:y})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:p,error:g})}catch(r){if(ee(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,i,a,l,c;try{if("email"in e){const{email:f,options:p}=e;let g=null,y=null;this.flowType==="pkce"&&([g,y]=await ns(this.storage,this.storageKey));const{error:v}=await ie(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(r=p?.data)!==null&&r!==void 0?r:{},create_user:(i=p?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},code_challenge:g,code_challenge_method:y},redirectTo:p?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:v})}if("phone"in e){const{phone:f,options:p}=e,{data:g,error:y}=await ie(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(a=p?.data)!==null&&a!==void 0?a:{},create_user:(l=p?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},channel:(c=p?.channel)!==null&&c!==void 0?c:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:g?.message_id},error:y})}throw new na("You must provide either an email or phone number.")}catch(f){if(await dt(this.storage,`${this.storageKey}-code-verifier`),ee(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async verifyOtp(e){var r,i;try{let a,l;"options"in e&&(a=(r=e.options)===null||r===void 0?void 0:r.redirectTo,l=(i=e.options)===null||i===void 0?void 0:i.captchaToken);const{data:c,error:f}=await ie(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:a,xform:rn});if(f)throw f;if(!c)throw new Error("An error occurred on token verification.");const p=c.session,g=c.user;return p?.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),this._returnResult({data:{user:g,session:p},error:null})}catch(a){if(ee(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(e){var r,i,a,l,c;try{let f=null,p=null;this.flowType==="pkce"&&([f,p]=await ns(this.storage,this.storageKey));const g=await ie(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&i!==void 0?i:void 0}),!((a=e?.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:f,code_challenge_method:p}),headers:this.headers,xform:Ej});return!((l=g.data)===null||l===void 0)&&l.url&&ht()&&!(!((c=e.options)===null||c===void 0)&&c.skipBrowserRedirect)&&window.location.assign(g.data.url),this._returnResult(g)}catch(f){if(await dt(this.storage,`${this.storageKey}-code-verifier`),ee(f))return this._returnResult({data:null,error:f});throw f}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:i}=e;if(i)throw i;if(!r)throw new It;const{error:a}=await ie(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(e){if(ee(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:i,type:a,options:l}=e,{error:c}=await ie(this.fetch,"POST",r,{headers:this.headers,body:{email:i,type:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},redirectTo:l?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:c})}else if("phone"in e){const{phone:i,type:a,options:l}=e,{data:c,error:f}=await ie(this.fetch,"POST",r,{headers:this.headers,body:{phone:i,type:a,gotrue_meta_security:{captcha_token:l?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:c?.message_id},error:f})}throw new na("You must provide either an email or phone number and a type")}catch(r){if(ee(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await i,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=r();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await xr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const i=e.expires_at?e.expires_at*1e3-Date.now()<Hu:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.userStorage){const c=await xr(this.userStorage,this.storageKey+"-user");c?.user?e.user=c.user:e.user=qu()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const c={value:this.suppressGetSessionWarning};e.user=kj(e.user,c),c.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{session:null},error:l}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await ie(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Jn}):await this._useSession(async r=>{var i,a,l;const{data:c,error:f}=r;if(f)throw f;return!(!((i=c.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new It}:await ie(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(a=c.session)===null||a===void 0?void 0:a.access_token)!==null&&l!==void 0?l:void 0,xform:Jn})})}catch(r){if(ee(r))return tj(r)&&(await this._removeSession(),await dt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async i=>{const{data:a,error:l}=i;if(l)throw l;if(!a.session)throw new It;const c=a.session;let f=null,p=null;this.flowType==="pkce"&&e.email!=null&&([f,p]=await ns(this.storage,this.storageKey));const{data:g,error:y}=await ie(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:f,code_challenge_method:p}),jwt:c.access_token,xform:Jn});if(y)throw y;return c.user=g.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),this._returnResult({data:{user:c.user},error:null})})}catch(i){if(await dt(this.storage,`${this.storageKey}-code-verifier`),ee(i))return this._returnResult({data:{user:null},error:i});throw i}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new It;const r=Date.now()/1e3;let i=r,a=!0,l=null;const{payload:c}=Gu(e.access_token);if(c.exp&&(i=c.exp,a=i<=r),a){const{data:f,error:p}=await this._callRefreshToken(e.refresh_token);if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!f)return{data:{user:null,session:null},error:null};l=f}else{const{data:f,error:p}=await this._getUser(e.access_token);if(p)throw p;l={access_token:e.access_token,refresh_token:e.refresh_token,user:f.user,token_type:"bearer",expires_in:i-r,expires_at:i},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return this._returnResult({data:{user:l.user,session:l},error:null})}catch(r){if(ee(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var i;if(!e){const{data:c,error:f}=r;if(f)throw f;e=(i=c.session)!==null&&i!==void 0?i:void 0}if(!e?.refresh_token)throw new It;const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{user:null,session:null},error:l}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(ee(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!ht())throw new ra("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ra(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new ig("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ra("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new ig("No code detected.");const{data:C,error:N}=await this._exchangeCodeForSession(e.code);if(N)throw N;const D=new URL(window.location.href);return D.searchParams.delete("code"),window.history.replaceState(window.history.state,"",D.toString()),{data:{session:C.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:a,access_token:l,refresh_token:c,expires_in:f,expires_at:p,token_type:g}=e;if(!l||!f||!c||!g)throw new ra("No session defined in URL");const y=Math.round(Date.now()/1e3),v=parseInt(f);let w=y+v;p&&(w=parseInt(p));const b=w-y;b*1e3<=us&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${v}s`);const S=w-v;y-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,w,y):y-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,w,y);const{data:E,error:A}=await this._getUser(l);if(A)throw A;const k={provider_token:i,provider_refresh_token:a,access_token:l,expires_in:v,expires_at:w,refresh_token:c,token_type:g,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:k,redirectType:e.type},error:null})}catch(i){if(ee(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await xr(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var i;const{data:a,error:l}=r;if(l)return this._returnResult({error:l});const c=(i=a.session)===null||i===void 0?void 0:i.access_token;if(c){const{error:f}=await this.admin.signOut(c,e);if(f&&!(ej(f)&&(f.status===404||f.status===401||f.status===403)))return this._returnResult({error:f})}return e!=="others"&&(await this._removeSession(),await dt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=cj(),i={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:i}}}async _emitInitialSession(e){return await this._useSession(async r=>{var i,a;try{const{data:{session:l},error:c}=r;if(c)throw c;await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,r={}){let i=null,a=null;this.flowType==="pkce"&&([i,a]=await ns(this.storage,this.storageKey,!0));try{return await ie(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(l){if(await dt(this.storage,`${this.storageKey}-code-verifier`),ee(l))return this._returnResult({data:null,error:l});throw l}}async getUserIdentities(){var e;try{const{data:r,error:i}=await this.getUser();if(i)throw i;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(ee(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:i,error:a}=await this._useSession(async l=>{var c,f,p,g,y;const{data:v,error:w}=l;if(w)throw w;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(c=e.options)===null||c===void 0?void 0:c.redirectTo,scopes:(f=e.options)===null||f===void 0?void 0:f.scopes,queryParams:(p=e.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await ie(this.fetch,"GET",b,{headers:this.headers,jwt:(y=(g=v.session)===null||g===void 0?void 0:g.access_token)!==null&&y!==void 0?y:void 0})});if(a)throw a;return ht()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(i?.url),this._returnResult({data:{provider:e.provider,url:i?.url},error:null})}catch(i){if(ee(i))return this._returnResult({data:{provider:e.provider,url:null},error:i});throw i}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var i;try{const{error:a,data:{session:l}}=r;if(a)throw a;const{options:c,provider:f,token:p,access_token:g,nonce:y}=e,v=await ie(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=l?.access_token)!==null&&i!==void 0?i:void 0,body:{provider:f,id_token:p,access_token:g,nonce:y,link_identity:!0,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:rn}),{data:w,error:b}=v;return b?this._returnResult({data:{user:null,session:null},error:b}):!w||!w.session||!w.user?this._returnResult({data:{user:null,session:null},error:new ts}):(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("USER_UPDATED",w.session)),this._returnResult({data:w,error:b}))}catch(a){if(await dt(this.storage,`${this.storageKey}-code-verifier`),ee(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var i,a;const{data:l,error:c}=r;if(c)throw c;return await ie(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(ee(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const i=Date.now();return await pj(async a=>(a>0&&await fj(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await ie(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:rn})),(a,l)=>{const c=200*Math.pow(2,a);return l&&Ku(l)&&Date.now()+c-i<us})}catch(i){if(this._debug(r,"error",i),ee(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const i=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",i),ht()&&!r.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}async _recoverAndRefresh(){var e,r;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const a=await xr(this.storage,this.storageKey);if(a&&this.userStorage){let c=await xr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:a.user},await cs(this.userStorage,this.storageKey+"-user",c)),a.user=(e=c?.user)!==null&&e!==void 0?e:qu()}else if(a&&!a.user&&!a.user){const c=await xr(this.storage,this.storageKey+"-user");c&&c?.user?(a.user=c.user,await dt(this.storage,this.storageKey+"-user"),await cs(this.storage,this.storageKey,a)):a.user=qu()}if(this._debug(i,"session from storage",a),!this._isValidSession(a)){this._debug(i,"session is not valid"),a!==null&&await this._removeSession();return}const l=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Hu;if(this._debug(i,`session has${l?"":" not"} expired with margin of ${Hu}s`),l){if(this.autoRefreshToken&&a.refresh_token){const{error:c}=await this._callRefreshToken(a.refresh_token);c&&(console.error(c),Ku(c)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:f}=await this._getUser(a.access_token);!f&&c?.user?(a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(i,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(i,"error",a),console.error(a);return}finally{this._debug(i,"end")}}async _callRefreshToken(e){var r,i;if(!e)throw new It;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Ea;const{data:l,error:c}=await this._refreshAccessToken(e);if(c)throw c;if(!l.session)throw new It;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const f={data:l.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(l){if(this._debug(a,"error",l),ee(l)){const c={data:null,error:l};return Ku(l)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(c),c}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(l),l}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,r,i=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",r,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:r});const l=[],c=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(e,r)}catch(p){l.push(p)}});if(await Promise.all(c),l.length>0){for(let f=0;f<l.length;f+=1)console.error(l[f]);throw l[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await dt(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),i=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&r.user&&await cs(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const l=cg(a);await cs(this.storage,this.storageKey,l)}else{const a=cg(r);await cs(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await dt(this.storage,this.storageKey),await dt(this.storage,this.storageKey+"-code-verifier"),await dt(this.storage,this.storageKey+"-user"),this.userStorage&&await dt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ht()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),us);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:i}}=r;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((i.expires_at*1e3-e)/us);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${us}ms, refresh threshold is ${Nc} ticks`),a<=Nc&&await this._callRefreshToken(i.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof bv)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ht()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,i){const a=[`provider=${encodeURIComponent(r)}`];if(i?.redirectTo&&a.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&a.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[l,c]=await ns(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(c)}`});a.push(f.toString())}if(i?.queryParams){const l=new URLSearchParams(i.queryParams);a.push(l.toString())}return i?.skipBrowserRedirect&&a.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var i;const{data:a,error:l}=r;return l?this._returnResult({data:null,error:l}):await ie(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=a?.session)===null||i===void 0?void 0:i.access_token})})}catch(r){if(ee(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var i,a;const{data:l,error:c}=r;if(c)return this._returnResult({data:null,error:c});const f=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:p,error:g}=await ie(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(i=l?.session)===null||i===void 0?void 0:i.access_token});return g?this._returnResult({data:null,error:g}):(e.factorType==="totp"&&p.type==="totp"&&(!((a=p?.totp)===null||a===void 0)&&a.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),this._returnResult({data:p,error:null}))})}catch(r){if(ee(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var i;const{data:a,error:l}=r;if(l)return this._returnResult({data:null,error:l});const c=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?Wj(e.webauthn.credential_response):Hj(e.webauthn.credential_response)})}:{code:e.code}),{data:f,error:p}=await ie(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:c,headers:this.headers,jwt:(i=a?.session)===null||i===void 0?void 0:i.access_token});return p?this._returnResult({data:null,error:p}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),this._returnResult({data:f,error:p}))})}catch(r){if(ee(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var i;const{data:a,error:l}=r;if(l)return this._returnResult({data:null,error:l});const c=await ie(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(i=a?.session)===null||i===void 0?void 0:i.access_token});if(c.error)return c;const{data:f}=c;if(f.type!=="webauthn")return{data:f,error:null};switch(f.webauthn.type){case"create":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:Bj(f.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:zj(f.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(ee(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:i}=await this._challenge({factorId:e.factorId});return i?this._returnResult({data:null,error:i}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:i}=await this.getUser();if(i)return{data:null,error:i};const a={all:[],phone:[],totp:[],webauthn:[]};for(const l of(e=r?.factors)!==null&&e!==void 0?e:[])a.all.push(l),l.status==="verified"&&a[l.factor_type].push(l);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:i},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=Gu(i.access_token);let c=null;l.aal&&(c=l.aal);let f=c;((r=(e=i.user.factors)===null||e===void 0?void 0:e.filter(y=>y.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(f="aal2");const g=l.amr||[];return{data:{currentLevel:c,nextLevel:f,currentAuthenticationMethods:g},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;return a?this._returnResult({data:null,error:a}):i?await ie(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:i.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new It})})}catch(r){if(ee(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async i=>{const{data:{session:a},error:l}=i;if(l)return this._returnResult({data:null,error:l});if(!a)return this._returnResult({data:null,error:new It});const c=await ie(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:f=>({data:f,error:null})});return c.data&&c.data.redirect_url&&ht()&&!r?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(i){if(ee(i))return this._returnResult({data:null,error:i});throw i}}async _denyAuthorization(e,r){try{return await this._useSession(async i=>{const{data:{session:a},error:l}=i;if(l)return this._returnResult({data:null,error:l});if(!a)return this._returnResult({data:null,error:new It});const c=await ie(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:f=>({data:f,error:null})});return c.data&&c.data.redirect_url&&ht()&&!r?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(i){if(ee(i))return this._returnResult({data:null,error:i});throw i}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:i}=e;return i?this._returnResult({data:null,error:i}):r?await ie(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new It})})}catch(e){if(ee(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;return a?this._returnResult({data:null,error:a}):i?(await ie(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new It})})}catch(r){if(ee(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let i=r.keys.find(f=>f.kid===e);if(i)return i;const a=Date.now();if(i=this.jwks.keys.find(f=>f.kid===e),i&&this.jwks_cached_at+Xk>a)return i;const{data:l,error:c}=await ie(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=a,i=l.keys.find(f=>f.kid===e),!i)?null:i}async getClaims(e,r={}){try{let i=e;if(!i){const{data:b,error:S}=await this.getSession();if(S||!b.session)return this._returnResult({data:null,error:S});i=b.session.access_token}const{header:a,payload:l,signature:c,raw:{header:f,payload:p}}=Gu(i);r?.allowExpired||bj(l.exp);const g=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!g){const{error:b}=await this.getUser(i);if(b)throw b;return{data:{claims:l,header:a,signature:c},error:null}}const y=_j(a.alg),v=await crypto.subtle.importKey("jwk",g,y,!0,["verify"]);if(!await crypto.subtle.verify(y,v,c,lj(`${f}.${p}`)))throw new Cc("Invalid JWT signature");return{data:{claims:l,header:a,signature:c},error:null}}catch(i){if(ee(i))return this._returnResult({data:null,error:i});throw i}}}Ri.nextInstanceID={};const eN=Ri,tN="2.89.0";let gi="";typeof Deno<"u"?gi="deno":typeof document<"u"?gi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?gi="react-native":gi="node";const nN={"X-Client-Info":`supabase-js-${gi}/${tN}`},rN={headers:nN},sN={schema:"public"},iN={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},oN={};function Oi(t){"@babel/helpers - typeof";return Oi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oi(t)}function aN(t,e){if(Oi(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var i=r.call(t,e);if(Oi(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lN(t){var e=aN(t,"string");return Oi(e)=="symbol"?e:e+""}function uN(t,e,r){return(e=lN(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yg(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,i)}return r}function Be(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yg(Object(r),!0).forEach(function(i){uN(t,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yg(Object(r)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(r,i))})}return t}const cN=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),dN=()=>Headers,hN=(t,e,r)=>{const i=cN(r),a=dN();return async(l,c)=>{var f;const p=(f=await e())!==null&&f!==void 0?f:t;let g=new a(c?.headers);return g.has("apikey")||g.set("apikey",t),g.has("Authorization")||g.set("Authorization",`Bearer ${p}`),i(l,Be(Be({},c),{},{headers:g}))}};function fN(t){return t.endsWith("/")?t:t+"/"}function pN(t,e){var r,i;const{db:a,auth:l,realtime:c,global:f}=t,{db:p,auth:g,realtime:y,global:v}=e,w={db:Be(Be({},p),a),auth:Be(Be({},g),l),realtime:Be(Be({},y),c),storage:{},global:Be(Be(Be({},v),f),{},{headers:Be(Be({},(r=v?.headers)!==null&&r!==void 0?r:{}),(i=f?.headers)!==null&&i!==void 0?i:{})}),accessToken:async()=>""};return t.accessToken?w.accessToken=t.accessToken:delete w.accessToken,w}function mN(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(fN(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var gN=class extends eN{constructor(t){super(t)}},yN=class{constructor(t,e,r){var i,a;this.supabaseUrl=t,this.supabaseKey=e;const l=mN(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,f={db:sN,realtime:oN,auth:Be(Be({},iN),{},{storageKey:c}),global:rN},p=pN(r??{},f);if(this.storageKey=(i=p.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=p.global.headers)!==null&&a!==void 0?a:{},p.accessToken)this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(y,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}});else{var g;this.auth=this._initSupabaseAuthClient((g=p.auth)!==null&&g!==void 0?g:{},this.headers,p.global.fetch)}this.fetch=hN(e,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Be({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.accessToken&&this.accessToken().then(y=>this.realtime.setAuth(y)).catch(y=>console.warn("Failed to set initial Realtime auth token:",y)),this.rest=new QS(new URL("rest/v1",l).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),this.storage=new Gk(this.storageUrl.href,this.headers,this.fetch,r?.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new HS(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,r)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,r;if(t.accessToken)return await t.accessToken();const{data:i}=await t.auth.getSession();return(e=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:i,userStorage:a,storageKey:l,flowType:c,lock:f,debug:p,throwOnError:g},y,v){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new gN({url:this.authUrl.href,headers:Be(Be({},w),y),storageKey:l,autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:i,userStorage:a,flowType:c,lock:f,debug:p,throwOnError:g,fetch:v,hasCustomAuthorizationHeader:Object.keys(this.headers).some(b=>b.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new fk(this.realtimeUrl.href,Be(Be({},t),{},{params:Be(Be({},{apikey:this.supabaseKey}),t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e?.access_token)})}_handleTokenChanged(t,e,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const vN=(t,e,r)=>new yN(t,e,r);function xN(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}xN()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const nr=`https://${ov}.supabase.co/functions/v1/make-server-ee7657b6`,Ca=vN(`https://${ov}.supabase.co`,wd);let Xe=null,Yn=null;async function wN(t,e,r){try{const i=await fetch(`${nr}/auth/signup`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${wd}`},body:JSON.stringify({email:t,password:e,username:r})}),a=await i.json();if(!i.ok)return{success:!1,error:a.error};const{data:l,error:c}=await Ca.auth.signInWithPassword({email:t,password:e});return c||!l.session?{success:!1,error:c?.message||"Failed to sign in after signup"}:(Xe=a.user,Yn=l.session.access_token,localStorage.setItem("soulbound_user",JSON.stringify(Xe)),localStorage.setItem("soulbound_access_token",Yn),console.log(" User signed up successfully:",t),{success:!0,user:Xe})}catch(i){return console.error("Signup error:",i),{success:!1,error:String(i)}}}async function bN(t,e){try{const{data:r,error:i}=await Ca.auth.signInWithPassword({email:t,password:e});return i||!r.session?{success:!1,error:i?.message||"Failed to sign in"}:(Xe={id:r.user.id,email:r.user.email,username:r.user.user_metadata.username||r.user.email.split("@")[0]},Yn=r.session.access_token,localStorage.setItem("soulbound_user",JSON.stringify(Xe)),localStorage.setItem("soulbound_access_token",Yn),console.log(" User signed in successfully:",t),{success:!0,user:Xe})}catch(r){return console.error("Sign in error:",r),{success:!1,error:String(r)}}}async function kv(){try{await Ca.auth.signOut(),Xe=null,Yn=null,localStorage.removeItem("soulbound_user"),localStorage.removeItem("soulbound_access_token"),console.log(" User signed out")}catch(t){console.error("Sign out error:",t)}}async function jv(){try{const{data:{session:t}}=await Ca.auth.getSession();if(t&&t.user)return Xe={id:t.user.id,email:t.user.email,username:t.user.user_metadata.username||t.user.email.split("@")[0]},Yn=t.access_token,localStorage.setItem("soulbound_user",JSON.stringify(Xe)),localStorage.setItem("soulbound_access_token",Yn),console.log(" Active session found:",Xe.email),{isAuthenticated:!0,user:Xe};const e=localStorage.getItem("soulbound_user"),r=localStorage.getItem("soulbound_access_token");return e&&r?(Xe=JSON.parse(e),Yn=r,console.log(" Session restored from localStorage"),{isAuthenticated:!0,user:Xe}):{isAuthenticated:!1}}catch(t){return console.error("Session check error:",t),{isAuthenticated:!1}}}function Pc(){return Xe}function Cr(){return{"Content-Type":"application/json",Authorization:`Bearer ${wd}`}}async function Nv(){if(!Xe)throw new Error("No authenticated user");try{const t=await fetch(`${nr}/user/data?userId=${Xe.id}`,{method:"GET",headers:Cr()});if(!t.ok){const r=await t.json();throw console.error("Error fetching user data:",r),new Error("Failed to fetch user data")}const e=await t.json();return console.log(" Loaded user data from cloud"),e}catch(t){throw console.error("Failed to fetch user data:",t),t}}async function Ac(t){if(!Xe){console.warn("Cannot save: No authenticated user");return}try{const e=await fetch(`${nr}/user/save`,{method:"POST",headers:Cr(),body:JSON.stringify({userId:Xe.id,...t})});if(!e.ok){const r=await e.json();console.error("Error saving user progress:",r);return}console.log(" Auto-saved progress to cloud")}catch(e){console.error("Failed to save user progress:",e)}}async function Rc(){try{const t=await fetch(`${nr}/global/config`,{method:"GET",headers:Cr()});if(!t.ok){const e=await t.json();throw console.error("Error fetching global config:",e),new Error("Failed to fetch global config")}return await t.json()}catch(t){throw console.error("Failed to fetch global config:",t),t}}async function Nd(t,e){try{const r=await fetch(`${nr}/global/narratives`,{method:"POST",headers:Cr(),body:JSON.stringify({prologue:t,epilogue:e})});if(!r.ok){const i=await r.json();throw console.error("Error saving narratives:",i),new Error("Failed to save narratives")}}catch(r){console.error("Failed to save narratives:",r)}}async function Td(t){try{const e=await fetch(`${nr}/global/quests`,{method:"POST",headers:Cr(),body:JSON.stringify({quests:t})});if(!e.ok){const r=await e.json();throw console.error("Error saving global quest templates:",r),new Error("Failed to save global quest templates")}console.log(" Global quest templates saved")}catch(e){console.error("Failed to save global quest templates:",e)}}async function Ed(t){try{const e=await fetch(`${nr}/global/inventory`,{method:"POST",headers:Cr(),body:JSON.stringify({inventory:t})});if(!e.ok){const r=await e.json();throw console.error("Error saving global inventory templates:",r),new Error("Failed to save global inventory templates")}console.log(" Global inventory templates saved")}catch(e){console.error("Failed to save global inventory templates:",e)}}async function Tv(){if(!Xe)throw new Error("No authenticated user");try{const t=await fetch(`${nr}/user/reset`,{method:"POST",headers:Cr(),body:JSON.stringify({userId:Xe.id})});if(!t.ok){const e=await t.json();throw console.error("Error resetting user data:",e),new Error("Failed to reset user data")}console.log(" User data reset in cloud")}catch(t){throw console.error("Failed to reset user data:",t),t}}const _N=Object.freeze(Object.defineProperty({__proto__:null,checkSession:jv,fetchGlobalConfig:Rc,fetchUserData:Nv,getCurrentUser:Pc,resetUserData:Tv,saveGlobalInventory:Ed,saveGlobalQuests:Td,saveNarratives:Nd,saveUserProgress:Ac,signIn:bN,signOut:kv,signUp:wN},Symbol.toStringTag,{value:"Module"}));function SN({quests:t,setQuests:e,inventory:r,setInventory:i,prologueText:a,setPrologueText:l,epilogueText:c,setEpilogueText:f,messages:p,setMessages:g,prologueMusicUrl:y,setPrologueMusicUrl:v,epilogueMusicUrl:w,setEpilogueMusicUrl:b,onExit:S}){const[E,A]=M.useState("quests"),[k,C]=M.useState(!1),[N,D]=M.useState(""),L=async()=>{C(!0);try{console.log(" Manually saving all global templates..."),console.log("  - Quests:",t.length),console.log("  - Inventory:",r.length),await Promise.all([Td(t),Ed(r),Nd(a,c)]);const H=new Date().toLocaleTimeString();D(H),console.log(" All global templates saved successfully!"),alert(` All changes saved successfully!

${t.length} quests, ${r.length} items, and narratives are now live for all users.`)}catch(H){console.error(" Failed to save global templates:",H),alert(" Failed to save changes. Please check the console for details.")}finally{C(!1)}},B=()=>{const H={quests:t,inventory:r,prologueText:a,epilogueText:c,messages:p,prologueMusicUrl:y,epilogueMusicUrl:w},se=new Blob([JSON.stringify(H,null,2)],{type:"application/json"}),me=URL.createObjectURL(se),_e=document.createElement("a");_e.href=me,_e.download="teyvat-data.json",_e.click()},K=()=>{const H=document.createElement("input");H.type="file",H.accept="application/json",H.onchange=se=>{const me=se.target.files?.[0];if(me){const _e=new FileReader;_e.onload=We=>{try{const de=JSON.parse(We.target?.result);de.quests&&e(de.quests),de.inventory&&i(de.inventory),de.prologueText&&l(de.prologueText),de.epilogueText&&f(de.epilogueText),de.messages&&g(de.messages),de.prologueMusicUrl&&v(de.prologueMusicUrl),de.epilogueMusicUrl&&b(de.epilogueMusicUrl),alert("Data imported successfully!")}catch{alert("Error importing data. Please check the file format.")}},_e.readAsText(me)}},H.click()};return d.jsxs("div",{className:"w-full h-full bg-[#1a1a2e] flex flex-col",children:[d.jsxs("div",{className:"bg-gradient-to-r from-[#e6be8a] to-[#d4a574] p-5 flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("button",{onClick:S,className:"w-10 h-10 rounded-full bg-white/20 flex items-center justify-center hover:bg-white/30 transition-colors",children:d.jsx(bg,{className:"w-5 h-5 text-white"})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-[rgb(30,22,62)]",children:"Admin Mode"}),d.jsx("p",{className:"text-xs text-[#1E163E]",children:"Content Management"})]})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:K,className:"w-10 h-10 rounded-full bg-white/20 flex items-center justify-center hover:bg-white/30 transition-colors",title:"Import Data",children:d.jsx($w,{className:"w-5 h-5 text-white"})}),d.jsx("button",{onClick:B,className:"w-10 h-10 rounded-full bg-white/20 flex items-center justify-center hover:bg-white/30 transition-colors",title:"Export Data",children:d.jsx(Qx,{className:"w-5 h-5 text-white"})})]})]}),d.jsxs("div",{className:"flex border-b border-white/10 bg-[#16213e]",children:[d.jsx("button",{onClick:()=>A("quests"),className:`flex-1 py-3 px-4 transition-colors ${E==="quests"?"text-[#4a90e2] border-b-2 border-[#4a90e2]":"text-[#a8a8b8]"}`,children:"Quests"}),d.jsx("button",{onClick:()=>A("inventory"),className:`flex-1 py-3 px-4 transition-colors ${E==="inventory"?"text-[#4a90e2] border-b-2 border-[#4a90e2]":"text-[#a8a8b8]"}`,children:"Inventory Items"}),d.jsx("button",{onClick:()=>A("narratives"),className:`flex-1 py-3 px-4 transition-colors ${E==="narratives"?"text-[#4a90e2] border-b-2 border-[#4a90e2]":"text-[#a8a8b8]"}`,children:"Narratives"}),d.jsx("button",{onClick:()=>A("messages"),className:`flex-1 py-3 px-4 transition-colors ${E==="messages"?"text-[#4a90e2] border-b-2 border-[#4a90e2]":"text-[#a8a8b8]"}`,children:"Messages"})]}),d.jsxs("div",{className:"flex-1 overflow-y-auto",children:[E==="quests"&&d.jsx(kN,{quests:t,setQuests:e}),E==="inventory"&&d.jsx(NN,{inventory:r,setInventory:i}),E==="narratives"&&d.jsx(TN,{prologueText:a,setPrologueText:l,epilogueText:c,setEpilogueText:f,prologueMusicUrl:y,setPrologueMusicUrl:v,epilogueMusicUrl:w,setEpilogueMusicUrl:b}),E==="messages"&&d.jsx(EN,{messages:p,setMessages:g})]}),d.jsxs("div",{className:"p-5 bg-[#16213e] border-t border-white/10",children:[d.jsxs("button",{onClick:L,className:`w-full bg-gradient-to-r from-[#4a90e2] to-[#7b68ee] rounded-xl p-4 flex items-center justify-center gap-2 text-white hover:scale-[1.02] transition-transform ${k?"opacity-50 cursor-not-allowed":""}`,disabled:k,children:[d.jsx(ba,{className:"w-5 h-5"}),k?"Saving...":"Save All Changes"]}),N&&d.jsxs("p",{className:"text-[#a8a8b8] text-xs mt-2 text-center",children:["Last saved: ",N]})]})]})}function kN({quests:t,setQuests:e}){const[r,i]=M.useState(null),[a,l]=M.useState(!1),c=()=>{const y={id:Math.max(...t.map(v=>v.id),0)+1,title:"New Quest",description:"Quest description",location:"Location",rewards:["Primogems x50"],rewardTypes:["currency"],progress:0,difficulty:3,type:"side",completed:!1,tasks:[{id:1,description:"Task 1",completed:!1}],subQuests:[],bonusRewards:[]};i(y),l(!0)},f=()=>{r&&(a?(e(y=>[...y,r]),l(!1)):e(y=>y.map(v=>v.id===r.id?r:v)),i(null))},p=y=>{confirm("Are you sure you want to delete this quest?")&&e(v=>v.filter(w=>w.id!==y))},g=()=>{i(null),l(!1)};return r?d.jsx(jN,{quest:r,setQuest:i,onSave:f,onCancel:g,allQuests:t}):d.jsxs("div",{className:"p-5 space-y-3",children:[d.jsxs("button",{onClick:c,className:"w-full bg-gradient-to-r from-[#4a90e2] to-[#7b68ee] rounded-xl p-4 flex items-center justify-center gap-2 text-white hover:scale-[1.02] transition-transform",children:[d.jsx(ys,{className:"w-5 h-5"}),"Add New Quest"]}),t.map(y=>d.jsx("div",{className:"bg-[#16213e] rounded-xl p-4 border border-white/10",children:d.jsxs("div",{className:"flex items-start justify-between mb-2",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("h3",{className:"text-[#e8e8e8] mb-1",children:y.title}),d.jsx("p",{className:"text-[#a8a8b8] text-xs mb-2",children:y.description}),d.jsxs("div",{className:"flex gap-2 flex-wrap",children:[d.jsx("span",{className:"text-[10px] bg-[#4a90e2]/20 text-[#4a90e2] px-2 py-1 rounded",children:y.type}),d.jsxs("span",{className:"text-[10px] bg-[#7b68ee]/20 text-[#7b68ee] px-2 py-1 rounded",children:[(y.tasks||[]).length," tasks"]}),d.jsxs("span",{className:"text-[10px] bg-[#f5a623]/20 text-[#f5a623] px-2 py-1 rounded",children:[(y.rewards||[]).length," rewards"]}),y.subQuests&&y.subQuests.length>0&&d.jsxs("span",{className:"text-[10px] bg-[#ef4444]/20 text-[#ef4444] px-2 py-1 rounded",children:[y.subQuests.length," sub-quests"]})]})]}),d.jsxs("div",{className:"flex gap-2 ml-3",children:[d.jsx("button",{onClick:()=>i(y),className:"w-8 h-8 rounded-full bg-[#4a90e2]/20 flex items-center justify-center hover:bg-[#4a90e2]/30 transition-colors",children:d.jsx(Mc,{className:"w-4 h-4 text-[#4a90e2]"})}),d.jsx("button",{onClick:()=>p(y.id),className:"w-8 h-8 rounded-full bg-[#ef4444]/20 flex items-center justify-center hover:bg-[#ef4444]/30 transition-colors",children:d.jsx(Qn,{className:"w-4 h-4 text-[#ef4444]"})})]})]})},y.id))]})}function jN({quest:t,setQuest:e,onSave:r,onCancel:i,allQuests:a}){const l=()=>{const k={id:Math.max(...(t.tasks||[]).map(C=>C.id),0)+1,description:"New task",completed:!1};e({...t,tasks:[...t.tasks||[],k]})},c=k=>{e({...t,tasks:(t.tasks||[]).filter(C=>C.id!==k)})},f=(k,C)=>{e({...t,tasks:(t.tasks||[]).map(N=>N.id===k?{...N,description:C}:N)})},p=()=>{e({...t,rewards:[...t.rewards||[],"New Reward x1"],rewardTypes:[...t.rewardTypes||[],"currency"]})},g=k=>{e({...t,rewards:(t.rewards||[]).filter((C,N)=>N!==k),rewardTypes:(t.rewardTypes||[]).filter((C,N)=>N!==k)})},y=(k,C)=>{e({...t,rewards:(t.rewards||[]).map((N,D)=>D===k?C:N)})},v=(k,C)=>{const N=[...t.rewardTypes||[]];N[k]=C,e({...t,rewardTypes:N})},w=()=>{e({...t,bonusRewards:[...t.bonusRewards||[],"Bonus Reward x1"],bonusRewardTypes:[...t.bonusRewardTypes||[],"currency"]})},b=k=>{e({...t,bonusRewards:t.bonusRewards?.filter((C,N)=>N!==k),bonusRewardTypes:t.bonusRewardTypes?.filter((C,N)=>N!==k)})},S=(k,C)=>{e({...t,bonusRewards:t.bonusRewards?.map((N,D)=>D===k?C:N)})},E=(k,C)=>{const N=[...t.bonusRewardTypes||[]];N[k]=C,e({...t,bonusRewardTypes:N})},A=k=>{e({...t,subQuests:t.subQuests?.filter(C=>C!==k)})};return d.jsxs("div",{className:"p-5 space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-[#e8e8e8]",children:"Edit Quest"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:i,className:"px-4 py-2 rounded-lg bg-[#16213e] text-[#a8a8b8] hover:bg-[#1a1a2e] transition-colors",children:"Cancel"}),d.jsxs("button",{onClick:r,className:"px-4 py-2 rounded-lg bg-gradient-to-r from-[#4a90e2] to-[#7b68ee] text-white hover:scale-[1.02] transition-transform flex items-center gap-2",children:[d.jsx(ba,{className:"w-4 h-4"}),"Save"]})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-[#a8a8b8] text-xs mb-1 block",children:"Title"}),d.jsx("input",{type:"text",value:t.title,onChange:k=>e({...t,title:k.target.value}),className:"w-full bg-[#16213e] border border-white/10 rounded-lg p-3 text-[#e8e8e8] focus:outline-none focus:border-[#4a90e2]"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-[#a8a8b8] text-xs mb-1 block",children:"Description"}),d.jsx("textarea",{value:t.description,onChange:k=>e({...t,description:k.target.value}),className:"w-full bg-[#16213e] border border-white/10 rounded-lg p-3 text-[#e8e8e8] focus:outline-none focus:border-[#4a90e2] min-h-[80px]"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-[#a8a8b8] text-xs mb-1 block",children:"Lore (Background Story)"}),d.jsx("textarea",{value:t.lore||"",onChange:k=>e({...t,lore:k.target.value}),className:"w-full bg-[#16213e] border border-white/10 rounded-lg p-3 text-[#e8e8e8] focus:outline-none focus:border-[#4a90e2] min-h-[120px]",placeholder:"Enter the deep lore and background story for this quest..."})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-[#a8a8b8] text-xs mb-1 block",children:"Location"}),d.jsx("input",{type:"text",value:t.location,onChange:k=>e({...t,location:k.target.value}),className:"w-full bg-[#16213e] border border-white/10 rounded-lg p-3 text-[#e8e8e8] focus:outline-none focus:border-[#4a90e2]"})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-[#a8a8b8] text-xs mb-1 block",children:"Type"}),d.jsxs("select",{value:t.type,onChange:k=>e({...t,type:k.target.value}),className:"w-full bg-[#16213e] border border-white/10 rounded-lg p-3 text-[#e8e8e8] focus:outline-none focus:border-[#4a90e2]",children:[d.jsx("option",{value:"main",children:"Main"}),d.jsx("option",{value:"side",children:"Side"}),d.jsx("option",{value:"commission",children:"Commission"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-[#a8a8b8] text-xs mb-1 block",children:"Difficulty (1-5)"}),d.jsx("input",{type:"number",min:"1",max:"5",value:t.difficulty,onChange:k=>{const C=k.target.value;if(C==="")e({...t,difficulty:1});else{const N=parseInt(C);!isNaN(N)&&N>=1&&N<=5&&e({...t,difficulty:N})}},className:"w-full bg-[#16213e] border border-white/10 rounded-lg p-3 text-[#e8e8e8] focus:outline-none focus:border-[#4a90e2]"})]})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("label",{className:"text-[#a8a8b8] text-xs",children:"Tasks"}),d.jsxs("button",{onClick:l,className:"text-[#4a90e2] text-xs flex items-center gap-1 hover:text-[#7b68ee]",children:[d.jsx(ys,{className:"w-3 h-3"}),"Add Task"]})]}),d.jsx("div",{className:"space-y-2",children:(t.tasks||[]).map((k,C)=>d.jsxs("div",{className:"flex gap-2",children:[d.jsx("input",{type:"text",value:k.description,onChange:N=>f(k.id,N.target.value),className:"flex-1 bg-[#16213e] border border-white/10 rounded-lg p-2 text-[#e8e8e8] text-sm focus:outline-none focus:border-[#4a90e2]",placeholder:`Task ${C+1}`}),d.jsx("button",{onClick:()=>c(k.id),className:"w-8 h-8 rounded-lg bg-[#ef4444]/20 flex items-center justify-center hover:bg-[#ef4444]/30 transition-colors",children:d.jsx(Qn,{className:"w-3 h-3 text-[#ef4444]"})})]},k.id))})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("label",{className:"text-[#a8a8b8] text-xs",children:"Rewards"}),d.jsxs("button",{onClick:p,className:"text-[#4a90e2] text-xs flex items-center gap-1 hover:text-[#7b68ee]",children:[d.jsx(ys,{className:"w-3 h-3"}),"Add Reward"]})]}),d.jsx("div",{className:"space-y-2",children:(t.rewards||[]).map((k,C)=>d.jsxs("div",{className:"flex gap-2",children:[d.jsx("input",{type:"text",value:k,onChange:N=>y(C,N.target.value),className:"flex-1 bg-[#16213e] border border-white/10 rounded-lg p-2 text-[#e8e8e8] text-sm focus:outline-none focus:border-[#4a90e2]",placeholder:"Item Name x Amount"}),d.jsxs("select",{value:(t.rewardTypes||[])[C]||"currency",onChange:N=>v(C,N.target.value),className:"bg-[#16213e] border border-white/10 rounded-lg p-2 text-[#e8e8e8] text-sm focus:outline-none focus:border-[#4a90e2]",children:[d.jsx("option",{value:"currency",children:"Currency"}),d.jsx("option",{value:"weapon",children:"Weapon"}),d.jsx("option",{value:"artifact",children:"Artifact"}),d.jsx("option",{value:"material",children:"Material"})]}),d.jsx("button",{onClick:()=>g(C),className:"w-8 h-8 rounded-lg bg-[#ef4444]/20 flex items-center justify-center hover:bg-[#ef4444]/30 transition-colors",children:d.jsx(Qn,{className:"w-3 h-3 text-[#ef4444]"})})]},C))})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("label",{className:"text-[#a8a8b8] text-xs",children:"Bonus Rewards"}),d.jsxs("button",{onClick:w,className:"text-[#4a90e2] text-xs flex items-center gap-1 hover:text-[#7b68ee]",children:[d.jsx(ys,{className:"w-3 h-3"}),"Add Bonus Reward"]})]}),d.jsx("div",{className:"space-y-2",children:t.bonusRewards?.map((k,C)=>d.jsxs("div",{className:"flex gap-2",children:[d.jsx("input",{type:"text",value:k,onChange:N=>S(C,N.target.value),className:"flex-1 bg-[#16213e] border border-white/10 rounded-lg p-2 text-[#e8e8e8] text-sm focus:outline-none focus:border-[#4a90e2]",placeholder:"Item Name x Amount"}),d.jsxs("select",{value:t.bonusRewardTypes?.[C]||"currency",onChange:N=>E(C,N.target.value),className:"w-20 bg-[#16213e] border border-white/10 rounded-lg p-2 text-[#e8e8e8] text-sm focus:outline-none focus:border-[#4a90e2]",children:[d.jsx("option",{value:"currency",children:"Currency"}),d.jsx("option",{value:"weapon",children:"Weapon"}),d.jsx("option",{value:"artifact",children:"Artifact"}),d.jsx("option",{value:"material",children:"Material"})]}),d.jsx("button",{onClick:()=>b(C),className:"w-8 h-8 rounded-lg bg-[#ef4444]/20 flex items-center justify-center hover:bg-[#ef4444]/30 transition-colors",children:d.jsx(Qn,{className:"w-3 h-3 text-[#ef4444]"})})]},C))})]}),t.type==="main"&&d.jsxs("div",{children:[d.jsx("div",{className:"flex items-center justify-between mb-2",children:d.jsx("label",{className:"text-[#a8a8b8] text-xs",children:"Embedded Side Quests"})}),d.jsxs("select",{onChange:k=>{const C=parseInt(k.target.value);C&&!t.subQuests?.includes(C)&&e({...t,subQuests:[...t.subQuests||[],C]}),k.target.value=""},className:"w-full bg-[#16213e] border border-white/10 rounded-lg p-3 text-[#e8e8e8] focus:outline-none focus:border-[#4a90e2] mb-2",defaultValue:"",children:[d.jsx("option",{value:"",disabled:!0,children:"Select a side quest..."}),a.filter(k=>k.type==="side"&&k.id!==t.id&&!t.subQuests?.includes(k.id)).map(k=>d.jsxs("option",{value:k.id,children:[k.title," (ID: ",k.id,")"]},k.id))]}),d.jsxs("div",{className:"space-y-2",children:[t.subQuests?.map(k=>{const C=a.find(N=>N.id===k);return d.jsxs("div",{className:"flex gap-2 items-center bg-[#1a1a2e]/50 rounded-lg p-3",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("p",{className:"text-[#e8e8e8] text-sm",children:C?.title||`Quest ID: ${k}`}),d.jsx("p",{className:"text-[#a8a8b8] text-xs",children:C?.description||"Quest not found"})]}),d.jsx("button",{onClick:()=>A(k),className:"w-8 h-8 rounded-lg bg-[#ef4444]/20 flex items-center justify-center hover:bg-[#ef4444]/30 transition-colors",children:d.jsx(Qn,{className:"w-3 h-3 text-[#ef4444]"})})]},k)}),(!t.subQuests||t.subQuests.length===0)&&d.jsx("p",{className:"text-[#a8a8b8] text-xs italic",children:"No sub-quests added yet"})]})]})]})]})}function NN({inventory:t,setInventory:e}){const[r,i]=M.useState(null),a=M.useRef(null),l=()=>{const g={id:Math.max(...t.map(y=>y.id),0)+1,name:"New Item",type:"material",rarity:3,quantity:1,description:"Item description",image:"https://images.unsplash.com/photo-1743448111530-3654e7b66f26?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxtYWdpY2FsJTIwY3J5c3RhbCUyMGdlbXxlbnwxfHx8fDE3NjUxMTYyNjF8MA&ixlib=rb-4.1.0&q=80&w=1080"};e(y=>[...y,g]),i(g)},c=()=>{r&&(e(g=>g.map(y=>y.id===r.id?r:y)),i(null))},f=g=>{confirm("Are you sure you want to delete this item?")&&e(y=>y.filter(v=>v.id!==g))},p=g=>{const y=g.target.files?.[0];if(y){const v=new FileReader;v.onload=w=>{r&&i({...r,image:w.target?.result})},v.readAsDataURL(y)}};return r?d.jsxs("div",{className:"p-5 space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-[#e8e8e8]",children:"Edit Item"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>i(null),className:"px-4 py-2 rounded-lg bg-[#16213e] text-[#a8a8b8] hover:bg-[#1a1a2e] transition-colors",children:"Cancel"}),d.jsxs("button",{onClick:c,className:"px-4 py-2 rounded-lg bg-gradient-to-r from-[#4a90e2] to-[#7b68ee] text-white hover:scale-[1.02] transition-transform flex items-center gap-2",children:[d.jsx(ba,{className:"w-4 h-4"}),"Save"]})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-[#a8a8b8] text-xs mb-1 block",children:"Name"}),d.jsx("input",{type:"text",value:r.name,onChange:g=>i({...r,name:g.target.value}),className:"w-full bg-[#16213e] border border-white/10 rounded-lg p-3 text-[#e8e8e8] focus:outline-none focus:border-[#4a90e2]"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-[#a8a8b8] text-xs mb-1 block",children:"Description"}),d.jsx("textarea",{value:r.description,onChange:g=>i({...r,description:g.target.value}),className:"w-full bg-[#16213e] border border-white/10 rounded-lg p-3 text-[#e8e8e8] focus:outline-none focus:border-[#4a90e2] min-h-[80px]"})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-[#a8a8b8] text-xs mb-1 block",children:"Type"}),d.jsxs("select",{value:r.type,onChange:g=>i({...r,type:g.target.value}),className:"w-full bg-[#16213e] border border-white/10 rounded-lg p-3 text-[#e8e8e8] focus:outline-none focus:border-[#4a90e2]",children:[d.jsx("option",{value:"weapon",children:"Weapon"}),d.jsx("option",{value:"artifact",children:"Artifact"}),d.jsx("option",{value:"material",children:"Material"}),d.jsx("option",{value:"currency",children:"Currency"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-[#a8a8b8] text-xs mb-1 block",children:"Rarity (1-5)"}),d.jsx("input",{type:"number",min:"1",max:"5",value:r.rarity,onChange:g=>i({...r,rarity:parseInt(g.target.value)||1}),className:"w-full bg-[#16213e] border border-white/10 rounded-lg p-3 text-[#e8e8e8] focus:outline-none focus:border-[#4a90e2]"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-[#a8a8b8] text-xs mb-1 block",children:"Quantity"}),d.jsx("input",{type:"number",min:"0",value:r.quantity||0,onChange:g=>{const y=g.target.value;if(y==="")i({...r,quantity:0});else{const v=parseInt(y);!isNaN(v)&&v>=0&&i({...r,quantity:v})}},className:"w-full bg-[#16213e] border border-white/10 rounded-lg p-3 text-[#e8e8e8] focus:outline-none focus:border-[#4a90e2]"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-[#a8a8b8] text-xs mb-1 block",children:"Image URL or Upload"}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("input",{type:"text",value:r.image,onChange:g=>i({...r,image:g.target.value}),className:"w-full bg-[#16213e] border border-white/10 rounded-lg p-3 text-[#e8e8e8] focus:outline-none focus:border-[#4a90e2]",placeholder:"https://..."}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("input",{type:"file",accept:"image/*,image/svg+xml",ref:a,onChange:p,className:"hidden"}),d.jsxs("button",{onClick:()=>a.current?.click(),className:"px-4 py-2 rounded-lg bg-gradient-to-r from-[#4a90e2] to-[#7b68ee] text-white hover:scale-[1.02] transition-transform flex items-center gap-2 text-sm",children:[d.jsx(rw,{className:"w-4 h-4"}),"Upload Image/SVG"]}),d.jsx("span",{className:"text-[#a8a8b8] text-xs",children:"Accepts PNG, JPG, SVG"})]}),r.image&&d.jsxs("div",{className:"mt-2",children:[d.jsx("p",{className:"text-[#a8a8b8] text-xs mb-1",children:"Preview:"}),d.jsx("img",{src:r.image,alt:"Preview",className:"w-20 h-20 object-cover rounded-lg border border-white/10"})]})]})]})]})]}):d.jsxs("div",{className:"p-5 space-y-3",children:[d.jsxs("button",{onClick:l,className:"w-full bg-gradient-to-r from-[#4a90e2] to-[#7b68ee] rounded-xl p-4 flex items-center justify-center gap-2 text-white hover:scale-[1.02] transition-transform",children:[d.jsx(ys,{className:"w-5 h-5"}),"Add New Item"]}),t.map(g=>d.jsx("div",{className:"bg-[#16213e] rounded-xl p-4 border border-white/10",children:d.jsxs("div",{className:"flex items-start justify-between",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("h3",{className:"text-[#e8e8e8] mb-1",children:g.name}),d.jsx("p",{className:"text-[#a8a8b8] text-xs mb-2",children:g.description}),d.jsxs("div",{className:"flex gap-2 flex-wrap",children:[d.jsx("span",{className:"text-[10px] bg-[#4a90e2]/20 text-[#4a90e2] px-2 py-1 rounded",children:g.type}),d.jsxs("span",{className:"text-[10px] bg-[#f5a623]/20 text-[#f5a623] px-2 py-1 rounded",children:[g.rarity,""]}),g.quantity&&d.jsxs("span",{className:"text-[10px] bg-[#7b68ee]/20 text-[#7b68ee] px-2 py-1 rounded",children:["",g.quantity]})]})]}),d.jsxs("div",{className:"flex gap-2 ml-3",children:[d.jsx("button",{onClick:()=>i(g),className:"w-8 h-8 rounded-full bg-[#4a90e2]/20 flex items-center justify-center hover:bg-[#4a90e2]/30 transition-colors",children:d.jsx(Mc,{className:"w-4 h-4 text-[#4a90e2]"})}),d.jsx("button",{onClick:()=>f(g.id),className:"w-8 h-8 rounded-full bg-[#ef4444]/20 flex items-center justify-center hover:bg-[#ef4444]/30 transition-colors",children:d.jsx(Qn,{className:"w-4 h-4 text-[#ef4444]"})})]})]})},g.id))]})}function TN({prologueText:t,setPrologueText:e,epilogueText:r,setEpilogueText:i,prologueMusicUrl:a,setPrologueMusicUrl:l,epilogueMusicUrl:c,setEpilogueMusicUrl:f}){const[p,g]=M.useState(!1),[y,v]=M.useState(!1),w=()=>{confirm("This will reset the cutscene flag so the prologue plays again on next app load. Continue?")&&(localStorage.removeItem("soulbound_seen_cutscene"),alert("Cutscene flag cleared! The prologue will play on next app load."))};return d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"p-5 space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-[#e8e8e8]",children:"Edit Narratives"}),d.jsx("button",{onClick:w,className:"px-3 py-1.5 rounded-lg bg-gradient-to-r from-[#ef4444] to-[#dc2626] text-white text-xs hover:scale-[1.02] transition-transform",children:"Reset Cutscene Flag"})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between mb-1",children:[d.jsx("label",{className:"text-[#a8a8b8] text-xs",children:"Prologue Text"}),d.jsx("button",{onClick:()=>g(!0),className:"px-3 py-1.5 rounded-lg bg-gradient-to-r from-[#4a90e2] to-[#7b68ee] text-white text-xs hover:scale-[1.02] transition-transform",children:"Preview Prologue"})]}),d.jsx("textarea",{value:t,onChange:b=>e(b.target.value),className:"w-full bg-[#16213e] border border-white/10 rounded-lg p-3 text-[#e8e8e8] focus:outline-none focus:border-[#4a90e2] min-h-[150px] font-mono text-sm",placeholder:"Use double line breaks to separate sections..."}),d.jsx("p",{className:"text-[#a8a8b8] text-xs mt-1 italic",children:"Tip: Use double line breaks (press Enter twice) to separate sections. Each section will appear on its own screen."})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between mb-1",children:[d.jsx("label",{className:"text-[#a8a8b8] text-xs",children:"Epilogue Text"}),d.jsx("button",{onClick:()=>v(!0),className:"px-3 py-1.5 rounded-lg bg-gradient-to-r from-[#e6be8a] to-[#d4a574] text-white text-xs hover:scale-[1.02] transition-transform",children:"Preview Epilogue"})]}),d.jsx("textarea",{value:r,onChange:b=>i(b.target.value),className:"w-full bg-[#16213e] border border-white/10 rounded-lg p-3 text-[#e8e8e8] focus:outline-none focus:border-[#4a90e2] min-h-[150px] font-mono text-sm",placeholder:"Use double line breaks to separate sections..."}),d.jsx("p",{className:"text-[#a8a8b8] text-xs mt-1 italic",children:"Tip: Use double line breaks (press Enter twice) to separate sections. Each section will appear on its own screen."})]}),d.jsxs("div",{children:[d.jsx("div",{className:"flex items-center justify-between mb-1",children:d.jsx("label",{className:"text-[#a8a8b8] text-xs",children:"Prologue Music URL"})}),d.jsx("input",{type:"text",value:a,onChange:b=>l(b.target.value),className:"w-full bg-[#16213e] border border-white/10 rounded-lg p-3 text-[#e8e8e8] focus:outline-none focus:border-[#4a90e2]",placeholder:"https://..."})]}),d.jsxs("div",{children:[d.jsx("div",{className:"flex items-center justify-between mb-1",children:d.jsx("label",{className:"text-[#a8a8b8] text-xs",children:"Epilogue Music URL"})}),d.jsx("input",{type:"text",value:c,onChange:b=>f(b.target.value),className:"w-full bg-[#16213e] border border-white/10 rounded-lg p-3 text-[#e8e8e8] focus:outline-none focus:border-[#4a90e2]",placeholder:"https://..."})]})]})]}),p&&d.jsx("div",{className:"fixed inset-0 z-50",children:d.jsx(Qu,{onComplete:()=>g(!1),prologueText:t,prologueMusicUrl:a})}),y&&d.jsx(iv,{onClose:()=>v(!1),epilogueText:r,epilogueMusicUrl:c})]})}function EN({messages:t,setMessages:e}){const[r,i]=M.useState(null),[a,l]=M.useState(!1),c=()=>{const v=new Date().toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}),w={id:Math.max(...t.map(b=>b.id),0)+1,title:"New Message",content:"Message content goes here...",sender:"System Admin",timestamp:v,read:!1,priority:"normal"};i(w),l(!0)},f=()=>{r&&(a?(e(y=>[...y,r]),l(!1)):e(y=>y.map(v=>v.id===r.id?r:v)),i(null))},p=y=>{confirm("Are you sure you want to delete this message?")&&e(v=>v.filter(w=>w.id!==y))},g=()=>{i(null),l(!1)};return r?d.jsx(CN,{message:r,setMessage:i,onSave:f,onCancel:g}):d.jsxs("div",{className:"p-5 space-y-3",children:[d.jsxs("button",{onClick:c,className:"w-full bg-gradient-to-r from-[#4a90e2] to-[#7b68ee] rounded-xl p-4 flex items-center justify-center gap-2 text-white hover:scale-[1.02] transition-transform",children:[d.jsx(ys,{className:"w-5 h-5"}),"Add New Message"]}),t.length===0&&d.jsxs("div",{className:"text-center py-8",children:[d.jsx("p",{className:"text-[#a8a8b8]",children:"No messages yet"}),d.jsx("p",{className:"text-[#a8a8b8]/60 text-xs mt-2",children:"Create a message to send to users"})]}),t.map(y=>d.jsx("div",{className:"bg-[#16213e] rounded-xl p-4 border border-white/10",children:d.jsxs("div",{className:"flex items-start justify-between mb-2",children:[d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[d.jsx("h3",{className:"text-[#e8e8e8]",children:y.title}),!y.read&&d.jsx("span",{className:"w-2 h-2 bg-[#4a90e2] rounded-full"})]}),d.jsx("p",{className:"text-[#a8a8b8] text-xs mb-2 line-clamp-2",children:y.content}),d.jsxs("div",{className:"flex gap-2 flex-wrap",children:[d.jsxs("span",{className:"text-[10px] bg-[#4a90e2]/20 text-[#4a90e2] px-2 py-1 rounded",children:["From: ",y.sender]}),d.jsx("span",{className:"text-[10px] bg-[#7b68ee]/20 text-[#7b68ee] px-2 py-1 rounded",children:y.timestamp}),d.jsx("span",{className:`text-[10px] px-2 py-1 rounded ${y.priority==="high"?"bg-[#ef4444]/20 text-[#ef4444]":y.priority==="normal"?"bg-[#f5a623]/20 text-[#f5a623]":"bg-[#a8a8b8]/20 text-[#a8a8b8]"}`,children:y.priority})]})]}),d.jsxs("div",{className:"flex gap-2 ml-3",children:[d.jsx("button",{onClick:()=>i(y),className:"w-8 h-8 rounded-full bg-[#4a90e2]/20 flex items-center justify-center hover:bg-[#4a90e2]/30 transition-colors",children:d.jsx(Mc,{className:"w-4 h-4 text-[#4a90e2]"})}),d.jsx("button",{onClick:()=>p(y.id),className:"w-8 h-8 rounded-full bg-[#ef4444]/20 flex items-center justify-center hover:bg-[#ef4444]/30 transition-colors",children:d.jsx(Qn,{className:"w-4 h-4 text-[#ef4444]"})})]})]})},y.id))]})}function CN({message:t,setMessage:e,onSave:r,onCancel:i}){return d.jsxs("div",{className:"p-5 space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-[#e8e8e8]",children:"Edit Message"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:i,className:"px-4 py-2 rounded-lg bg-[#16213e] text-[#a8a8b8] hover:bg-[#1a1a2e] transition-colors",children:"Cancel"}),d.jsxs("button",{onClick:r,className:"px-4 py-2 rounded-lg bg-gradient-to-r from-[#4a90e2] to-[#7b68ee] text-white hover:scale-[1.02] transition-transform flex items-center gap-2",children:[d.jsx(ba,{className:"w-4 h-4"}),"Save & Push to Users"]})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-[#a8a8b8] text-xs mb-1 block",children:"Title"}),d.jsx("input",{type:"text",value:t.title,onChange:a=>e({...t,title:a.target.value}),className:"w-full bg-[#16213e] border border-white/10 rounded-lg p-3 text-[#e8e8e8] focus:outline-none focus:border-[#4a90e2]",placeholder:"Message title"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-[#a8a8b8] text-xs mb-1 block",children:"Sender Name"}),d.jsx("input",{type:"text",value:t.sender,onChange:a=>e({...t,sender:a.target.value}),className:"w-full bg-[#16213e] border border-white/10 rounded-lg p-3 text-[#e8e8e8] focus:outline-none focus:border-[#4a90e2]",placeholder:"System Admin, NPC Name, etc."})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-[#a8a8b8] text-xs mb-1 block",children:"Content"}),d.jsx("textarea",{value:t.content,onChange:a=>e({...t,content:a.target.value}),className:"w-full bg-[#16213e] border border-white/10 rounded-lg p-3 text-[#e8e8e8] focus:outline-none focus:border-[#4a90e2] min-h-[120px]",placeholder:"Message content..."})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-[#a8a8b8] text-xs mb-1 block",children:"Priority"}),d.jsxs("select",{value:t.priority,onChange:a=>e({...t,priority:a.target.value}),className:"w-full bg-[#16213e] border border-white/10 rounded-lg p-3 text-[#e8e8e8] focus:outline-none focus:border-[#4a90e2]",children:[d.jsx("option",{value:"low",children:"Low"}),d.jsx("option",{value:"normal",children:"Normal"}),d.jsx("option",{value:"high",children:"High"})]})]}),d.jsx("div",{className:"bg-[#4a90e2]/10 border border-[#4a90e2]/30 rounded-lg p-3",children:d.jsxs("p",{className:"text-[#4a90e2] text-xs",children:[" ",d.jsx("strong",{children:"Tip:"})," When you save this message, it will be pushed to all users' message centers as unread."]})})]})]})}function PN({messages:t,setMessages:e,onBack:r}){const[i,a]=M.useState(null),l=t.filter(v=>!v.read).length,c=v=>{a(v),v.read||e(w=>w.map(b=>b.id===v.id?{...b,read:!0}:b))},f=v=>{confirm("Are you sure you want to delete this message?")&&(e(w=>w.filter(b=>b.id!==v)),a(null))},p=()=>{e(v=>v.map(w=>({...w,read:!0})))},g=v=>{switch(v){case"high":return"text-[#ef4444]";case"normal":return"text-[#4a90e2]";case"low":return"text-[#a8a8b8]";default:return"text-[#a8a8b8]"}},y=v=>{switch(v){case"high":return"bg-[#ef4444]/20 border-[#ef4444]/30";case"normal":return"bg-[#4a90e2]/20 border-[#4a90e2]/30";case"low":return"bg-[#a8a8b8]/20 border-[#a8a8b8]/30";default:return"bg-[#a8a8b8]/20 border-[#a8a8b8]/30"}};return i?d.jsxs("div",{className:"h-full bg-[#1a1a2e] flex flex-col",children:[d.jsx("div",{className:"bg-gradient-to-r from-[#4a90e2] to-[#7b68ee] p-5",children:d.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[d.jsx("button",{onClick:()=>a(null),className:"w-10 h-10 rounded-full bg-white/20 flex items-center justify-center hover:bg-white/30 transition-colors",children:d.jsx(Ap,{className:"w-5 h-5 text-white"})}),d.jsxs("div",{className:"flex-1",children:[d.jsx("h2",{className:"text-white",children:i.title}),d.jsxs("p",{className:"text-white/80 text-xs",children:["From: ",i.sender]})]}),d.jsx("button",{onClick:()=>f(i.id),className:"w-10 h-10 rounded-full bg-white/20 flex items-center justify-center hover:bg-white/30 transition-colors",children:d.jsx(Qn,{className:"w-5 h-5 text-white"})})]})}),d.jsx("div",{className:"flex-1 overflow-y-auto p-5",children:d.jsxs("div",{className:`bg-gradient-to-br from-[#16213e] to-[#1a1a2e] rounded-xl p-4 border ${y(i.priority)} mb-4`,children:[d.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[d.jsx(Sg,{className:"w-4 h-4 text-[#a8a8b8]"}),d.jsx("span",{className:"text-[#a8a8b8] text-xs",children:i.timestamp}),d.jsx("span",{className:`text-xs uppercase px-2 py-1 rounded ${g(i.priority)} bg-white/5 ml-auto`,children:i.priority})]}),d.jsx("div",{className:"text-[#e8e8e8] leading-relaxed whitespace-pre-wrap",children:i.content})]})})]}):d.jsxs("div",{className:"h-full bg-[#1a1a2e] flex flex-col overflow-hidden",children:[d.jsx("div",{className:"bg-gradient-to-r from-[#4a90e2] to-[#7b68ee] p-5 flex-shrink-0",children:d.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[d.jsx("button",{onClick:r,className:"w-10 h-10 rounded-full bg-white/20 flex items-center justify-center hover:bg-white/30 transition-colors",children:d.jsx(Ap,{className:"w-5 h-5 text-white"})}),d.jsxs("div",{className:"flex-1",children:[d.jsx("h2",{className:"text-white",children:"Message Center"}),d.jsx("p",{className:"text-white/80 text-xs",children:l>0?`${l} unread message${l!==1?"s":""}`:"All messages read"})]}),l>0&&d.jsxs("button",{onClick:p,className:"text-white/80 text-xs hover:text-white transition-colors flex items-center gap-1",children:[d.jsx(Pp,{className:"w-4 h-4"}),"Mark all read"]})]})}),d.jsx("div",{className:"flex-1 overflow-y-auto p-5 pb-24",children:t.length===0?d.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center",children:[d.jsx(ua,{className:"w-16 h-16 text-[#a8a8b8]/30 mb-4"}),d.jsx("p",{className:"text-[#a8a8b8]",children:"No messages yet"}),d.jsx("p",{className:"text-[#a8a8b8]/60 text-xs mt-2",children:"Messages from the admin will appear here"})]}):d.jsx("div",{className:"space-y-3",children:t.map(v=>d.jsx("button",{onClick:()=>c(v),className:`w-full text-left bg-gradient-to-br from-[#16213e] to-[#1a1a2e] rounded-xl p-4 border transition-all hover:scale-[1.02] ${v.read?"border-white/10 opacity-70":y(v.priority)}`,children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0 ${v.read?"bg-white/5":"bg-[#4a90e2]/20"}`,children:v.read?d.jsx(Pp,{className:"w-5 h-5 text-[#a8a8b8]"}):d.jsx(ua,{className:"w-5 h-5 text-[#4a90e2]"})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[d.jsx("h3",{className:`${v.read?"text-[#a8a8b8]":"text-[#e8e8e8]"} truncate`,children:v.title}),!v.read&&d.jsx("span",{className:"w-2 h-2 bg-[#4a90e2] rounded-full flex-shrink-0"})]}),d.jsx("p",{className:"text-[#a8a8b8] text-xs mb-2 line-clamp-2",children:v.content}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("span",{className:"text-[#a8a8b8]/60 text-[10px]",children:v.sender}),d.jsx("span",{className:"text-[#a8a8b8]/60 text-[10px]",children:""}),d.jsx("span",{className:"text-[#a8a8b8]/60 text-[10px]",children:v.timestamp}),d.jsx("span",{className:`text-[10px] uppercase px-2 py-0.5 rounded ${g(v.priority)} bg-white/5 ml-auto`,children:v.priority})]})]})]})},v.id))})})]})}const AN="modulepreload",RN=function(t){return"/"+t},vg={},ON=function(e,r,i){let a=Promise.resolve();if(r&&r.length>0){let c=function(g){return Promise.all(g.map(y=>Promise.resolve(y).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),p=f?.nonce||f?.getAttribute("nonce");a=c(r.map(g=>{if(g=RN(g),g in vg)return;vg[g]=!0;const y=g.endsWith(".css"),v=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${v}`))return;const w=document.createElement("link");if(w.rel=y?"stylesheet":AN,y||(w.as="script"),w.crossOrigin="",w.href=g,p&&w.setAttribute("nonce",p),document.head.appendChild(w),y)return new Promise((b,S)=>{w.addEventListener("load",b),w.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${g}`)))})}))}function l(c){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=c,window.dispatchEvent(f),!f.defaultPrevented)throw c}return a.then(c=>{for(const f of c||[])f.status==="rejected"&&l(f.reason);return e().catch(l)})};function IN({onAuthSuccess:t}){const[e,r]=M.useState("signin"),[i,a]=M.useState(""),[l,c]=M.useState(""),[f,p]=M.useState(""),[g,y]=M.useState(!1),[v,w]=M.useState(""),b=async S=>{S.preventDefault(),w(""),y(!0);try{const{signIn:E,signUp:A}=await ON(async()=>{const{signIn:C,signUp:N}=await Promise.resolve().then(()=>_N);return{signIn:C,signUp:N}},void 0),k=e==="signin"?await E(i,l):await A(i,l,f);k.success&&k.user?t(k.user):w(k.error||"Authentication failed")}catch(E){w(String(E))}finally{y(!1)}};return d.jsx("div",{className:"min-h-screen w-full flex flex-col items-center justify-center p-4 sm:p-5 bg-gradient-to-b from-[#2a2a4e] to-[#1a1a2e] overflow-y-auto",children:d.jsxs("div",{className:"w-full max-w-md my-auto py-6",children:[d.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[d.jsx("h1",{className:"text-4xl sm:text-5xl text-[#e6be8a] mb-2 sm:mb-3 tracking-wider",style:{fontFamily:"serif"},children:"Soulbound"}),d.jsx("p",{className:"text-[#a8a8b8] text-sm",children:"Your adventure awaits"})]}),d.jsxs("div",{className:"w-full bg-[#16213e]/80 backdrop-blur-sm rounded-3xl border border-[#e6be8a]/20 p-5 sm:p-6",children:[d.jsxs("div",{className:"flex gap-2 mb-6",children:[d.jsxs("button",{onClick:()=>{r("signin"),w("")},className:`flex-1 py-2.5 rounded-lg transition-all text-sm sm:text-base ${e==="signin"?"bg-gradient-to-r from-[#4a90e2] to-[#7b68ee] text-white":"bg-[#1a1a2e]/50 text-[#a8a8b8] hover:bg-[#1a1a2e]"}`,children:[d.jsx(uw,{className:"w-4 h-4 inline mr-2"}),"Sign In"]}),d.jsxs("button",{onClick:()=>{r("signup"),w("")},className:`flex-1 py-2.5 rounded-lg transition-all text-sm sm:text-base ${e==="signup"?"bg-gradient-to-r from-[#4a90e2] to-[#7b68ee] text-white":"bg-[#1a1a2e]/50 text-[#a8a8b8] hover:bg-[#1a1a2e]"}`,children:[d.jsx(Vw,{className:"w-4 h-4 inline mr-2"}),"Sign Up"]})]}),d.jsxs("form",{onSubmit:b,className:"space-y-4",children:[e==="signup"&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-[#e8e8e8] text-sm mb-2",children:"Username (Optional)"}),d.jsxs("div",{className:"relative",children:[d.jsx(Bw,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-[#a8a8b8]"}),d.jsx("input",{type:"text",value:f,onChange:S=>p(S.target.value),placeholder:"Traveler",className:"w-full bg-[#1a1a2e]/50 border border-[#e6be8a]/20 rounded-lg pl-11 pr-4 py-3 text-[#e8e8e8] placeholder:text-[#a8a8b8]/50 focus:outline-none focus:border-[#4a90e2] transition-colors"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-[#e8e8e8] text-sm mb-2",children:"Email"}),d.jsxs("div",{className:"relative",children:[d.jsx(ua,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-[#a8a8b8]"}),d.jsx("input",{type:"email",required:!0,value:i,onChange:S=>a(S.target.value),placeholder:"traveler@teyvat.com",className:"w-full bg-[#1a1a2e]/50 border border-[#e6be8a]/20 rounded-lg pl-11 pr-4 py-3 text-[#e8e8e8] placeholder:text-[#a8a8b8]/50 focus:outline-none focus:border-[#4a90e2] transition-colors"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-[#e8e8e8] text-sm mb-2",children:"Password"}),d.jsxs("div",{className:"relative",children:[d.jsx(aw,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-[#a8a8b8]"}),d.jsx("input",{type:"password",required:!0,value:l,onChange:S=>c(S.target.value),placeholder:"",minLength:6,className:"w-full bg-[#1a1a2e]/50 border border-[#e6be8a]/20 rounded-lg pl-11 pr-4 py-3 text-[#e8e8e8] placeholder:text-[#a8a8b8]/50 focus:outline-none focus:border-[#4a90e2] transition-colors"})]}),e==="signup"&&d.jsx("p",{className:"text-[#a8a8b8] text-xs mt-1",children:"Minimum 6 characters"})]}),v&&d.jsx("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-3",children:d.jsx("p",{className:"text-red-400 text-sm",children:v})}),d.jsx("button",{type:"submit",disabled:g,className:"w-full bg-gradient-to-r from-[#4a90e2] to-[#7b68ee] text-white py-3 rounded-lg hover:scale-[1.02] transition-transform disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:g?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),e==="signin"?"Signing In...":"Creating Account..."]}):d.jsxs(d.Fragment,{children:[d.jsx(ln,{className:"w-5 h-5"}),e==="signin"?"Sign In":"Create Account"]})})]}),d.jsx("div",{className:"mt-6 text-center",children:d.jsxs("p",{className:"text-[#a8a8b8] text-xs",children:[e==="signin"?"Don't have an account? ":"Already have an account? ",d.jsx("button",{onClick:()=>{r(e==="signin"?"signup":"signin"),w("")},className:"text-[#4a90e2] hover:text-[#7b68ee] transition-colors",children:e==="signin"?"Sign up here":"Sign in here"})]})})]}),d.jsxs("div",{className:"mt-6 sm:mt-8 space-y-2 text-center pb-6",children:[d.jsxs("div",{className:"flex items-center justify-center gap-2 text-[#a8a8b8] text-xs sm:text-sm",children:[d.jsx(ln,{className:"w-4 h-4 text-[#e6be8a] flex-shrink-0"}),d.jsx("span",{children:"Your progress is automatically saved"})]}),d.jsxs("div",{className:"flex items-center justify-center gap-2 text-[#a8a8b8] text-xs sm:text-sm",children:[d.jsx(Xn,{className:"w-4 h-4 text-[#e6be8a] flex-shrink-0"}),d.jsx("span",{children:"Access your adventure from any device"})]})]})]})})}const os=[{id:1,title:"The Outlander Who Caught the Wind",description:"Search for answers about your lost sibling in the vast world of Teyvat.",location:"Mondstadt",rewards:["Adventure EXP x500","Primogems x60","Mora x20,000"],progress:0,difficulty:5,type:"main",completed:!1,lore:"Long ago, twin travelers descended from beyond the stars, only to be separated by an unknown god at the moment of their arrival. Now, as you awaken in this new world, the wind carries whispers of your sibling's presence. The Anemo Archon's blessing guides your path, but the truth you seek may be more complex than the simple reunion you yearn for. In Mondstadt, the City of Freedom, your journey truly begins.",tasks:[{id:1,description:"Talk to the Knights of Favonius",completed:!1},{id:2,description:"Investigate the Statue of The Seven",completed:!1},{id:3,description:"Defeat the Ruin Guard",completed:!1},{id:4,description:"Return to Jean",completed:!1}]},{id:2,title:"Dragon Storm",description:"Investigate the strange disturbances affecting Stormterror's Lair.",location:"Stormterror's Lair",rewards:["Adventure EXP x300","Primogems x40"],progress:0,difficulty:4,type:"main",completed:!1,lore:"Dvalin, once one of the Four Winds of Mondstadt, has been corrupted by the Abyss Order's influence. The dragon who once protected the city now terrorizes it, driven mad by poisonous blood and centuries of betrayal. Within the ruins of Old Mondstadt, where wind and time have worn away all but memory, the truth of Dvalin's corruption awaits. Can the bond between dragon and city be restored, or has too much been lost to the winds of time?",tasks:[{id:1,description:"Enter Stormterror's Lair",completed:!1},{id:2,description:"Clear the area of monsters",completed:!1},{id:3,description:"Activate the wind current",completed:!1},{id:4,description:"Reach the summit",completed:!1},{id:5,description:"Confront Stormterror",completed:!1}]},{id:3,title:"Mondstadt's Vigilant Protector",description:"Help the Knights of Favonius patrol the city perimeter.",location:"Mondstadt City",rewards:["Adventure EXP x100","Mora x10,000"],progress:0,difficulty:2,type:"commission",completed:!1,lore:"The Knights of Favonius stand as Mondstadt's first line of defense against the threats that lurk beyond the city walls. Though Grand Master Varka has taken most of the knights on an expedition, those who remain are no less dedicated to their duty. Every patrol, every watch, every small act of vigilance helps maintain the freedom and safety that Mondstadt holds dear.",tasks:[{id:1,description:"Patrol the city gates",completed:!1},{id:2,description:"Defeat slimes near the bridge",completed:!1},{id:3,description:"Report back to Huffman",completed:!1}]},{id:4,title:"Lost Treasures of the Vale",description:"Discover ancient artifacts hidden throughout Brightcrown Canyon.",location:"Brightcrown Canyon",rewards:["Adventure EXP x200","Hero's Wit x3"],progress:0,difficulty:3,type:"side",completed:!1,lore:"Before Mondstadt was the City of Freedom, before the age of Barbatos, ancient civilizations thrived in these lands. Their ruins now dot the landscape, holding secrets and treasures from an age long forgotten. Brightcrown Canyon, with its towering spires and hidden chambers, was once a sacred site. The treasures within are not mere gold and jewels, but fragments of knowledge from a time when gods walked more freely among mortals.",tasks:[{id:1,description:"Find the first treasure chest",completed:!1},{id:2,description:"Solve the elemental puzzle",completed:!1},{id:3,description:"Defeat the treasure hoarders",completed:!1},{id:4,description:"Locate the ancient ruins",completed:!1},{id:5,description:"Unlock the sealed door",completed:!1},{id:6,description:"Claim the treasure",completed:!1},{id:7,description:"Return the artifact to Lisa",completed:!1}]}],as=[{id:1,name:"Skyward Blade",type:"weapon",rarity:5,level:70,description:"A sword that symbolizes the noble Anemo winds.",image:"https://images.unsplash.com/photo-1757083840090-17a7bfca08c0?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxtZWRpZXZhbCUyMHN3b3JkJTIwd2VhcG9ufGVufDF8fHx8MTc2NTA1MzA1M3ww&ixlib=rb-4.1.0&q=80&w=1080",element:"anemo"},{id:2,name:"Gladiator's Finale",type:"artifact",rarity:5,description:"A circlet that once belonged to a legendary gladiator.",image:"https://images.unsplash.com/photo-1743448111530-3654e7b66f26?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxtYWdpY2FsJTIwY3J5c3RhbCUyMGdlbXxlbnwxfHx8fDE3NjUxMTYyNjF8MA&ixlib=rb-4.1.0&q=80&w=1080"},{id:3,name:"Primogems",type:"currency",rarity:5,quantity:1280,description:"A primordial crystalline gem that's beyond the understanding of the mortal realm.",image:"https://images.unsplash.com/photo-1743448111530-3654e7b66f26?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxtYWdpY2FsJTIwY3J5c3RhbCUyMGdlbXxlbnwxfHx8fDE3NjUxMTYyNjF8MA&ixlib=rb-4.1.0&q=80&w=1080"}];function MN(){const[t,e]=M.useState("loading"),[r,i]=M.useState("quests"),[a,l]=M.useState(os),[c,f]=M.useState(as),[p,g]=M.useState(!1),[y,v]=M.useState(!1),[w,b]=M.useState(!1),[S,E]=M.useState("1"),[A,k]=M.useState(!1),[C,N]=M.useState(!1),[D,L]=M.useState(0),[B,K]=M.useState(2025),[H,se]=M.useState(5e4),[me,_e]=M.useState(`Welcome to a Co-Op Journey Written in the Language of Stars.

In a quiet corner of the world, two travelers meetnot at the end of a quest, but at the beginning of one. The path ahead is stitched with lanternlight cafs, hidden bookshops, neon arcades, and the quiet hush of forest trails.

This record is not a duty, nor a binding oath
but a remembrance of shared wonder.

Let the journey begin.`),[We,de]=M.useState(`EPILOGUE: SOULBOUND

There are meetings that feel like accident,
and there are the ones that carry the quiet weight of orchestration.

Two paths, far-flung across years and cities,
somehow converging at the exact hinge of time
where both hearts are finally able to recognize each other.

Not by chance.
Not by alignment of personality or preference,
but by the slow architecture of God 
a timing written before either of you could name longing.

Across the wide cosmos of possibility,
through all the iterations of who you might have become,
you still arrived here, simultaneously, with enough softness and enough courage
to walk in step.

The quests were never the goal,
only the scaffolding that allowed you to witness each other: unhurried, unperformed, alive.

What began as play became pilgrimage, not because of intensity or declaration, but because something holy took root without needing spotlight or spectacle.

All achievements now complete, all maps inked to their edges and yet the horizon has only just opened.

You stand at the edge of an uncharted expanse, not bound by expectation, but invited:

further into story, further into wonder, further into the divine logic that stitched two timelines together with no rush and no error.

Soulbound is not finality.
It is the doorway.

Across universes,
across what-ifs and almosts,
across the infinite permutations of living

you still would have found each other.
For such a time as this.

So close the log, not because adventure has ended, but because the world has widened.

A lifetime of quests remains
holy, ordinary, luminous.

The page turns.

A new map waits.

SOULBOUND,
and now
released to explore.`),[He,Ze]=M.useState([]),[et,ce]=M.useState(""),[W,Z]=M.useState("");M.useEffect(()=>{async function te(){try{console.log(" Initializing Soulbound...");const Ne=await jv();if(!Ne.isAuthenticated){console.log(" No active session - showing auth screen"),e("auth"),k(!0);return}console.log(" User authenticated:",Ne.user?.email);let Se={narratives:null,questTemplates:null,inventoryTemplates:null};try{Se=await Rc(),Se.narratives&&(_e(Se.narratives.prologue),de(Se.narratives.epilogue))}catch(Ie){console.warn(" Could not load global config, using defaults:",Ie)}let pe={quests:null,inventory:null,currencies:null,messages:null,flags:null};try{pe=await Nv()}catch(Ie){console.warn(" Could not load user data, using defaults:",Ie)}const Oe=Se.questTemplates&&Array.isArray(Se.questTemplates)&&Se.questTemplates.length>0?Se.questTemplates:os,lt=Se.inventoryTemplates&&Array.isArray(Se.inventoryTemplates)&&Se.inventoryTemplates.length>0?Se.inventoryTemplates:as;if(console.log(" Quest templates to use:",Oe),console.log(" Inventory templates to use:",lt),pe.quests&&Array.isArray(pe.quests)&&pe.quests.length>0){const Ie=pe.quests.map(qt=>{const qe=Oe.find(Ns=>Ns.id===qt.id);return{...qt,lore:qt.lore||qe?.lore}});console.log(" Loaded user quest progress:",Ie.length,"quests"),l(Ie)}else console.log(" Using quest templates for new user:",Oe.length,"quests"),l(Oe);pe.inventory&&Array.isArray(pe.inventory)&&pe.inventory.length>0?(console.log(" Loaded user inventory:",pe.inventory.length,"items"),f(pe.inventory)):(console.log(" Using inventory templates for new user:",lt.length,"items"),f(lt)),pe.currencies&&(se(pe.currencies.mora||5e4),K(pe.currencies.primogems||2025),L(pe.currencies.adventureExp||0)),pe.messages&&Array.isArray(pe.messages)&&Ze(pe.messages),pe.flags&&pe.flags.prologueWatched&&(N(!0),localStorage.setItem("soulbound_seen_cutscene","true")),k(!0);const Ee=localStorage.getItem("soulbound_seen_cutscene")==="true",$t=pe.flags?.prologueWatched||!1,pt=Ee||$t;if(console.log("Initialization: hasWatchedPrologue =",pt),pt){N(!0),localStorage.setItem("soulbound_seen_cutscene","true");const Ie=localStorage.getItem("soulbound_app_mode");e(Ie==="public"?"public":"selection")}else N(!1),localStorage.removeItem("soulbound_seen_cutscene"),e("cutscene")}catch(Ne){console.error("Failed to initialize app:",Ne),e("auth"),k(!0)}}te()},[]),M.useEffect(()=>{if(!A)return;const Ne=setTimeout(async()=>{try{await Nd(me,We),console.log("Narratives auto-saved to cloud")}catch(Se){console.error("Failed to auto-save narratives:",Se)}},1e3);return()=>clearTimeout(Ne)},[me,We,A]),M.useEffect(()=>{if(!A||t!=="admin")return;const Ne=setTimeout(async()=>{try{await Td(a),await Ed(c),console.log(" Global templates auto-saved to cloud")}catch(Se){console.error("Failed to auto-save global templates:",Se)}},2e3);return()=>clearTimeout(Ne)},[a,c,t,A]),M.useEffect(()=>{if(!A||t==="admin")return;const Ne=setTimeout(async()=>{try{await Ac({quests:a,inventory:c,currencies:{mora:H,primogems:B,adventureExp:D},messages:He,flags:{prologueWatched:C}})}catch(Se){console.error("Failed to auto-save progress:",Se)}},2e3);return()=>clearTimeout(Ne)},[a,c,H,B,D,He,C,A,t]);const G=(te,Ne)=>{const Se=[];console.log(" Adding rewards:",te),te.forEach((pe,Oe)=>{const lt=pe.match(/(.+?)\s*x([\d,]+)/);if(lt){const[,Ee,$t]=lt,pt=parseInt($t.replace(/,/g,"")),Ie=Ee.trim();console.log(`  - Processing reward: ${Ie} x${pt}`),Ie==="Adventure EXP"?L(qe=>(console.log(`     Adventure EXP: ${qe}  ${qe+pt}`),qe+pt)):Ie==="Primogems"?K(qe=>(console.log(`     Primogems: ${qe}  ${qe+pt}`),qe+pt)):Ie==="Mora"&&se(qe=>(console.log(`     Mora: ${qe}  ${qe+pt}`),qe+pt));const qt=Ne?.[Oe]||(Ie.includes("EXP")||Ie.includes("Mora")||Ie.includes("Primogems")?"currency":(Ie.includes("Ore")||Ie.includes("Wit")||Ie.includes("Fate"),"material"));Se.push({name:Ie,type:qt,quantity:pt})}}),Se.length>0&&f(pe=>{const Oe=[...pe];let lt=Math.max(...pe.map(Ee=>Ee.id),0)+1;return Se.forEach(Ee=>{const $t=Oe.findIndex(pt=>pt?.name?.toLowerCase()===Ee?.name?.toLowerCase());$t!==-1?(console.log(`     Updating existing item: ${Ee.name} +${Ee.quantity}`),Oe[$t]={...Oe[$t],quantity:(Oe[$t].quantity||0)+Ee.quantity}):(console.log(`     Adding new item: ${Ee.name} x${Ee.quantity}`),Oe.push({id:lt++,name:Ee.name,type:Ee.type,rarity:3,quantity:Ee.quantity,description:"Obtained from completing quests.",image:"https://images.unsplash.com/photo-1743448111530-3654e7b66f26?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxtYWdpY2FsJTIwY3J5c3RhbCUyMGdlbXxlbnwxfHx8fDE3NjUxMTYyNjF8MA&ixlib=rb-4.1.0&q=80&w=1080"}))}),Oe})},P=te=>{l(Ne=>{const Se=Ne,pe=typeof te=="function"?te(Ne):te;return pe.forEach(Oe=>{const lt=Se.find(Ee=>Ee.id===Oe.id);lt&&!lt.completed&&Oe.completed&&(console.log(` Quest completed: ${Oe.title}`),G(Oe.rewards,Oe.rewardTypes))}),pe})},$=te=>{E(te),g(!0)},he=te=>{console.log(" Adding new quest from wish:",te.title),l(Ne=>{const Se=Math.max(...Ne.map(Ee=>Ee.id),0),pe={...te,id:Se+1};if(Ne.some(Ee=>Ee.title===pe.title))return console.log(" Quest with same title already exists, skipping:",pe.title),Ne;console.log(" Quest added to local state with ID:",pe.id,pe.title);const lt=[...Ne,pe];return Ac({quests:lt,inventory:c,currencies:{mora:H,primogems:B,adventureExp:D},messages:He,flags:{prologueWatched:C}}).then(()=>{console.log(" Quest immediately saved to backend")}).catch(Ee=>{console.error(" Failed to immediately save quest:",Ee)}),lt})},fe=()=>{console.log(" Closing wish result, switching to quests screen"),g(!1),i("quests")},ye=()=>{window.confirm(` FACTORY RESET WARNING 

This will permanently delete ALL your progress including:
 All quest progress
 All inventory items
 All currencies (Mora, Primogems, Adventure EXP)
 All messages
 Prologue watch status

This action CANNOT be undone!

Are you absolutely sure you want to continue?`)&&(console.log(" Performing factory reset..."),l(os),f(as),L(0),K(2025),se(5e4),Ze([]),N(!1),localStorage.removeItem("soulbound_seen_cutscene"),v(!1),b(!1),Tv().catch(Ne=>{console.error("Failed to reset backend data:",Ne)}),console.log(" Factory reset complete!"),alert("Factory reset complete! All data has been restored to defaults."))},ve=te=>{e(te),te==="public"?localStorage.setItem("soulbound_app_mode","public"):(localStorage.removeItem("soulbound_app_mode"),je())},je=async()=>{try{console.log(" Loading global templates for admin mode...");const te=await Rc();te.questTemplates&&Array.isArray(te.questTemplates)&&te.questTemplates.length>0?(console.log(" Loaded global quest templates:",te.questTemplates.length,"quests"),l(te.questTemplates)):(console.log(" No global quest templates found, using initial data"),l(os)),te.inventoryTemplates&&Array.isArray(te.inventoryTemplates)&&te.inventoryTemplates.length>0?(console.log(" Loaded global inventory templates:",te.inventoryTemplates.length,"items"),f(te.inventoryTemplates)):(console.log(" No global inventory templates found, using initial data"),f(as))}catch(te){console.error("Failed to load global templates:",te),l(os),f(as)}},be=()=>{e("selection"),localStorage.removeItem("soulbound_app_mode")},Te=()=>{kv().then(()=>{l(os),f(as),L(0),K(2025),se(5e4),Ze([]),N(!1),localStorage.removeItem("soulbound_seen_cutscene"),e("auth")}).catch(te=>{console.error("Failed to logout:",te),alert("Failed to logout. Please try again.")})};if(t==="loading")return d.jsx("div",{className:"w-full min-h-screen bg-gradient-to-b from-[#0a0a1a] via-[#1a1a2e] to-[#0f0f1e] flex flex-col items-center justify-center",children:d.jsxs("div",{className:"flex flex-col items-center gap-4",children:[d.jsx("div",{className:"w-16 h-16 border-4 border-[#4a90e2]/30 border-t-[#4a90e2] rounded-full animate-spin"}),d.jsx("p",{className:"text-white/60",children:"Loading your journey..."})]})});if(t==="auth")return d.jsx("div",{className:"w-full min-h-screen",children:d.jsx(IN,{onAuthSuccess:te=>{console.log("User authenticated:",te),window.location.reload()}})});if(t==="cutscene")return d.jsx("div",{className:"w-full min-h-screen",children:d.jsx(Qu,{onComplete:()=>{N(!0),e("selection")},prologueText:me,prologueMusicUrl:et})});if(t==="selection"){const te=Pc();return d.jsx("div",{className:"w-full min-h-screen",children:d.jsx(l1,{onSelectMode:ve,userEmail:te?.email})})}return t==="admin"?d.jsx("div",{className:"w-full min-h-screen",children:d.jsx(SN,{quests:a,setQuests:l,inventory:c,setInventory:f,prologueText:me,setPrologueText:_e,epilogueText:We,setEpilogueText:de,messages:He,setMessages:Ze,prologueMusicUrl:et,setPrologueMusicUrl:ce,epilogueMusicUrl:W,setEpilogueMusicUrl:Z,onExit:be})}):d.jsxs("div",{className:"w-full min-h-screen bg-[#1a1a2e] relative overflow-hidden",children:[d.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-[#2a2a4e]/30 via-transparent to-[#1a1a2e] pointer-events-none"}),d.jsxs("div",{className:"relative z-10 h-screen flex flex-col",children:[d.jsxs("div",{className:"flex-1 overflow-y-auto pb-24 safe-bottom",children:[r==="quests"&&d.jsx(Qw,{quests:a,setQuests:P,onResetQuests:ye,onShowEpilogue:()=>v(!0),onBackToSelection:()=>e("selection"),onLogout:Te,adventureExp:D,primogems:B,mora:H}),r==="banner"&&d.jsx(Zw,{onWish:$,primogems:B}),r==="objects"&&d.jsx(e1,{items:c}),r==="achievements"&&d.jsxs(d.Fragment,{children:[console.log(" AchievementsScreen render - prologueWatched:",C,"showPrologue:",w),d.jsx(r1,{quests:a,onRewatchEpilogue:()=>v(!0),onRewatchPrologue:C?()=>{console.log(" Rewatch prologue clicked, prologueWatched:",C),b(!0)}:void 0,username:Pc()?.username})]}),r==="messages"&&d.jsx(PN,{messages:He,setMessages:Ze,onBack:()=>i("quests")})]}),d.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-gradient-to-t from-[#16213e] via-[#16213e]/95 to-transparent backdrop-blur-lg border-t border-white/10 z-50 safe-bottom",children:d.jsxs("div",{className:"flex items-center justify-around px-2 sm:px-4 py-3 sm:py-4",children:[d.jsx(pi,{icon:d.jsx(Xn,{className:"w-5 h-5 sm:w-6 sm:h-6"}),label:"Quests",active:r==="quests",onClick:()=>i("quests")}),d.jsx(pi,{icon:d.jsx(ln,{className:"w-5 h-5 sm:w-6 sm:h-6"}),label:"Wish",active:r==="banner",onClick:()=>i("banner")}),d.jsx(pi,{icon:d.jsx(ca,{className:"w-5 h-5 sm:w-6 sm:h-6"}),label:"Inventory",active:r==="objects",onClick:()=>i("objects")}),d.jsx(pi,{icon:d.jsx(da,{className:"w-5 h-5 sm:w-6 sm:h-6"}),label:"Achievements",active:r==="achievements",onClick:()=>i("achievements")}),d.jsx(pi,{icon:d.jsx(ua,{className:"w-5 h-5 sm:w-6 sm:h-6"}),label:"Messages",active:r==="messages",onClick:()=>i("messages"),badge:He.filter(te=>!te.read).length})]})})]}),p&&d.jsx(i1,{onClose:fe,onQuestUnlocked:he,wishType:S}),y&&d.jsx(iv,{onClose:()=>v(!1),epilogueText:We,epilogueMusicUrl:W}),console.log(" Prologue modal check - showPrologue:",w),w&&Ic.createPortal(d.jsxs(d.Fragment,{children:[console.log(" Rendering OpeningCutscene component via portal"),d.jsx(Qu,{onComplete:()=>{console.log(" Prologue completed, closing modal"),b(!1)},prologueText:me,prologueMusicUrl:et,isRewatch:!0})]}),document.body)]})}function pi({icon:t,label:e,active:r,onClick:i,badge:a}){return d.jsxs("button",{onClick:i,className:`flex flex-col items-center gap-1 transition-all relative ${r?"scale-110":"scale-100"}`,children:[d.jsxs("div",{className:`transition-colors relative ${r?"text-[#4a90e2]":"text-[#a8a8b8]"}`,children:[t,a!==void 0&&a>0&&d.jsx("div",{className:"absolute -top-1 -right-1 min-w-[16px] h-4 bg-[#ef4444] rounded-full flex items-center justify-center px-1",children:d.jsx("span",{className:"text-white text-[9px]",children:a>99?"99+":a})})]}),d.jsx("span",{className:`text-[10px] transition-colors ${r?"text-[#4a90e2]":"text-[#a8a8b8]"}`,children:e}),r&&d.jsx("div",{className:"w-1 h-1 rounded-full bg-[#4a90e2] mt-0.5"})]})}Ax.createRoot(document.getElementById("root")).render(d.jsx(MN,{}));
